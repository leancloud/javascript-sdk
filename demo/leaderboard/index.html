<!doctype html>
<html>

<head>
  <title>LeanCloud Leaderboard Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
  <link rel="stylesheet" href="//unpkg.com/@leancloud/styles@^1/styles/font.css">
  <link rel="stylesheet" href="./leaderboard.css">
</head>

<body>
  <div id="app" v-cloak>
    <div id="overlay" class="center" v-if="!user.username">
      <form action="#" id="login" v-on:submit.prevent="login">
        <input v-model="username" autofocus required placeholder="ç”¨æˆ·åï¼ˆå°†ä¼šæ˜¾ç¤ºåœ¨æ’è¡Œæ¦œä¸Šï¼‰">
        <input type="password" v-model="password" required placeholder="å¯†ç ">
        <div class="control">
          <input type="submit" value="ç™»å½•" id="login-button">&nbsp;
          <input type="button" @click="signup" value="æ³¨å†Œ">
        </div>
      </form>
    </div>
    <div class="center" id="dice-wrapper" v-if="user.username">
      <div class="dice" :class="{ 'animated wobble': rolling }" @click="roll">
        <transition :duration="1000" enter-active-class="animated fadeIn" leave-active-class="animated fadeOut">
          <span class="score" v-show="!rolling">{{ score || 'ğŸ²' }}</span>
        </transition>
        <transition :duration="1000" enter-active-class="animated fadeIn" leave-active-class="animated fadeOut">
          <span class="new-high-score" v-show="newHighScore">æ–°çºªå½•</span>
        </transition>
      </div>
    </div>
    <transition-group name="ranking-list" class="ranking-list" tag="ul">
      <li v-for="ranking in rankings" class="ranking" :key="ranking.user.username" :class="{ completed: ranking.done }">
        <span>{{ranking.rank + 1}}.&nbsp;</span>
        <span class="username">{{ranking.user.username}}
          <span v-if="ranking.user.username == user.username">ï¼ˆä½ ï¼‰</span>
        </span>
        <span class="score">
          <animated-integer :value="ranking.value"></animated-integer>
        </span>
      </li>
    </transition-group>

    <div class="operations">
      <div v-if="nextResetAt">ä¸‹æ¬¡é‡ç½®æ—¶é—´ï¼š{{ nextResetAt }}
        <span @click="fetchResults">âŸ³</span>
        </span>
      </div>
      <div>
        Powered by <a href="https://leancloud.cn" target="_blank">LeanCloud</a>
        <span class="separator">â€¢</span>
        <a href="https://github.com/leancloud/javascript-sdk/blob/master/demo/leaderboard/">æºç </a>
        <span v-if="user.username">
          <span class="separator">â€¢</span>{{user.username}}ï¼ˆ<a href="javascript:" @click='logout'>æ³¨é”€</a>ï¼‰</span>
      </div>
    </div>

  </div>
  <script src="//unpkg.com/vue/dist/vue.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/tween.js/17.2.0/Tween.min.js"></script>
  <script src="../../dist/av-min.js"></script>
  <script src="./leaderboard.js"></script>
</body>

</html>
