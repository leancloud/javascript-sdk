!(function (e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? t(exports)
    : 'function' == typeof define && define.amd
    ? define(['exports'], t)
    : t(((e = 'undefined' != typeof globalThis ? globalThis : e || self).LiveQuery = {}));
})(this, function (e) {
  'use strict';
  /*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */ var t = function (
    e,
    n
  ) {
    return (t =
      Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array &&
        function (e, t) {
          e.__proto__ = t;
        }) ||
      function (e, t) {
        for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
      })(e, n);
  };
  var n = function () {
    return (n =
      Object.assign ||
      function (e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
          for (var i in (t = arguments[n]))
            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
        return e;
      }).apply(this, arguments);
  };
  function r(e, t, n, r) {
    return new (n || (n = Promise))(function (i, o) {
      function s(e) {
        try {
          u(r.next(e));
        } catch (e) {
          o(e);
        }
      }
      function a(e) {
        try {
          u(r.throw(e));
        } catch (e) {
          o(e);
        }
      }
      function u(e) {
        var t;
        e.done
          ? i(e.value)
          : ((t = e.value),
            t instanceof n
              ? t
              : new n(function (e) {
                  e(t);
                })).then(s, a);
      }
      u((r = r.apply(e, t || [])).next());
    });
  }
  function i(e, t) {
    var n,
      r,
      i,
      o,
      s = {
        label: 0,
        sent: function () {
          if (1 & i[0]) throw i[1];
          return i[1];
        },
        trys: [],
        ops: [],
      };
    return (
      (o = { next: a(0), throw: a(1), return: a(2) }),
      'function' == typeof Symbol &&
        (o[Symbol.iterator] = function () {
          return this;
        }),
      o
    );
    function a(o) {
      return function (a) {
        return (function (o) {
          if (n) throw new TypeError('Generator is already executing.');
          for (; s; )
            try {
              if (
                ((n = 1),
                r &&
                  (i =
                    2 & o[0]
                      ? r.return
                      : o[0]
                      ? r.throw || ((i = r.return) && i.call(r), 0)
                      : r.next) &&
                  !(i = i.call(r, o[1])).done)
              )
                return i;
              switch (((r = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                case 0:
                case 1:
                  i = o;
                  break;
                case 4:
                  return s.label++, { value: o[1], done: !1 };
                case 5:
                  s.label++, (r = o[1]), (o = [0]);
                  continue;
                case 7:
                  (o = s.ops.pop()), s.trys.pop();
                  continue;
                default:
                  if (
                    !((i = s.trys),
                    (i = i.length > 0 && i[i.length - 1]) || (6 !== o[0] && 2 !== o[0]))
                  ) {
                    s = 0;
                    continue;
                  }
                  if (3 === o[0] && (!i || (o[1] > i[0] && o[1] < i[3]))) {
                    s.label = o[1];
                    break;
                  }
                  if (6 === o[0] && s.label < i[1]) {
                    (s.label = i[1]), (i = o);
                    break;
                  }
                  if (i && s.label < i[2]) {
                    (s.label = i[2]), s.ops.push(o);
                    break;
                  }
                  i[2] && s.ops.pop(), s.trys.pop();
                  continue;
              }
              o = t.call(e, s);
            } catch (e) {
              (o = [6, e]), (r = 0);
            } finally {
              n = i = 0;
            }
          if (5 & o[0]) throw o[1];
          return { value: o[0] ? o[1] : void 0, done: !0 };
        })([o, a]);
      };
    }
  }
  var o =
    'undefined' != typeof globalThis
      ? globalThis
      : 'undefined' != typeof window
      ? window
      : 'undefined' != typeof global
      ? global
      : 'undefined' != typeof self
      ? self
      : {};
  function s(e, t, n) {
    return (
      e(
        (n = {
          path: t,
          exports: {},
          require: function (e, t) {
            return u(null == t && n.path);
          },
        }),
        n.exports
      ),
      n.exports
    );
  }
  function a(e) {
    if (e.__esModule) return e;
    var t = Object.defineProperty({}, '__esModule', { value: !0 });
    return (
      Object.keys(e).forEach(function (n) {
        var r = Object.getOwnPropertyDescriptor(e, n);
        Object.defineProperty(
          t,
          n,
          r.get
            ? r
            : {
                enumerable: !0,
                get: function () {
                  return e[n];
                },
              }
        );
      }),
      t
    );
  }
  function u() {
    throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');
  }
  var f = Math.ceil,
    l = Math.floor,
    c = function (e) {
      return isNaN((e = +e)) ? 0 : (e > 0 ? l : f)(e);
    },
    h = function (e) {
      if (null == e) throw TypeError("Can't call method on  " + e);
      return e;
    },
    p = s(function (e) {
      var t = (e.exports =
        'undefined' != typeof window && window.Math == Math
          ? window
          : 'undefined' != typeof self && self.Math == Math
          ? self
          : Function('return this')());
      'number' == typeof __g && (__g = t);
    }),
    d = s(function (e) {
      var t = (e.exports = { version: '2.6.11' });
      'number' == typeof __e && (__e = t);
    }),
    m = function (e) {
      if ('function' != typeof e) throw TypeError(e + ' is not a function!');
      return e;
    },
    y = function (e, t, n) {
      if ((m(e), void 0 === t)) return e;
      switch (n) {
        case 1:
          return function (n) {
            return e.call(t, n);
          };
        case 2:
          return function (n, r) {
            return e.call(t, n, r);
          };
        case 3:
          return function (n, r, i) {
            return e.call(t, n, r, i);
          };
      }
      return function () {
        return e.apply(t, arguments);
      };
    },
    g = function (e) {
      return 'object' == typeof e ? null !== e : 'function' == typeof e;
    },
    v = function (e) {
      if (!g(e)) throw TypeError(e + ' is not an object!');
      return e;
    },
    b = function (e) {
      try {
        return !!e();
      } catch (e) {
        return !0;
      }
    },
    w = !b(function () {
      return (
        7 !=
        Object.defineProperty({}, 'a', {
          get: function () {
            return 7;
          },
        }).a
      );
    }),
    E = p.document,
    T = g(E) && g(E.createElement),
    _ = function (e) {
      return T ? E.createElement(e) : {};
    },
    S =
      !w &&
      !b(function () {
        return (
          7 !=
          Object.defineProperty(_('div'), 'a', {
            get: function () {
              return 7;
            },
          }).a
        );
      }),
    I = function (e, t) {
      if (!g(e)) return e;
      var n, r;
      if (t && 'function' == typeof (n = e.toString) && !g((r = n.call(e)))) return r;
      if ('function' == typeof (n = e.valueOf) && !g((r = n.call(e)))) return r;
      if (!t && 'function' == typeof (n = e.toString) && !g((r = n.call(e)))) return r;
      throw TypeError("Can't convert object to primitive value");
    },
    O = Object.defineProperty,
    C = {
      f: w
        ? Object.defineProperty
        : function (e, t, n) {
            if ((v(e), (t = I(t, !0)), v(n), S))
              try {
                return O(e, t, n);
              } catch (e) {}
            if ('get' in n || 'set' in n) throw TypeError('Accessors not supported!');
            return 'value' in n && (e[t] = n.value), e;
          },
    },
    A = function (e, t) {
      return { enumerable: !(1 & e), configurable: !(2 & e), writable: !(4 & e), value: t };
    },
    L = w
      ? function (e, t, n) {
          return C.f(e, t, A(1, n));
        }
      : function (e, t, n) {
          return (e[t] = n), e;
        },
    P = {}.hasOwnProperty,
    R = function (e, t) {
      return P.call(e, t);
    },
    N = function (e, t, n) {
      var r,
        i,
        o,
        s = e & N.F,
        a = e & N.G,
        u = e & N.S,
        f = e & N.P,
        l = e & N.B,
        c = e & N.W,
        h = a ? d : d[t] || (d[t] = {}),
        m = h.prototype,
        g = a ? p : u ? p[t] : (p[t] || {}).prototype;
      for (r in (a && (n = t), n))
        ((i = !s && g && void 0 !== g[r]) && R(h, r)) ||
          ((o = i ? g[r] : n[r]),
          (h[r] =
            a && 'function' != typeof g[r]
              ? n[r]
              : l && i
              ? y(o, p)
              : c && g[r] == o
              ? (function (e) {
                  var t = function (t, n, r) {
                    if (this instanceof e) {
                      switch (arguments.length) {
                        case 0:
                          return new e();
                        case 1:
                          return new e(t);
                        case 2:
                          return new e(t, n);
                      }
                      return new e(t, n, r);
                    }
                    return e.apply(this, arguments);
                  };
                  return (t.prototype = e.prototype), t;
                })(o)
              : f && 'function' == typeof o
              ? y(Function.call, o)
              : o),
          f && (((h.virtual || (h.virtual = {}))[r] = o), e & N.R && m && !m[r] && L(m, r, o)));
    };
  (N.F = 1), (N.G = 2), (N.S = 4), (N.P = 8), (N.B = 16), (N.W = 32), (N.U = 64), (N.R = 128);
  var x,
    k = N,
    j = L,
    M = {},
    F = {}.toString,
    U = function (e) {
      return F.call(e).slice(8, -1);
    },
    Y = Object('z').propertyIsEnumerable(0)
      ? Object
      : function (e) {
          return 'String' == U(e) ? e.split('') : Object(e);
        },
    V = function (e) {
      return Y(h(e));
    },
    D = Math.min,
    B = function (e) {
      return e > 0 ? D(c(e), 9007199254740991) : 0;
    },
    q = Math.max,
    z = Math.min,
    W = s(function (e) {
      var t = '__core-js_shared__',
        n = p[t] || (p[t] = {});
      (e.exports = function (e, t) {
        return n[e] || (n[e] = void 0 !== t ? t : {});
      })('versions', []).push({
        version: d.version,
        mode: 'pure',
        copyright: 'Â© 2019 Denis Pushkarev (zloirock.ru)',
      });
    }),
    G = 0,
    Z = Math.random(),
    $ = function (e) {
      return 'Symbol('.concat(void 0 === e ? '' : e, ')_', (++G + Z).toString(36));
    },
    J = W('keys'),
    K = function (e) {
      return J[e] || (J[e] = $(e));
    },
    Q =
      ((x = !1),
      function (e, t, n) {
        var r,
          i = V(e),
          o = B(i.length),
          s = (function (e, t) {
            return (e = c(e)) < 0 ? q(e + t, 0) : z(e, t);
          })(n, o);
        if (x && t != t) {
          for (; o > s; ) if ((r = i[s++]) != r) return !0;
        } else for (; o > s; s++) if ((x || s in i) && i[s] === t) return x || s || 0;
        return !x && -1;
      }),
    X = K('IE_PROTO'),
    H = function (e, t) {
      var n,
        r = V(e),
        i = 0,
        o = [];
      for (n in r) n != X && R(r, n) && o.push(n);
      for (; t.length > i; ) R(r, (n = t[i++])) && (~Q(o, n) || o.push(n));
      return o;
    },
    ee = 'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(
      ','
    ),
    te =
      Object.keys ||
      function (e) {
        return H(e, ee);
      },
    ne = w
      ? Object.defineProperties
      : function (e, t) {
          v(e);
          for (var n, r = te(t), i = r.length, o = 0; i > o; ) C.f(e, (n = r[o++]), t[n]);
          return e;
        },
    re = p.document,
    ie = re && re.documentElement,
    oe = K('IE_PROTO'),
    se = function () {},
    ae = function () {
      var e,
        t = _('iframe'),
        n = ee.length;
      for (
        t.style.display = 'none',
          ie.appendChild(t),
          t.src = 'javascript:',
          (e = t.contentWindow.document).open(),
          e.write('<script>document.F=Object</script>'),
          e.close(),
          ae = e.F;
        n--;

      )
        delete ae.prototype[ee[n]];
      return ae();
    },
    ue =
      Object.create ||
      function (e, t) {
        var n;
        return (
          null !== e
            ? ((se.prototype = v(e)), (n = new se()), (se.prototype = null), (n[oe] = e))
            : (n = ae()),
          void 0 === t ? n : ne(n, t)
        );
      },
    fe = s(function (e) {
      var t = W('wks'),
        n = p.Symbol,
        r = 'function' == typeof n;
      (e.exports = function (e) {
        return t[e] || (t[e] = (r && n[e]) || (r ? n : $)('Symbol.' + e));
      }).store = t;
    }),
    le = C.f,
    ce = fe('toStringTag'),
    he = function (e, t, n) {
      e && !R((e = n ? e : e.prototype), ce) && le(e, ce, { configurable: !0, value: t });
    },
    pe = {};
  L(pe, fe('iterator'), function () {
    return this;
  });
  var de,
    me = function (e, t, n) {
      (e.prototype = ue(pe, { next: A(1, n) })), he(e, t + ' Iterator');
    },
    ye = function (e) {
      return Object(h(e));
    },
    ge = K('IE_PROTO'),
    ve = Object.prototype,
    be =
      Object.getPrototypeOf ||
      function (e) {
        return (
          (e = ye(e)),
          R(e, ge)
            ? e[ge]
            : 'function' == typeof e.constructor && e instanceof e.constructor
            ? e.constructor.prototype
            : e instanceof Object
            ? ve
            : null
        );
      },
    we = fe('iterator'),
    Ee = !([].keys && 'next' in [].keys()),
    Te = 'keys',
    _e = 'values',
    Se = function () {
      return this;
    },
    Ie = function (e, t, n, r, i, o, s) {
      me(n, t, r);
      var a,
        u,
        f,
        l = function (e) {
          if (!Ee && e in d) return d[e];
          switch (e) {
            case Te:
            case _e:
              return function () {
                return new n(this, e);
              };
          }
          return function () {
            return new n(this, e);
          };
        },
        c = t + ' Iterator',
        h = i == _e,
        p = !1,
        d = e.prototype,
        m = d[we] || d['@@iterator'] || (i && d[i]),
        y = m || l(i),
        g = i ? (h ? l('entries') : y) : void 0,
        v = ('Array' == t && d.entries) || m;
      if (
        (v && (f = be(v.call(new e()))) !== Object.prototype && f.next && he(f, c, !0),
        h &&
          m &&
          m.name !== _e &&
          ((p = !0),
          (y = function () {
            return m.call(this);
          })),
        s && (Ee || p || !d[we]) && L(d, we, y),
        (M[t] = y),
        (M[c] = Se),
        i)
      )
        if (((a = { values: h ? y : l(_e), keys: o ? y : l(Te), entries: g }), s))
          for (u in a) u in d || j(d, u, a[u]);
        else k(k.P + k.F * (Ee || p), t, a);
      return a;
    },
    Oe =
      ((de = !0),
      function (e, t) {
        var n,
          r,
          i = String(h(e)),
          o = c(t),
          s = i.length;
        return o < 0 || o >= s
          ? de
            ? ''
            : void 0
          : (n = i.charCodeAt(o)) < 55296 ||
            n > 56319 ||
            o + 1 === s ||
            (r = i.charCodeAt(o + 1)) < 56320 ||
            r > 57343
          ? de
            ? i.charAt(o)
            : n
          : de
          ? i.slice(o, o + 2)
          : r - 56320 + ((n - 55296) << 10) + 65536;
      });
  Ie(
    String,
    'String',
    function (e) {
      (this._t = String(e)), (this._i = 0);
    },
    function () {
      var e,
        t = this._t,
        n = this._i;
      return n >= t.length
        ? { value: void 0, done: !0 }
        : ((e = Oe(t, n)), (this._i += e.length), { value: e, done: !1 });
    }
  );
  var Ce = function (e, t) {
    return { value: t, done: !!e };
  };
  Ie(
    Array,
    'Array',
    function (e, t) {
      (this._t = V(e)), (this._i = 0), (this._k = t);
    },
    function () {
      var e = this._t,
        t = this._k,
        n = this._i++;
      return !e || n >= e.length
        ? ((this._t = void 0), Ce(1))
        : Ce(0, 'keys' == t ? n : 'values' == t ? e[n] : [n, e[n]]);
    },
    'values'
  );
  M.Arguments = M.Array;
  for (
    var Ae = fe('toStringTag'),
      Le = 'CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList'.split(
        ','
      ),
      Pe = 0;
    Pe < Le.length;
    Pe++
  ) {
    var Re = Le[Pe],
      Ne = p[Re],
      xe = Ne && Ne.prototype;
    xe && !xe[Ae] && L(xe, Ae, Re), (M[Re] = M.Array);
  }
  var ke,
    je,
    Me,
    Fe = fe('toStringTag'),
    Ue =
      'Arguments' ==
      U(
        (function () {
          return arguments;
        })()
      ),
    Ye = function (e) {
      var t, n, r;
      return void 0 === e
        ? 'Undefined'
        : null === e
        ? 'Null'
        : 'string' ==
          typeof (n = (function (e, t) {
            try {
              return e[t];
            } catch (e) {}
          })((t = Object(e)), Fe))
        ? n
        : Ue
        ? U(t)
        : 'Object' == (r = U(t)) && 'function' == typeof t.callee
        ? 'Arguments'
        : r;
    },
    Ve = function (e, t, n, r) {
      if (!(e instanceof t) || (void 0 !== r && r in e))
        throw TypeError(n + ': incorrect invocation!');
      return e;
    },
    De = function (e, t, n, r) {
      try {
        return r ? t(v(n)[0], n[1]) : t(n);
      } catch (t) {
        var i = e.return;
        throw (void 0 !== i && v(i.call(e)), t);
      }
    },
    Be = fe('iterator'),
    qe = Array.prototype,
    ze = function (e) {
      return void 0 !== e && (M.Array === e || qe[Be] === e);
    },
    We = fe('iterator'),
    Ge = (d.getIteratorMethod = function (e) {
      if (null != e) return e[We] || e['@@iterator'] || M[Ye(e)];
    }),
    Ze = s(function (e) {
      var t = {},
        n = {},
        r = (e.exports = function (e, r, i, o, s) {
          var a,
            u,
            f,
            l,
            c = s
              ? function () {
                  return e;
                }
              : Ge(e),
            h = y(i, o, r ? 2 : 1),
            p = 0;
          if ('function' != typeof c) throw TypeError(e + ' is not iterable!');
          if (ze(c)) {
            for (a = B(e.length); a > p; p++)
              if ((l = r ? h(v((u = e[p]))[0], u[1]) : h(e[p])) === t || l === n) return l;
          } else
            for (f = c.call(e); !(u = f.next()).done; )
              if ((l = De(f, h, u.value, r)) === t || l === n) return l;
        });
      (r.BREAK = t), (r.RETURN = n);
    }),
    $e = fe('species'),
    Je = function (e, t) {
      var n,
        r = v(e).constructor;
      return void 0 === r || null == (n = v(r)[$e]) ? t : m(n);
    },
    Ke = function (e, t, n) {
      var r = void 0 === n;
      switch (t.length) {
        case 0:
          return r ? e() : e.call(n);
        case 1:
          return r ? e(t[0]) : e.call(n, t[0]);
        case 2:
          return r ? e(t[0], t[1]) : e.call(n, t[0], t[1]);
        case 3:
          return r ? e(t[0], t[1], t[2]) : e.call(n, t[0], t[1], t[2]);
        case 4:
          return r ? e(t[0], t[1], t[2], t[3]) : e.call(n, t[0], t[1], t[2], t[3]);
      }
      return e.apply(n, t);
    },
    Qe = p.process,
    Xe = p.setImmediate,
    He = p.clearImmediate,
    et = p.MessageChannel,
    tt = p.Dispatch,
    nt = 0,
    rt = {},
    it = 'onreadystatechange',
    ot = function () {
      var e = +this;
      if (rt.hasOwnProperty(e)) {
        var t = rt[e];
        delete rt[e], t();
      }
    },
    st = function (e) {
      ot.call(e.data);
    };
  (Xe && He) ||
    ((Xe = function (e) {
      for (var t = [], n = 1; arguments.length > n; ) t.push(arguments[n++]);
      return (
        (rt[++nt] = function () {
          Ke('function' == typeof e ? e : Function(e), t);
        }),
        ke(nt),
        nt
      );
    }),
    (He = function (e) {
      delete rt[e];
    }),
    'process' == U(Qe)
      ? (ke = function (e) {
          Qe.nextTick(y(ot, e, 1));
        })
      : tt && tt.now
      ? (ke = function (e) {
          tt.now(y(ot, e, 1));
        })
      : et
      ? ((Me = (je = new et()).port2), (je.port1.onmessage = st), (ke = y(Me.postMessage, Me, 1)))
      : p.addEventListener && 'function' == typeof postMessage && !p.importScripts
      ? ((ke = function (e) {
          p.postMessage(e + '', '*');
        }),
        p.addEventListener('message', st, !1))
      : (ke =
          it in _('script')
            ? function (e) {
                ie.appendChild(_('script')).onreadystatechange = function () {
                  ie.removeChild(this), ot.call(e);
                };
              }
            : function (e) {
                setTimeout(y(ot, e, 1), 0);
              }));
  var at = { set: Xe, clear: He },
    ut = at.set,
    ft = p.MutationObserver || p.WebKitMutationObserver,
    lt = p.process,
    ct = p.Promise,
    ht = 'process' == U(lt);
  function pt(e) {
    var t, n;
    (this.promise = new e(function (e, r) {
      if (void 0 !== t || void 0 !== n) throw TypeError('Bad Promise constructor');
      (t = e), (n = r);
    })),
      (this.resolve = m(t)),
      (this.reject = m(n));
  }
  var dt = {
      f: function (e) {
        return new pt(e);
      },
    },
    mt = function (e) {
      try {
        return { e: !1, v: e() };
      } catch (e) {
        return { e: !0, v: e };
      }
    },
    yt = p.navigator,
    gt = (yt && yt.userAgent) || '',
    vt = function (e, t) {
      if ((v(e), g(t) && t.constructor === e)) return t;
      var n = dt.f(e);
      return (0, n.resolve)(t), n.promise;
    },
    bt = function (e, t, n) {
      for (var r in t) n && e[r] ? (e[r] = t[r]) : L(e, r, t[r]);
      return e;
    },
    wt = fe('species'),
    Et = function (e) {
      var t = 'function' == typeof d[e] ? d[e] : p[e];
      w &&
        t &&
        !t[wt] &&
        C.f(t, wt, {
          configurable: !0,
          get: function () {
            return this;
          },
        });
    },
    Tt = fe('iterator'),
    _t = !1;
  try {
    var St = [7][Tt]();
    (St.return = function () {
      _t = !0;
    }),
      Array.from(St, function () {
        throw 2;
      });
  } catch (e) {}
  var It,
    Ot,
    Ct,
    At,
    Lt = function (e, t) {
      if (!t && !_t) return !1;
      var n = !1;
      try {
        var r = [7],
          i = r[Tt]();
        (i.next = function () {
          return { done: (n = !0) };
        }),
          (r[Tt] = function () {
            return i;
          }),
          e(r);
      } catch (e) {}
      return n;
    },
    Pt = at.set,
    Rt = (function () {
      var e,
        t,
        n,
        r = function () {
          var r, i;
          for (ht && (r = lt.domain) && r.exit(); e; ) {
            (i = e.fn), (e = e.next);
            try {
              i();
            } catch (r) {
              throw (e ? n() : (t = void 0), r);
            }
          }
          (t = void 0), r && r.enter();
        };
      if (ht)
        n = function () {
          lt.nextTick(r);
        };
      else if (!ft || (p.navigator && p.navigator.standalone))
        if (ct && ct.resolve) {
          var i = ct.resolve(void 0);
          n = function () {
            i.then(r);
          };
        } else
          n = function () {
            ut.call(p, r);
          };
      else {
        var o = !0,
          s = document.createTextNode('');
        new ft(r).observe(s, { characterData: !0 }),
          (n = function () {
            s.data = o = !o;
          });
      }
      return function (r) {
        var i = { fn: r, next: void 0 };
        t && (t.next = i), e || ((e = i), n()), (t = i);
      };
    })(),
    Nt = 'Promise',
    xt = p.TypeError,
    kt = p.process,
    jt = kt && kt.versions,
    Mt = (jt && jt.v8) || '',
    Ft = p.Promise,
    Ut = 'process' == Ye(kt),
    Yt = function () {},
    Vt = (Ot = dt.f),
    Dt = !!(function () {
      try {
        var e = Ft.resolve(1),
          t = ((e.constructor = {})[fe('species')] = function (e) {
            e(Yt, Yt);
          });
        return (
          (Ut || 'function' == typeof PromiseRejectionEvent) &&
          e.then(Yt) instanceof t &&
          0 !== Mt.indexOf('6.6') &&
          -1 === gt.indexOf('Chrome/66')
        );
      } catch (e) {}
    })(),
    Bt = function (e) {
      var t;
      return !(!g(e) || 'function' != typeof (t = e.then)) && t;
    },
    qt = function (e, t) {
      if (!e._n) {
        e._n = !0;
        var n = e._c;
        Rt(function () {
          for (
            var r = e._v,
              i = 1 == e._s,
              o = 0,
              s = function (t) {
                var n,
                  o,
                  s,
                  a = i ? t.ok : t.fail,
                  u = t.resolve,
                  f = t.reject,
                  l = t.domain;
                try {
                  a
                    ? (i || (2 == e._h && Gt(e), (e._h = 1)),
                      !0 === a ? (n = r) : (l && l.enter(), (n = a(r)), l && (l.exit(), (s = !0))),
                      n === t.promise
                        ? f(xt('Promise-chain cycle'))
                        : (o = Bt(n))
                        ? o.call(n, u, f)
                        : u(n))
                    : f(r);
                } catch (e) {
                  l && !s && l.exit(), f(e);
                }
              };
            n.length > o;

          )
            s(n[o++]);
          (e._c = []), (e._n = !1), t && !e._h && zt(e);
        });
      }
    },
    zt = function (e) {
      Pt.call(p, function () {
        var t,
          n,
          r,
          i = e._v,
          o = Wt(e);
        if (
          (o &&
            ((t = mt(function () {
              Ut
                ? kt.emit('unhandledRejection', i, e)
                : (n = p.onunhandledrejection)
                ? n({ promise: e, reason: i })
                : (r = p.console) && r.error && r.error('Unhandled promise rejection', i);
            })),
            (e._h = Ut || Wt(e) ? 2 : 1)),
          (e._a = void 0),
          o && t.e)
        )
          throw t.v;
      });
    },
    Wt = function (e) {
      return 1 !== e._h && 0 === (e._a || e._c).length;
    },
    Gt = function (e) {
      Pt.call(p, function () {
        var t;
        Ut
          ? kt.emit('rejectionHandled', e)
          : (t = p.onrejectionhandled) && t({ promise: e, reason: e._v });
      });
    },
    Zt = function (e) {
      var t = this;
      t._d ||
        ((t._d = !0),
        ((t = t._w || t)._v = e),
        (t._s = 2),
        t._a || (t._a = t._c.slice()),
        qt(t, !0));
    },
    $t = function (e) {
      var t,
        n = this;
      if (!n._d) {
        (n._d = !0), (n = n._w || n);
        try {
          if (n === e) throw xt("Promise can't be resolved itself");
          (t = Bt(e))
            ? Rt(function () {
                var r = { _w: n, _d: !1 };
                try {
                  t.call(e, y($t, r, 1), y(Zt, r, 1));
                } catch (e) {
                  Zt.call(r, e);
                }
              })
            : ((n._v = e), (n._s = 1), qt(n, !1));
        } catch (e) {
          Zt.call({ _w: n, _d: !1 }, e);
        }
      }
    };
  Dt ||
    ((Ft = function (e) {
      Ve(this, Ft, Nt, '_h'), m(e), It.call(this);
      try {
        e(y($t, this, 1), y(Zt, this, 1));
      } catch (e) {
        Zt.call(this, e);
      }
    }),
    ((It = function (e) {
      (this._c = []),
        (this._a = void 0),
        (this._s = 0),
        (this._d = !1),
        (this._v = void 0),
        (this._h = 0),
        (this._n = !1);
    }).prototype = bt(Ft.prototype, {
      then: function (e, t) {
        var n = Vt(Je(this, Ft));
        return (
          (n.ok = 'function' != typeof e || e),
          (n.fail = 'function' == typeof t && t),
          (n.domain = Ut ? kt.domain : void 0),
          this._c.push(n),
          this._a && this._a.push(n),
          this._s && qt(this, !1),
          n.promise
        );
      },
      catch: function (e) {
        return this.then(void 0, e);
      },
    })),
    (Ct = function () {
      var e = new It();
      (this.promise = e), (this.resolve = y($t, e, 1)), (this.reject = y(Zt, e, 1));
    }),
    (dt.f = Vt = function (e) {
      return e === Ft || e === At ? new Ct(e) : Ot(e);
    })),
    k(k.G + k.W + k.F * !Dt, { Promise: Ft }),
    he(Ft, Nt),
    Et(Nt),
    (At = d.Promise),
    k(k.S + k.F * !Dt, Nt, {
      reject: function (e) {
        var t = Vt(this);
        return (0, t.reject)(e), t.promise;
      },
    }),
    k(k.S + true * k.F, Nt, {
      resolve: function (e) {
        return vt(this === At ? Ft : this, e);
      },
    }),
    k(
      k.S +
        k.F *
          !(
            Dt &&
            Lt(function (e) {
              Ft.all(e).catch(Yt);
            })
          ),
      Nt,
      {
        all: function (e) {
          var t = this,
            n = Vt(t),
            r = n.resolve,
            i = n.reject,
            o = mt(function () {
              var n = [],
                o = 0,
                s = 1;
              Ze(e, !1, function (e) {
                var a = o++,
                  u = !1;
                n.push(void 0),
                  s++,
                  t.resolve(e).then(function (e) {
                    u || ((u = !0), (n[a] = e), --s || r(n));
                  }, i);
              }),
                --s || r(n);
            });
          return o.e && i(o.v), n.promise;
        },
        race: function (e) {
          var t = this,
            n = Vt(t),
            r = n.reject,
            i = mt(function () {
              Ze(e, !1, function (e) {
                t.resolve(e).then(n.resolve, r);
              });
            });
          return i.e && r(i.v), n.promise;
        },
      }
    ),
    k(k.P + k.R, 'Promise', {
      finally: function (e) {
        var t = Je(this, d.Promise || p.Promise),
          n = 'function' == typeof e;
        return this.then(
          n
            ? function (n) {
                return vt(t, e()).then(function () {
                  return n;
                });
              }
            : e,
          n
            ? function (n) {
                return vt(t, e()).then(function () {
                  throw n;
                });
              }
            : e
        );
      },
    }),
    k(k.S, 'Promise', {
      try: function (e) {
        var t = dt.f(this),
          n = mt(e);
        return (n.e ? t.reject : t.resolve)(n.v), t.promise;
      },
    });
  var Jt = d.Promise,
    Kt = s(function (e) {
      /**
       * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
       * Released under the Apache License, Version 2.0
       * see: https://github.com/dcodeIO/long.js for details
       */
      !(function (t, n) {
        e && e.exports ? (e.exports = n()) : ((t.dcodeIO = t.dcodeIO || {}).Long = n());
      })(o, function () {
        function e(e, t, n) {
          (this.low = 0 | e), (this.high = 0 | t), (this.unsigned = !!n);
        }
        function t(e) {
          return !0 === (e && e.__isLong__);
        }
        e.prototype.__isLong__,
          Object.defineProperty(e.prototype, '__isLong__', {
            value: !0,
            enumerable: !1,
            configurable: !1,
          }),
          (e.isLong = t);
        var n = {},
          r = {};
        function i(e, t) {
          var i, o, a;
          return t
            ? (a = 0 <= (e >>>= 0) && e < 256) && (o = r[e])
              ? o
              : ((i = s(e, (0 | e) < 0 ? -1 : 0, !0)), a && (r[e] = i), i)
            : (a = -128 <= (e |= 0) && e < 128) && (o = n[e])
            ? o
            : ((i = s(e, e < 0 ? -1 : 0, !1)), a && (n[e] = i), i);
        }
        function o(e, t) {
          if (isNaN(e) || !isFinite(e)) return t ? m : d;
          if (t) {
            if (e < 0) return m;
            if (e >= c) return w;
          } else {
            if (e <= -h) return E;
            if (e + 1 >= h) return b;
          }
          return e < 0 ? o(-e, t).neg() : s(e % l | 0, (e / l) | 0, t);
        }
        function s(t, n, r) {
          return new e(t, n, r);
        }
        (e.fromInt = i), (e.fromNumber = o), (e.fromBits = s);
        var a = Math.pow;
        function u(e, t, n) {
          if (0 === e.length) throw Error('empty string');
          if ('NaN' === e || 'Infinity' === e || '+Infinity' === e || '-Infinity' === e) return d;
          if (('number' == typeof t ? ((n = t), (t = !1)) : (t = !!t), (n = n || 10) < 2 || 36 < n))
            throw RangeError('radix');
          var r;
          if ((r = e.indexOf('-')) > 0) throw Error('interior hyphen');
          if (0 === r) return u(e.substring(1), t, n).neg();
          for (var i = o(a(n, 8)), s = d, f = 0; f < e.length; f += 8) {
            var l = Math.min(8, e.length - f),
              c = parseInt(e.substring(f, f + l), n);
            if (l < 8) {
              var h = o(a(n, l));
              s = s.mul(h).add(o(c));
            } else s = (s = s.mul(i)).add(o(c));
          }
          return (s.unsigned = t), s;
        }
        function f(t) {
          return t instanceof e
            ? t
            : 'number' == typeof t
            ? o(t)
            : 'string' == typeof t
            ? u(t)
            : s(t.low, t.high, t.unsigned);
        }
        (e.fromString = u), (e.fromValue = f);
        var l = 4294967296,
          c = l * l,
          h = c / 2,
          p = i(1 << 24),
          d = i(0);
        e.ZERO = d;
        var m = i(0, !0);
        e.UZERO = m;
        var y = i(1);
        e.ONE = y;
        var g = i(1, !0);
        e.UONE = g;
        var v = i(-1);
        e.NEG_ONE = v;
        var b = s(-1, 2147483647, !1);
        e.MAX_VALUE = b;
        var w = s(-1, -1, !0);
        e.MAX_UNSIGNED_VALUE = w;
        var E = s(0, -2147483648, !1);
        e.MIN_VALUE = E;
        var T = e.prototype;
        return (
          (T.toInt = function () {
            return this.unsigned ? this.low >>> 0 : this.low;
          }),
          (T.toNumber = function () {
            return this.unsigned
              ? (this.high >>> 0) * l + (this.low >>> 0)
              : this.high * l + (this.low >>> 0);
          }),
          (T.toString = function (e) {
            if ((e = e || 10) < 2 || 36 < e) throw RangeError('radix');
            if (this.isZero()) return '0';
            if (this.isNegative()) {
              if (this.eq(E)) {
                var t = o(e),
                  n = this.div(t),
                  r = n.mul(t).sub(this);
                return n.toString(e) + r.toInt().toString(e);
              }
              return '-' + this.neg().toString(e);
            }
            for (var i = o(a(e, 6), this.unsigned), s = this, u = ''; ; ) {
              var f = s.div(i),
                l = (s.sub(f.mul(i)).toInt() >>> 0).toString(e);
              if ((s = f).isZero()) return l + u;
              for (; l.length < 6; ) l = '0' + l;
              u = '' + l + u;
            }
          }),
          (T.getHighBits = function () {
            return this.high;
          }),
          (T.getHighBitsUnsigned = function () {
            return this.high >>> 0;
          }),
          (T.getLowBits = function () {
            return this.low;
          }),
          (T.getLowBitsUnsigned = function () {
            return this.low >>> 0;
          }),
          (T.getNumBitsAbs = function () {
            if (this.isNegative()) return this.eq(E) ? 64 : this.neg().getNumBitsAbs();
            for (
              var e = 0 != this.high ? this.high : this.low, t = 31;
              t > 0 && 0 == (e & (1 << t));
              t--
            );
            return 0 != this.high ? t + 33 : t + 1;
          }),
          (T.isZero = function () {
            return 0 === this.high && 0 === this.low;
          }),
          (T.isNegative = function () {
            return !this.unsigned && this.high < 0;
          }),
          (T.isPositive = function () {
            return this.unsigned || this.high >= 0;
          }),
          (T.isOdd = function () {
            return 1 == (1 & this.low);
          }),
          (T.isEven = function () {
            return 0 == (1 & this.low);
          }),
          (T.equals = function (e) {
            return (
              t(e) || (e = f(e)),
              (this.unsigned === e.unsigned || this.high >>> 31 != 1 || e.high >>> 31 != 1) &&
                this.high === e.high &&
                this.low === e.low
            );
          }),
          (T.eq = T.equals),
          (T.notEquals = function (e) {
            return !this.eq(e);
          }),
          (T.neq = T.notEquals),
          (T.lessThan = function (e) {
            return this.comp(e) < 0;
          }),
          (T.lt = T.lessThan),
          (T.lessThanOrEqual = function (e) {
            return this.comp(e) <= 0;
          }),
          (T.lte = T.lessThanOrEqual),
          (T.greaterThan = function (e) {
            return this.comp(e) > 0;
          }),
          (T.gt = T.greaterThan),
          (T.greaterThanOrEqual = function (e) {
            return this.comp(e) >= 0;
          }),
          (T.gte = T.greaterThanOrEqual),
          (T.compare = function (e) {
            if ((t(e) || (e = f(e)), this.eq(e))) return 0;
            var n = this.isNegative(),
              r = e.isNegative();
            return n && !r
              ? -1
              : !n && r
              ? 1
              : this.unsigned
              ? e.high >>> 0 > this.high >>> 0 ||
                (e.high === this.high && e.low >>> 0 > this.low >>> 0)
                ? -1
                : 1
              : this.sub(e).isNegative()
              ? -1
              : 1;
          }),
          (T.comp = T.compare),
          (T.negate = function () {
            return !this.unsigned && this.eq(E) ? E : this.not().add(y);
          }),
          (T.neg = T.negate),
          (T.add = function (e) {
            t(e) || (e = f(e));
            var n = this.high >>> 16,
              r = 65535 & this.high,
              i = this.low >>> 16,
              o = 65535 & this.low,
              a = e.high >>> 16,
              u = 65535 & e.high,
              l = e.low >>> 16,
              c = 0,
              h = 0,
              p = 0,
              d = 0;
            return (
              (p += (d += o + (65535 & e.low)) >>> 16),
              (h += (p += i + l) >>> 16),
              (c += (h += r + u) >>> 16),
              (c += n + a),
              s(
                ((p &= 65535) << 16) | (d &= 65535),
                ((c &= 65535) << 16) | (h &= 65535),
                this.unsigned
              )
            );
          }),
          (T.subtract = function (e) {
            return t(e) || (e = f(e)), this.add(e.neg());
          }),
          (T.sub = T.subtract),
          (T.multiply = function (e) {
            if (this.isZero()) return d;
            if ((t(e) || (e = f(e)), e.isZero())) return d;
            if (this.eq(E)) return e.isOdd() ? E : d;
            if (e.eq(E)) return this.isOdd() ? E : d;
            if (this.isNegative())
              return e.isNegative() ? this.neg().mul(e.neg()) : this.neg().mul(e).neg();
            if (e.isNegative()) return this.mul(e.neg()).neg();
            if (this.lt(p) && e.lt(p)) return o(this.toNumber() * e.toNumber(), this.unsigned);
            var n = this.high >>> 16,
              r = 65535 & this.high,
              i = this.low >>> 16,
              a = 65535 & this.low,
              u = e.high >>> 16,
              l = 65535 & e.high,
              c = e.low >>> 16,
              h = 65535 & e.low,
              m = 0,
              y = 0,
              g = 0,
              v = 0;
            return (
              (g += (v += a * h) >>> 16),
              (y += (g += i * h) >>> 16),
              (g &= 65535),
              (y += (g += a * c) >>> 16),
              (m += (y += r * h) >>> 16),
              (y &= 65535),
              (m += (y += i * c) >>> 16),
              (y &= 65535),
              (m += (y += a * l) >>> 16),
              (m += n * h + r * c + i * l + a * u),
              s(
                ((g &= 65535) << 16) | (v &= 65535),
                ((m &= 65535) << 16) | (y &= 65535),
                this.unsigned
              )
            );
          }),
          (T.mul = T.multiply),
          (T.divide = function (e) {
            if ((t(e) || (e = f(e)), e.isZero())) throw Error('division by zero');
            if (this.isZero()) return this.unsigned ? m : d;
            var n, r, i;
            if (this.unsigned) {
              if ((e.unsigned || (e = e.toUnsigned()), e.gt(this))) return m;
              if (e.gt(this.shru(1))) return g;
              i = m;
            } else {
              if (this.eq(E))
                return e.eq(y) || e.eq(v)
                  ? E
                  : e.eq(E)
                  ? y
                  : (n = this.shr(1).div(e).shl(1)).eq(d)
                  ? e.isNegative()
                    ? y
                    : v
                  : ((r = this.sub(e.mul(n))), (i = n.add(r.div(e))));
              if (e.eq(E)) return this.unsigned ? m : d;
              if (this.isNegative())
                return e.isNegative() ? this.neg().div(e.neg()) : this.neg().div(e).neg();
              if (e.isNegative()) return this.div(e.neg()).neg();
              i = d;
            }
            for (r = this; r.gte(e); ) {
              n = Math.max(1, Math.floor(r.toNumber() / e.toNumber()));
              for (
                var s = Math.ceil(Math.log(n) / Math.LN2),
                  u = s <= 48 ? 1 : a(2, s - 48),
                  l = o(n),
                  c = l.mul(e);
                c.isNegative() || c.gt(r);

              )
                c = (l = o((n -= u), this.unsigned)).mul(e);
              l.isZero() && (l = y), (i = i.add(l)), (r = r.sub(c));
            }
            return i;
          }),
          (T.div = T.divide),
          (T.modulo = function (e) {
            return t(e) || (e = f(e)), this.sub(this.div(e).mul(e));
          }),
          (T.mod = T.modulo),
          (T.not = function () {
            return s(~this.low, ~this.high, this.unsigned);
          }),
          (T.and = function (e) {
            return t(e) || (e = f(e)), s(this.low & e.low, this.high & e.high, this.unsigned);
          }),
          (T.or = function (e) {
            return t(e) || (e = f(e)), s(this.low | e.low, this.high | e.high, this.unsigned);
          }),
          (T.xor = function (e) {
            return t(e) || (e = f(e)), s(this.low ^ e.low, this.high ^ e.high, this.unsigned);
          }),
          (T.shiftLeft = function (e) {
            return (
              t(e) && (e = e.toInt()),
              0 == (e &= 63)
                ? this
                : e < 32
                ? s(this.low << e, (this.high << e) | (this.low >>> (32 - e)), this.unsigned)
                : s(0, this.low << (e - 32), this.unsigned)
            );
          }),
          (T.shl = T.shiftLeft),
          (T.shiftRight = function (e) {
            return (
              t(e) && (e = e.toInt()),
              0 == (e &= 63)
                ? this
                : e < 32
                ? s((this.low >>> e) | (this.high << (32 - e)), this.high >> e, this.unsigned)
                : s(this.high >> (e - 32), this.high >= 0 ? 0 : -1, this.unsigned)
            );
          }),
          (T.shr = T.shiftRight),
          (T.shiftRightUnsigned = function (e) {
            if ((t(e) && (e = e.toInt()), 0 === (e &= 63))) return this;
            var n = this.high;
            return e < 32
              ? s((this.low >>> e) | (n << (32 - e)), n >>> e, this.unsigned)
              : s(32 === e ? n : n >>> (e - 32), 0, this.unsigned);
          }),
          (T.shru = T.shiftRightUnsigned),
          (T.toSigned = function () {
            return this.unsigned ? s(this.low, this.high, !1) : this;
          }),
          (T.toUnsigned = function () {
            return this.unsigned ? this : s(this.low, this.high, !0);
          }),
          (T.toBytes = function (e) {
            return e ? this.toBytesLE() : this.toBytesBE();
          }),
          (T.toBytesLE = function () {
            var e = this.high,
              t = this.low;
            return [
              255 & t,
              (t >>> 8) & 255,
              (t >>> 16) & 255,
              (t >>> 24) & 255,
              255 & e,
              (e >>> 8) & 255,
              (e >>> 16) & 255,
              (e >>> 24) & 255,
            ];
          }),
          (T.toBytesBE = function () {
            var e = this.high,
              t = this.low;
            return [
              (e >>> 24) & 255,
              (e >>> 16) & 255,
              (e >>> 8) & 255,
              255 & e,
              (t >>> 24) & 255,
              (t >>> 16) & 255,
              (t >>> 8) & 255,
              255 & t,
            ];
          }),
          e
        );
      });
    }),
    Qt = s(function (e) {
      /**
       * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
       * Backing buffer: ArrayBuffer, Accessor: Uint8Array
       * Released under the Apache License, Version 2.0
       * see: https://github.com/dcodeIO/bytebuffer.js for details
       */
      !(function (t, n) {
        e && e.exports
          ? (e.exports = (function () {
              var e;
              try {
                e = Kt;
              } catch (e) {}
              return n(e);
            })())
          : ((t.dcodeIO = t.dcodeIO || {}).ByteBuffer = n(t.dcodeIO.Long));
      })(o, function (e) {
        var t = function (e, n, i) {
          if (
            (void 0 === e && (e = t.DEFAULT_CAPACITY),
            void 0 === n && (n = t.DEFAULT_ENDIAN),
            void 0 === i && (i = t.DEFAULT_NOASSERT),
            !i)
          ) {
            if ((e |= 0) < 0) throw RangeError('Illegal capacity');
            (n = !!n), (i = !!i);
          }
          (this.buffer = 0 === e ? r : new ArrayBuffer(e)),
            (this.view = 0 === e ? null : new Uint8Array(this.buffer)),
            (this.offset = 0),
            (this.markedOffset = -1),
            (this.limit = e),
            (this.littleEndian = n),
            (this.noAssert = i);
        };
        (t.VERSION = '5.0.1'),
          (t.LITTLE_ENDIAN = !0),
          (t.BIG_ENDIAN = !1),
          (t.DEFAULT_CAPACITY = 16),
          (t.DEFAULT_ENDIAN = t.BIG_ENDIAN),
          (t.DEFAULT_NOASSERT = !1),
          (t.Long = e || null);
        var n = t.prototype;
        n.__isByteBuffer__,
          Object.defineProperty(n, '__isByteBuffer__', {
            value: !0,
            enumerable: !1,
            configurable: !1,
          });
        var r = new ArrayBuffer(0),
          i = String.fromCharCode;
        function o(e) {
          var t = 0;
          return function () {
            return t < e.length ? e.charCodeAt(t++) : null;
          };
        }
        function s() {
          var e = [],
            t = [];
          return function () {
            if (0 === arguments.length) return t.join('') + i.apply(String, e);
            e.length + arguments.length > 1024 && (t.push(i.apply(String, e)), (e.length = 0)),
              Array.prototype.push.apply(e, arguments);
          };
        }
        function a(e, t, n, r, i) {
          var o,
            s,
            a = 8 * i - r - 1,
            u = (1 << a) - 1,
            f = u >> 1,
            l = -7,
            c = n ? i - 1 : 0,
            h = n ? -1 : 1,
            p = e[t + c];
          for (
            c += h, o = p & ((1 << -l) - 1), p >>= -l, l += a;
            l > 0;
            o = 256 * o + e[t + c], c += h, l -= 8
          );
          for (
            s = o & ((1 << -l) - 1), o >>= -l, l += r;
            l > 0;
            s = 256 * s + e[t + c], c += h, l -= 8
          );
          if (0 === o) o = 1 - f;
          else {
            if (o === u) return s ? NaN : (1 / 0) * (p ? -1 : 1);
            (s += Math.pow(2, r)), (o -= f);
          }
          return (p ? -1 : 1) * s * Math.pow(2, o - r);
        }
        function u(e, t, n, r, i, o) {
          var s,
            a,
            u,
            f = 8 * o - i - 1,
            l = (1 << f) - 1,
            c = l >> 1,
            h = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
            p = r ? 0 : o - 1,
            d = r ? 1 : -1,
            m = t < 0 || (0 === t && 1 / t < 0) ? 1 : 0;
          for (
            t = Math.abs(t),
              isNaN(t) || t === 1 / 0
                ? ((a = isNaN(t) ? 1 : 0), (s = l))
                : ((s = Math.floor(Math.log(t) / Math.LN2)),
                  t * (u = Math.pow(2, -s)) < 1 && (s--, (u *= 2)),
                  (t += s + c >= 1 ? h / u : h * Math.pow(2, 1 - c)) * u >= 2 && (s++, (u /= 2)),
                  s + c >= l
                    ? ((a = 0), (s = l))
                    : s + c >= 1
                    ? ((a = (t * u - 1) * Math.pow(2, i)), (s += c))
                    : ((a = t * Math.pow(2, c - 1) * Math.pow(2, i)), (s = 0)));
            i >= 8;
            e[n + p] = 255 & a, p += d, a /= 256, i -= 8
          );
          for (s = (s << i) | a, f += i; f > 0; e[n + p] = 255 & s, p += d, s /= 256, f -= 8);
          e[n + p - d] |= 128 * m;
        }
        (t.accessor = function () {
          return Uint8Array;
        }),
          (t.allocate = function (e, n, r) {
            return new t(e, n, r);
          }),
          (t.concat = function (e, n, r, i) {
            ('boolean' != typeof n && 'string' == typeof n) || ((i = r), (r = n), (n = void 0));
            for (var o, s = 0, a = 0, u = e.length; a < u; ++a)
              t.isByteBuffer(e[a]) || (e[a] = t.wrap(e[a], n)),
                (o = e[a].limit - e[a].offset) > 0 && (s += o);
            if (0 === s) return new t(0, r, i);
            var f,
              l = new t(s, r, i);
            for (a = 0; a < u; )
              (o = (f = e[a++]).limit - f.offset) <= 0 ||
                (l.view.set(f.view.subarray(f.offset, f.limit), l.offset), (l.offset += o));
            return (l.limit = l.offset), (l.offset = 0), l;
          }),
          (t.isByteBuffer = function (e) {
            return !0 === (e && e.__isByteBuffer__);
          }),
          (t.type = function () {
            return ArrayBuffer;
          }),
          (t.wrap = function (e, r, i, o) {
            if (('string' != typeof r && ((o = i), (i = r), (r = void 0)), 'string' == typeof e))
              switch ((void 0 === r && (r = 'utf8'), r)) {
                case 'base64':
                  return t.fromBase64(e, i);
                case 'hex':
                  return t.fromHex(e, i);
                case 'binary':
                  return t.fromBinary(e, i);
                case 'utf8':
                  return t.fromUTF8(e, i);
                case 'debug':
                  return t.fromDebug(e, i);
                default:
                  throw Error('Unsupported encoding: ' + r);
              }
            if (null === e || 'object' != typeof e) throw TypeError('Illegal buffer');
            var s;
            if (t.isByteBuffer(e)) return ((s = n.clone.call(e)).markedOffset = -1), s;
            if (e instanceof Uint8Array)
              (s = new t(0, i, o)),
                e.length > 0 &&
                  ((s.buffer = e.buffer),
                  (s.offset = e.byteOffset),
                  (s.limit = e.byteOffset + e.byteLength),
                  (s.view = new Uint8Array(e.buffer)));
            else if (e instanceof ArrayBuffer)
              (s = new t(0, i, o)),
                e.byteLength > 0 &&
                  ((s.buffer = e),
                  (s.offset = 0),
                  (s.limit = e.byteLength),
                  (s.view = e.byteLength > 0 ? new Uint8Array(e) : null));
            else {
              if ('[object Array]' !== Object.prototype.toString.call(e))
                throw TypeError('Illegal buffer');
              (s = new t(e.length, i, o)).limit = e.length;
              for (var a = 0; a < e.length; ++a) s.view[a] = e[a];
            }
            return s;
          }),
          (n.writeBitSet = function (e, t) {
            var n = void 0 === t;
            if ((n && (t = this.offset), !this.noAssert)) {
              if (!(e instanceof Array)) throw TypeError('Illegal BitSet: Not an array');
              if ('number' != typeof t || t % 1 != 0)
                throw TypeError('Illegal offset: ' + t + ' (not an integer)');
              if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + t + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            var r,
              i = t,
              o = e.length,
              s = o >> 3,
              a = 0;
            for (t += this.writeVarint32(o, t); s--; )
              (r =
                (1 & !!e[a++]) |
                ((1 & !!e[a++]) << 1) |
                ((1 & !!e[a++]) << 2) |
                ((1 & !!e[a++]) << 3) |
                ((1 & !!e[a++]) << 4) |
                ((1 & !!e[a++]) << 5) |
                ((1 & !!e[a++]) << 6) |
                ((1 & !!e[a++]) << 7)),
                this.writeByte(r, t++);
            if (a < o) {
              var u = 0;
              for (r = 0; a < o; ) r |= (1 & !!e[a++]) << u++;
              this.writeByte(r, t++);
            }
            return n ? ((this.offset = t), this) : t - i;
          }),
          (n.readBitSet = function (e) {
            var t = void 0 === e;
            t && (e = this.offset);
            var n,
              r = this.readVarint32(e),
              i = r.value,
              o = i >> 3,
              s = 0,
              a = [];
            for (e += r.length; o--; )
              (n = this.readByte(e++)),
                (a[s++] = !!(1 & n)),
                (a[s++] = !!(2 & n)),
                (a[s++] = !!(4 & n)),
                (a[s++] = !!(8 & n)),
                (a[s++] = !!(16 & n)),
                (a[s++] = !!(32 & n)),
                (a[s++] = !!(64 & n)),
                (a[s++] = !!(128 & n));
            if (s < i) {
              var u = 0;
              for (n = this.readByte(e++); s < i; ) a[s++] = !!((n >> u++) & 1);
            }
            return t && (this.offset = e), a;
          }),
          (n.readBytes = function (e, t) {
            var n = void 0 === t;
            if ((n && (t = this.offset), !this.noAssert)) {
              if ('number' != typeof t || t % 1 != 0)
                throw TypeError('Illegal offset: ' + t + ' (not an integer)');
              if ((t >>>= 0) < 0 || t + e > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + t + ' (+' + e + ') <= ' + this.buffer.byteLength
                );
            }
            var r = this.slice(t, t + e);
            return n && (this.offset += e), r;
          }),
          (n.writeBytes = n.append),
          (n.writeInt8 = function (e, t) {
            var n = void 0 === t;
            if ((n && (t = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal value: ' + e + ' (not an integer)');
              if (((e |= 0), 'number' != typeof t || t % 1 != 0))
                throw TypeError('Illegal offset: ' + t + ' (not an integer)');
              if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + t + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            t += 1;
            var r = this.buffer.byteLength;
            return (
              t > r && this.resize((r *= 2) > t ? r : t),
              (t -= 1),
              (this.view[t] = e),
              n && (this.offset += 1),
              this
            );
          }),
          (n.writeByte = n.writeInt8),
          (n.readInt8 = function (e) {
            var t = void 0 === e;
            if ((t && (e = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal offset: ' + e + ' (not an integer)');
              if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + e + ' (+1) <= ' + this.buffer.byteLength
                );
            }
            var n = this.view[e];
            return 128 == (128 & n) && (n = -(255 - n + 1)), t && (this.offset += 1), n;
          }),
          (n.readByte = n.readInt8),
          (n.writeUint8 = function (e, t) {
            var n = void 0 === t;
            if ((n && (t = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal value: ' + e + ' (not an integer)');
              if (((e >>>= 0), 'number' != typeof t || t % 1 != 0))
                throw TypeError('Illegal offset: ' + t + ' (not an integer)');
              if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + t + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            t += 1;
            var r = this.buffer.byteLength;
            return (
              t > r && this.resize((r *= 2) > t ? r : t),
              (t -= 1),
              (this.view[t] = e),
              n && (this.offset += 1),
              this
            );
          }),
          (n.writeUInt8 = n.writeUint8),
          (n.readUint8 = function (e) {
            var t = void 0 === e;
            if ((t && (e = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal offset: ' + e + ' (not an integer)');
              if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + e + ' (+1) <= ' + this.buffer.byteLength
                );
            }
            var n = this.view[e];
            return t && (this.offset += 1), n;
          }),
          (n.readUInt8 = n.readUint8),
          (n.writeInt16 = function (e, t) {
            var n = void 0 === t;
            if ((n && (t = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal value: ' + e + ' (not an integer)');
              if (((e |= 0), 'number' != typeof t || t % 1 != 0))
                throw TypeError('Illegal offset: ' + t + ' (not an integer)');
              if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + t + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            t += 2;
            var r = this.buffer.byteLength;
            return (
              t > r && this.resize((r *= 2) > t ? r : t),
              (t -= 2),
              this.littleEndian
                ? ((this.view[t + 1] = (65280 & e) >>> 8), (this.view[t] = 255 & e))
                : ((this.view[t] = (65280 & e) >>> 8), (this.view[t + 1] = 255 & e)),
              n && (this.offset += 2),
              this
            );
          }),
          (n.writeShort = n.writeInt16),
          (n.readInt16 = function (e) {
            var t = void 0 === e;
            if ((t && (e = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal offset: ' + e + ' (not an integer)');
              if ((e >>>= 0) < 0 || e + 2 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + e + ' (+2) <= ' + this.buffer.byteLength
                );
            }
            var n = 0;
            return (
              this.littleEndian
                ? ((n = this.view[e]), (n |= this.view[e + 1] << 8))
                : ((n = this.view[e] << 8), (n |= this.view[e + 1])),
              32768 == (32768 & n) && (n = -(65535 - n + 1)),
              t && (this.offset += 2),
              n
            );
          }),
          (n.readShort = n.readInt16),
          (n.writeUint16 = function (e, t) {
            var n = void 0 === t;
            if ((n && (t = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal value: ' + e + ' (not an integer)');
              if (((e >>>= 0), 'number' != typeof t || t % 1 != 0))
                throw TypeError('Illegal offset: ' + t + ' (not an integer)');
              if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + t + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            t += 2;
            var r = this.buffer.byteLength;
            return (
              t > r && this.resize((r *= 2) > t ? r : t),
              (t -= 2),
              this.littleEndian
                ? ((this.view[t + 1] = (65280 & e) >>> 8), (this.view[t] = 255 & e))
                : ((this.view[t] = (65280 & e) >>> 8), (this.view[t + 1] = 255 & e)),
              n && (this.offset += 2),
              this
            );
          }),
          (n.writeUInt16 = n.writeUint16),
          (n.readUint16 = function (e) {
            var t = void 0 === e;
            if ((t && (e = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal offset: ' + e + ' (not an integer)');
              if ((e >>>= 0) < 0 || e + 2 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + e + ' (+2) <= ' + this.buffer.byteLength
                );
            }
            var n = 0;
            return (
              this.littleEndian
                ? ((n = this.view[e]), (n |= this.view[e + 1] << 8))
                : ((n = this.view[e] << 8), (n |= this.view[e + 1])),
              t && (this.offset += 2),
              n
            );
          }),
          (n.readUInt16 = n.readUint16),
          (n.writeInt32 = function (e, t) {
            var n = void 0 === t;
            if ((n && (t = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal value: ' + e + ' (not an integer)');
              if (((e |= 0), 'number' != typeof t || t % 1 != 0))
                throw TypeError('Illegal offset: ' + t + ' (not an integer)');
              if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + t + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            t += 4;
            var r = this.buffer.byteLength;
            return (
              t > r && this.resize((r *= 2) > t ? r : t),
              (t -= 4),
              this.littleEndian
                ? ((this.view[t + 3] = (e >>> 24) & 255),
                  (this.view[t + 2] = (e >>> 16) & 255),
                  (this.view[t + 1] = (e >>> 8) & 255),
                  (this.view[t] = 255 & e))
                : ((this.view[t] = (e >>> 24) & 255),
                  (this.view[t + 1] = (e >>> 16) & 255),
                  (this.view[t + 2] = (e >>> 8) & 255),
                  (this.view[t + 3] = 255 & e)),
              n && (this.offset += 4),
              this
            );
          }),
          (n.writeInt = n.writeInt32),
          (n.readInt32 = function (e) {
            var t = void 0 === e;
            if ((t && (e = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal offset: ' + e + ' (not an integer)');
              if ((e >>>= 0) < 0 || e + 4 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + e + ' (+4) <= ' + this.buffer.byteLength
                );
            }
            var n = 0;
            return (
              this.littleEndian
                ? ((n = this.view[e + 2] << 16),
                  (n |= this.view[e + 1] << 8),
                  (n |= this.view[e]),
                  (n += (this.view[e + 3] << 24) >>> 0))
                : ((n = this.view[e + 1] << 16),
                  (n |= this.view[e + 2] << 8),
                  (n |= this.view[e + 3]),
                  (n += (this.view[e] << 24) >>> 0)),
              (n |= 0),
              t && (this.offset += 4),
              n
            );
          }),
          (n.readInt = n.readInt32),
          (n.writeUint32 = function (e, t) {
            var n = void 0 === t;
            if ((n && (t = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal value: ' + e + ' (not an integer)');
              if (((e >>>= 0), 'number' != typeof t || t % 1 != 0))
                throw TypeError('Illegal offset: ' + t + ' (not an integer)');
              if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + t + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            t += 4;
            var r = this.buffer.byteLength;
            return (
              t > r && this.resize((r *= 2) > t ? r : t),
              (t -= 4),
              this.littleEndian
                ? ((this.view[t + 3] = (e >>> 24) & 255),
                  (this.view[t + 2] = (e >>> 16) & 255),
                  (this.view[t + 1] = (e >>> 8) & 255),
                  (this.view[t] = 255 & e))
                : ((this.view[t] = (e >>> 24) & 255),
                  (this.view[t + 1] = (e >>> 16) & 255),
                  (this.view[t + 2] = (e >>> 8) & 255),
                  (this.view[t + 3] = 255 & e)),
              n && (this.offset += 4),
              this
            );
          }),
          (n.writeUInt32 = n.writeUint32),
          (n.readUint32 = function (e) {
            var t = void 0 === e;
            if ((t && (e = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal offset: ' + e + ' (not an integer)');
              if ((e >>>= 0) < 0 || e + 4 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + e + ' (+4) <= ' + this.buffer.byteLength
                );
            }
            var n = 0;
            return (
              this.littleEndian
                ? ((n = this.view[e + 2] << 16),
                  (n |= this.view[e + 1] << 8),
                  (n |= this.view[e]),
                  (n += (this.view[e + 3] << 24) >>> 0))
                : ((n = this.view[e + 1] << 16),
                  (n |= this.view[e + 2] << 8),
                  (n |= this.view[e + 3]),
                  (n += (this.view[e] << 24) >>> 0)),
              t && (this.offset += 4),
              n
            );
          }),
          (n.readUInt32 = n.readUint32),
          e &&
            ((n.writeInt64 = function (t, n) {
              var r = void 0 === n;
              if ((r && (n = this.offset), !this.noAssert)) {
                if ('number' == typeof t) t = e.fromNumber(t);
                else if ('string' == typeof t) t = e.fromString(t);
                else if (!(t && t instanceof e))
                  throw TypeError('Illegal value: ' + t + ' (not an integer or Long)');
                if ('number' != typeof n || n % 1 != 0)
                  throw TypeError('Illegal offset: ' + n + ' (not an integer)');
                if ((n >>>= 0) < 0 || n + 0 > this.buffer.byteLength)
                  throw RangeError(
                    'Illegal offset: 0 <= ' + n + ' (+0) <= ' + this.buffer.byteLength
                  );
              }
              'number' == typeof t
                ? (t = e.fromNumber(t))
                : 'string' == typeof t && (t = e.fromString(t)),
                (n += 8);
              var i = this.buffer.byteLength;
              n > i && this.resize((i *= 2) > n ? i : n), (n -= 8);
              var o = t.low,
                s = t.high;
              return (
                this.littleEndian
                  ? ((this.view[n + 3] = (o >>> 24) & 255),
                    (this.view[n + 2] = (o >>> 16) & 255),
                    (this.view[n + 1] = (o >>> 8) & 255),
                    (this.view[n] = 255 & o),
                    (n += 4),
                    (this.view[n + 3] = (s >>> 24) & 255),
                    (this.view[n + 2] = (s >>> 16) & 255),
                    (this.view[n + 1] = (s >>> 8) & 255),
                    (this.view[n] = 255 & s))
                  : ((this.view[n] = (s >>> 24) & 255),
                    (this.view[n + 1] = (s >>> 16) & 255),
                    (this.view[n + 2] = (s >>> 8) & 255),
                    (this.view[n + 3] = 255 & s),
                    (n += 4),
                    (this.view[n] = (o >>> 24) & 255),
                    (this.view[n + 1] = (o >>> 16) & 255),
                    (this.view[n + 2] = (o >>> 8) & 255),
                    (this.view[n + 3] = 255 & o)),
                r && (this.offset += 8),
                this
              );
            }),
            (n.writeLong = n.writeInt64),
            (n.readInt64 = function (t) {
              var n = void 0 === t;
              if ((n && (t = this.offset), !this.noAssert)) {
                if ('number' != typeof t || t % 1 != 0)
                  throw TypeError('Illegal offset: ' + t + ' (not an integer)');
                if ((t >>>= 0) < 0 || t + 8 > this.buffer.byteLength)
                  throw RangeError(
                    'Illegal offset: 0 <= ' + t + ' (+8) <= ' + this.buffer.byteLength
                  );
              }
              var r = 0,
                i = 0;
              this.littleEndian
                ? ((r = this.view[t + 2] << 16),
                  (r |= this.view[t + 1] << 8),
                  (r |= this.view[t]),
                  (r += (this.view[t + 3] << 24) >>> 0),
                  (t += 4),
                  (i = this.view[t + 2] << 16),
                  (i |= this.view[t + 1] << 8),
                  (i |= this.view[t]),
                  (i += (this.view[t + 3] << 24) >>> 0))
                : ((i = this.view[t + 1] << 16),
                  (i |= this.view[t + 2] << 8),
                  (i |= this.view[t + 3]),
                  (i += (this.view[t] << 24) >>> 0),
                  (t += 4),
                  (r = this.view[t + 1] << 16),
                  (r |= this.view[t + 2] << 8),
                  (r |= this.view[t + 3]),
                  (r += (this.view[t] << 24) >>> 0));
              var o = new e(r, i, !1);
              return n && (this.offset += 8), o;
            }),
            (n.readLong = n.readInt64),
            (n.writeUint64 = function (t, n) {
              var r = void 0 === n;
              if ((r && (n = this.offset), !this.noAssert)) {
                if ('number' == typeof t) t = e.fromNumber(t);
                else if ('string' == typeof t) t = e.fromString(t);
                else if (!(t && t instanceof e))
                  throw TypeError('Illegal value: ' + t + ' (not an integer or Long)');
                if ('number' != typeof n || n % 1 != 0)
                  throw TypeError('Illegal offset: ' + n + ' (not an integer)');
                if ((n >>>= 0) < 0 || n + 0 > this.buffer.byteLength)
                  throw RangeError(
                    'Illegal offset: 0 <= ' + n + ' (+0) <= ' + this.buffer.byteLength
                  );
              }
              'number' == typeof t
                ? (t = e.fromNumber(t))
                : 'string' == typeof t && (t = e.fromString(t)),
                (n += 8);
              var i = this.buffer.byteLength;
              n > i && this.resize((i *= 2) > n ? i : n), (n -= 8);
              var o = t.low,
                s = t.high;
              return (
                this.littleEndian
                  ? ((this.view[n + 3] = (o >>> 24) & 255),
                    (this.view[n + 2] = (o >>> 16) & 255),
                    (this.view[n + 1] = (o >>> 8) & 255),
                    (this.view[n] = 255 & o),
                    (n += 4),
                    (this.view[n + 3] = (s >>> 24) & 255),
                    (this.view[n + 2] = (s >>> 16) & 255),
                    (this.view[n + 1] = (s >>> 8) & 255),
                    (this.view[n] = 255 & s))
                  : ((this.view[n] = (s >>> 24) & 255),
                    (this.view[n + 1] = (s >>> 16) & 255),
                    (this.view[n + 2] = (s >>> 8) & 255),
                    (this.view[n + 3] = 255 & s),
                    (n += 4),
                    (this.view[n] = (o >>> 24) & 255),
                    (this.view[n + 1] = (o >>> 16) & 255),
                    (this.view[n + 2] = (o >>> 8) & 255),
                    (this.view[n + 3] = 255 & o)),
                r && (this.offset += 8),
                this
              );
            }),
            (n.writeUInt64 = n.writeUint64),
            (n.readUint64 = function (t) {
              var n = void 0 === t;
              if ((n && (t = this.offset), !this.noAssert)) {
                if ('number' != typeof t || t % 1 != 0)
                  throw TypeError('Illegal offset: ' + t + ' (not an integer)');
                if ((t >>>= 0) < 0 || t + 8 > this.buffer.byteLength)
                  throw RangeError(
                    'Illegal offset: 0 <= ' + t + ' (+8) <= ' + this.buffer.byteLength
                  );
              }
              var r = 0,
                i = 0;
              this.littleEndian
                ? ((r = this.view[t + 2] << 16),
                  (r |= this.view[t + 1] << 8),
                  (r |= this.view[t]),
                  (r += (this.view[t + 3] << 24) >>> 0),
                  (t += 4),
                  (i = this.view[t + 2] << 16),
                  (i |= this.view[t + 1] << 8),
                  (i |= this.view[t]),
                  (i += (this.view[t + 3] << 24) >>> 0))
                : ((i = this.view[t + 1] << 16),
                  (i |= this.view[t + 2] << 8),
                  (i |= this.view[t + 3]),
                  (i += (this.view[t] << 24) >>> 0),
                  (t += 4),
                  (r = this.view[t + 1] << 16),
                  (r |= this.view[t + 2] << 8),
                  (r |= this.view[t + 3]),
                  (r += (this.view[t] << 24) >>> 0));
              var o = new e(r, i, !0);
              return n && (this.offset += 8), o;
            }),
            (n.readUInt64 = n.readUint64)),
          (n.writeFloat32 = function (e, t) {
            var n = void 0 === t;
            if ((n && (t = this.offset), !this.noAssert)) {
              if ('number' != typeof e) throw TypeError('Illegal value: ' + e + ' (not a number)');
              if ('number' != typeof t || t % 1 != 0)
                throw TypeError('Illegal offset: ' + t + ' (not an integer)');
              if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + t + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            t += 4;
            var r = this.buffer.byteLength;
            return (
              t > r && this.resize((r *= 2) > t ? r : t),
              (t -= 4),
              u(this.view, e, t, this.littleEndian, 23, 4),
              n && (this.offset += 4),
              this
            );
          }),
          (n.writeFloat = n.writeFloat32),
          (n.readFloat32 = function (e) {
            var t = void 0 === e;
            if ((t && (e = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal offset: ' + e + ' (not an integer)');
              if ((e >>>= 0) < 0 || e + 4 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + e + ' (+4) <= ' + this.buffer.byteLength
                );
            }
            var n = a(this.view, e, this.littleEndian, 23, 4);
            return t && (this.offset += 4), n;
          }),
          (n.readFloat = n.readFloat32),
          (n.writeFloat64 = function (e, t) {
            var n = void 0 === t;
            if ((n && (t = this.offset), !this.noAssert)) {
              if ('number' != typeof e) throw TypeError('Illegal value: ' + e + ' (not a number)');
              if ('number' != typeof t || t % 1 != 0)
                throw TypeError('Illegal offset: ' + t + ' (not an integer)');
              if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + t + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            t += 8;
            var r = this.buffer.byteLength;
            return (
              t > r && this.resize((r *= 2) > t ? r : t),
              (t -= 8),
              u(this.view, e, t, this.littleEndian, 52, 8),
              n && (this.offset += 8),
              this
            );
          }),
          (n.writeDouble = n.writeFloat64),
          (n.readFloat64 = function (e) {
            var t = void 0 === e;
            if ((t && (e = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal offset: ' + e + ' (not an integer)');
              if ((e >>>= 0) < 0 || e + 8 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + e + ' (+8) <= ' + this.buffer.byteLength
                );
            }
            var n = a(this.view, e, this.littleEndian, 52, 8);
            return t && (this.offset += 8), n;
          }),
          (n.readDouble = n.readFloat64),
          (t.MAX_VARINT32_BYTES = 5),
          (t.calculateVarint32 = function (e) {
            return (e >>>= 0) < 128 ? 1 : e < 16384 ? 2 : e < 1 << 21 ? 3 : e < 1 << 28 ? 4 : 5;
          }),
          (t.zigZagEncode32 = function (e) {
            return (((e |= 0) << 1) ^ (e >> 31)) >>> 0;
          }),
          (t.zigZagDecode32 = function (e) {
            return ((e >>> 1) ^ -(1 & e)) | 0;
          }),
          (n.writeVarint32 = function (e, n) {
            var r = void 0 === n;
            if ((r && (n = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal value: ' + e + ' (not an integer)');
              if (((e |= 0), 'number' != typeof n || n % 1 != 0))
                throw TypeError('Illegal offset: ' + n + ' (not an integer)');
              if ((n >>>= 0) < 0 || n + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + n + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            var i,
              o = t.calculateVarint32(e);
            n += o;
            var s = this.buffer.byteLength;
            for (n > s && this.resize((s *= 2) > n ? s : n), n -= o, e >>>= 0; e >= 128; )
              (i = (127 & e) | 128), (this.view[n++] = i), (e >>>= 7);
            return (this.view[n++] = e), r ? ((this.offset = n), this) : o;
          }),
          (n.writeVarint32ZigZag = function (e, n) {
            return this.writeVarint32(t.zigZagEncode32(e), n);
          }),
          (n.readVarint32 = function (e) {
            var t = void 0 === e;
            if ((t && (e = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal offset: ' + e + ' (not an integer)');
              if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + e + ' (+1) <= ' + this.buffer.byteLength
                );
            }
            var n,
              r = 0,
              i = 0;
            do {
              if (!this.noAssert && e > this.limit) {
                var o = Error('Truncated');
                throw ((o.truncated = !0), o);
              }
              (n = this.view[e++]), r < 5 && (i |= (127 & n) << (7 * r)), ++r;
            } while (0 != (128 & n));
            return (i |= 0), t ? ((this.offset = e), i) : { value: i, length: r };
          }),
          (n.readVarint32ZigZag = function (e) {
            var n = this.readVarint32(e);
            return (
              'object' == typeof n
                ? (n.value = t.zigZagDecode32(n.value))
                : (n = t.zigZagDecode32(n)),
              n
            );
          }),
          e &&
            ((t.MAX_VARINT64_BYTES = 10),
            (t.calculateVarint64 = function (t) {
              'number' == typeof t
                ? (t = e.fromNumber(t))
                : 'string' == typeof t && (t = e.fromString(t));
              var n = t.toInt() >>> 0,
                r = t.shiftRightUnsigned(28).toInt() >>> 0,
                i = t.shiftRightUnsigned(56).toInt() >>> 0;
              return 0 == i
                ? 0 == r
                  ? n < 16384
                    ? n < 128
                      ? 1
                      : 2
                    : n < 1 << 21
                    ? 3
                    : 4
                  : r < 16384
                  ? r < 128
                    ? 5
                    : 6
                  : r < 1 << 21
                  ? 7
                  : 8
                : i < 128
                ? 9
                : 10;
            }),
            (t.zigZagEncode64 = function (t) {
              return (
                'number' == typeof t
                  ? (t = e.fromNumber(t, !1))
                  : 'string' == typeof t
                  ? (t = e.fromString(t, !1))
                  : !1 !== t.unsigned && (t = t.toSigned()),
                t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()
              );
            }),
            (t.zigZagDecode64 = function (t) {
              return (
                'number' == typeof t
                  ? (t = e.fromNumber(t, !1))
                  : 'string' == typeof t
                  ? (t = e.fromString(t, !1))
                  : !1 !== t.unsigned && (t = t.toSigned()),
                t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()
              );
            }),
            (n.writeVarint64 = function (n, r) {
              var i = void 0 === r;
              if ((i && (r = this.offset), !this.noAssert)) {
                if ('number' == typeof n) n = e.fromNumber(n);
                else if ('string' == typeof n) n = e.fromString(n);
                else if (!(n && n instanceof e))
                  throw TypeError('Illegal value: ' + n + ' (not an integer or Long)');
                if ('number' != typeof r || r % 1 != 0)
                  throw TypeError('Illegal offset: ' + r + ' (not an integer)');
                if ((r >>>= 0) < 0 || r + 0 > this.buffer.byteLength)
                  throw RangeError(
                    'Illegal offset: 0 <= ' + r + ' (+0) <= ' + this.buffer.byteLength
                  );
              }
              'number' == typeof n
                ? (n = e.fromNumber(n, !1))
                : 'string' == typeof n
                ? (n = e.fromString(n, !1))
                : !1 !== n.unsigned && (n = n.toSigned());
              var o = t.calculateVarint64(n),
                s = n.toInt() >>> 0,
                a = n.shiftRightUnsigned(28).toInt() >>> 0,
                u = n.shiftRightUnsigned(56).toInt() >>> 0;
              r += o;
              var f = this.buffer.byteLength;
              switch ((r > f && this.resize((f *= 2) > r ? f : r), (r -= o), o)) {
                case 10:
                  this.view[r + 9] = (u >>> 7) & 1;
                case 9:
                  this.view[r + 8] = 9 !== o ? 128 | u : 127 & u;
                case 8:
                  this.view[r + 7] = 8 !== o ? (a >>> 21) | 128 : (a >>> 21) & 127;
                case 7:
                  this.view[r + 6] = 7 !== o ? (a >>> 14) | 128 : (a >>> 14) & 127;
                case 6:
                  this.view[r + 5] = 6 !== o ? (a >>> 7) | 128 : (a >>> 7) & 127;
                case 5:
                  this.view[r + 4] = 5 !== o ? 128 | a : 127 & a;
                case 4:
                  this.view[r + 3] = 4 !== o ? (s >>> 21) | 128 : (s >>> 21) & 127;
                case 3:
                  this.view[r + 2] = 3 !== o ? (s >>> 14) | 128 : (s >>> 14) & 127;
                case 2:
                  this.view[r + 1] = 2 !== o ? (s >>> 7) | 128 : (s >>> 7) & 127;
                case 1:
                  this.view[r] = 1 !== o ? 128 | s : 127 & s;
              }
              return i ? ((this.offset += o), this) : o;
            }),
            (n.writeVarint64ZigZag = function (e, n) {
              return this.writeVarint64(t.zigZagEncode64(e), n);
            }),
            (n.readVarint64 = function (t) {
              var n = void 0 === t;
              if ((n && (t = this.offset), !this.noAssert)) {
                if ('number' != typeof t || t % 1 != 0)
                  throw TypeError('Illegal offset: ' + t + ' (not an integer)');
                if ((t >>>= 0) < 0 || t + 1 > this.buffer.byteLength)
                  throw RangeError(
                    'Illegal offset: 0 <= ' + t + ' (+1) <= ' + this.buffer.byteLength
                  );
              }
              var r = t,
                i = 0,
                o = 0,
                s = 0,
                a = 0;
              if (
                ((i = 127 & (a = this.view[t++])),
                128 & a &&
                  ((i |= (127 & (a = this.view[t++])) << 7),
                  (128 & a || (this.noAssert && void 0 === a)) &&
                    ((i |= (127 & (a = this.view[t++])) << 14),
                    (128 & a || (this.noAssert && void 0 === a)) &&
                      ((i |= (127 & (a = this.view[t++])) << 21),
                      (128 & a || (this.noAssert && void 0 === a)) &&
                        ((o = 127 & (a = this.view[t++])),
                        (128 & a || (this.noAssert && void 0 === a)) &&
                          ((o |= (127 & (a = this.view[t++])) << 7),
                          (128 & a || (this.noAssert && void 0 === a)) &&
                            ((o |= (127 & (a = this.view[t++])) << 14),
                            (128 & a || (this.noAssert && void 0 === a)) &&
                              ((o |= (127 & (a = this.view[t++])) << 21),
                              (128 & a || (this.noAssert && void 0 === a)) &&
                                ((s = 127 & (a = this.view[t++])),
                                (128 & a || (this.noAssert && void 0 === a)) &&
                                  ((s |= (127 & (a = this.view[t++])) << 7),
                                  128 & a || (this.noAssert && void 0 === a)))))))))))
              )
                throw Error('Buffer overrun');
              var u = e.fromBits(i | (o << 28), (o >>> 4) | (s << 24), !1);
              return n ? ((this.offset = t), u) : { value: u, length: t - r };
            }),
            (n.readVarint64ZigZag = function (n) {
              var r = this.readVarint64(n);
              return (
                r && r.value instanceof e
                  ? (r.value = t.zigZagDecode64(r.value))
                  : (r = t.zigZagDecode64(r)),
                r
              );
            })),
          (n.writeCString = function (e, t) {
            var n = void 0 === t;
            n && (t = this.offset);
            var r,
              i = e.length;
            if (!this.noAssert) {
              if ('string' != typeof e) throw TypeError('Illegal str: Not a string');
              for (r = 0; r < i; ++r)
                if (0 === e.charCodeAt(r))
                  throw RangeError('Illegal str: Contains NULL-characters');
              if ('number' != typeof t || t % 1 != 0)
                throw TypeError('Illegal offset: ' + t + ' (not an integer)');
              if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + t + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            (i = l.calculateUTF16asUTF8(o(e))[1]), (t += i + 1);
            var s = this.buffer.byteLength;
            return (
              t > s && this.resize((s *= 2) > t ? s : t),
              (t -= i + 1),
              l.encodeUTF16toUTF8(
                o(e),
                function (e) {
                  this.view[t++] = e;
                }.bind(this)
              ),
              (this.view[t++] = 0),
              n ? ((this.offset = t), this) : i
            );
          }),
          (n.readCString = function (e) {
            var t = void 0 === e;
            if ((t && (e = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal offset: ' + e + ' (not an integer)');
              if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + e + ' (+1) <= ' + this.buffer.byteLength
                );
            }
            var n,
              r = e,
              i = -1;
            return (
              l.decodeUTF8toUTF16(
                function () {
                  if (0 === i) return null;
                  if (e >= this.limit)
                    throw RangeError('Illegal range: Truncated data, ' + e + ' < ' + this.limit);
                  return 0 === (i = this.view[e++]) ? null : i;
                }.bind(this),
                (n = s()),
                !0
              ),
              t ? ((this.offset = e), n()) : { string: n(), length: e - r }
            );
          }),
          (n.writeIString = function (e, t) {
            var n = void 0 === t;
            if ((n && (t = this.offset), !this.noAssert)) {
              if ('string' != typeof e) throw TypeError('Illegal str: Not a string');
              if ('number' != typeof t || t % 1 != 0)
                throw TypeError('Illegal offset: ' + t + ' (not an integer)');
              if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + t + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            var r,
              i = t;
            (r = l.calculateUTF16asUTF8(o(e), this.noAssert)[1]), (t += 4 + r);
            var s = this.buffer.byteLength;
            if (
              (t > s && this.resize((s *= 2) > t ? s : t),
              (t -= 4 + r),
              this.littleEndian
                ? ((this.view[t + 3] = (r >>> 24) & 255),
                  (this.view[t + 2] = (r >>> 16) & 255),
                  (this.view[t + 1] = (r >>> 8) & 255),
                  (this.view[t] = 255 & r))
                : ((this.view[t] = (r >>> 24) & 255),
                  (this.view[t + 1] = (r >>> 16) & 255),
                  (this.view[t + 2] = (r >>> 8) & 255),
                  (this.view[t + 3] = 255 & r)),
              (t += 4),
              l.encodeUTF16toUTF8(
                o(e),
                function (e) {
                  this.view[t++] = e;
                }.bind(this)
              ),
              t !== i + 4 + r)
            )
              throw RangeError('Illegal range: Truncated data, ' + t + ' == ' + (t + 4 + r));
            return n ? ((this.offset = t), this) : t - i;
          }),
          (n.readIString = function (e) {
            var n = void 0 === e;
            if ((n && (e = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal offset: ' + e + ' (not an integer)');
              if ((e >>>= 0) < 0 || e + 4 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + e + ' (+4) <= ' + this.buffer.byteLength
                );
            }
            var r = e,
              i = this.readUint32(e),
              o = this.readUTF8String(i, t.METRICS_BYTES, (e += 4));
            return (
              (e += o.length),
              n ? ((this.offset = e), o.string) : { string: o.string, length: e - r }
            );
          }),
          (t.METRICS_CHARS = 'c'),
          (t.METRICS_BYTES = 'b'),
          (n.writeUTF8String = function (e, t) {
            var n,
              r = void 0 === t;
            if ((r && (t = this.offset), !this.noAssert)) {
              if ('number' != typeof t || t % 1 != 0)
                throw TypeError('Illegal offset: ' + t + ' (not an integer)');
              if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + t + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            var i = t;
            (n = l.calculateUTF16asUTF8(o(e))[1]), (t += n);
            var s = this.buffer.byteLength;
            return (
              t > s && this.resize((s *= 2) > t ? s : t),
              (t -= n),
              l.encodeUTF16toUTF8(
                o(e),
                function (e) {
                  this.view[t++] = e;
                }.bind(this)
              ),
              r ? ((this.offset = t), this) : t - i
            );
          }),
          (n.writeString = n.writeUTF8String),
          (t.calculateUTF8Chars = function (e) {
            return l.calculateUTF16asUTF8(o(e))[0];
          }),
          (t.calculateUTF8Bytes = function (e) {
            return l.calculateUTF16asUTF8(o(e))[1];
          }),
          (t.calculateString = t.calculateUTF8Bytes),
          (n.readUTF8String = function (e, n, r) {
            'number' == typeof n && ((r = n), (n = void 0));
            var i = void 0 === r;
            if ((i && (r = this.offset), void 0 === n && (n = t.METRICS_CHARS), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal length: ' + e + ' (not an integer)');
              if (((e |= 0), 'number' != typeof r || r % 1 != 0))
                throw TypeError('Illegal offset: ' + r + ' (not an integer)');
              if ((r >>>= 0) < 0 || r + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + r + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            var o,
              a = 0,
              u = r;
            if (n === t.METRICS_CHARS) {
              if (
                ((o = s()),
                l.decodeUTF8(
                  function () {
                    return a < e && r < this.limit ? this.view[r++] : null;
                  }.bind(this),
                  function (e) {
                    ++a, l.UTF8toUTF16(e, o);
                  }
                ),
                a !== e)
              )
                throw RangeError('Illegal range: Truncated data, ' + a + ' == ' + e);
              return i ? ((this.offset = r), o()) : { string: o(), length: r - u };
            }
            if (n === t.METRICS_BYTES) {
              if (!this.noAssert) {
                if ('number' != typeof r || r % 1 != 0)
                  throw TypeError('Illegal offset: ' + r + ' (not an integer)');
                if ((r >>>= 0) < 0 || r + e > this.buffer.byteLength)
                  throw RangeError(
                    'Illegal offset: 0 <= ' + r + ' (+' + e + ') <= ' + this.buffer.byteLength
                  );
              }
              var f = r + e;
              if (
                (l.decodeUTF8toUTF16(
                  function () {
                    return r < f ? this.view[r++] : null;
                  }.bind(this),
                  (o = s()),
                  this.noAssert
                ),
                r !== f)
              )
                throw RangeError('Illegal range: Truncated data, ' + r + ' == ' + f);
              return i ? ((this.offset = r), o()) : { string: o(), length: r - u };
            }
            throw TypeError('Unsupported metrics: ' + n);
          }),
          (n.readString = n.readUTF8String),
          (n.writeVString = function (e, n) {
            var r = void 0 === n;
            if ((r && (n = this.offset), !this.noAssert)) {
              if ('string' != typeof e) throw TypeError('Illegal str: Not a string');
              if ('number' != typeof n || n % 1 != 0)
                throw TypeError('Illegal offset: ' + n + ' (not an integer)');
              if ((n >>>= 0) < 0 || n + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + n + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            var i,
              s,
              a = n;
            (i = l.calculateUTF16asUTF8(o(e), this.noAssert)[1]),
              (s = t.calculateVarint32(i)),
              (n += s + i);
            var u = this.buffer.byteLength;
            if (
              (n > u && this.resize((u *= 2) > n ? u : n),
              (n -= s + i),
              (n += this.writeVarint32(i, n)),
              l.encodeUTF16toUTF8(
                o(e),
                function (e) {
                  this.view[n++] = e;
                }.bind(this)
              ),
              n !== a + i + s)
            )
              throw RangeError('Illegal range: Truncated data, ' + n + ' == ' + (n + i + s));
            return r ? ((this.offset = n), this) : n - a;
          }),
          (n.readVString = function (e) {
            var n = void 0 === e;
            if ((n && (e = this.offset), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal offset: ' + e + ' (not an integer)');
              if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + e + ' (+1) <= ' + this.buffer.byteLength
                );
            }
            var r = e,
              i = this.readVarint32(e),
              o = this.readUTF8String(i.value, t.METRICS_BYTES, (e += i.length));
            return (
              (e += o.length),
              n ? ((this.offset = e), o.string) : { string: o.string, length: e - r }
            );
          }),
          (n.append = function (e, n, r) {
            ('number' != typeof n && 'string' == typeof n) || ((r = n), (n = void 0));
            var i = void 0 === r;
            if ((i && (r = this.offset), !this.noAssert)) {
              if ('number' != typeof r || r % 1 != 0)
                throw TypeError('Illegal offset: ' + r + ' (not an integer)');
              if ((r >>>= 0) < 0 || r + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + r + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            e instanceof t || (e = t.wrap(e, n));
            var o = e.limit - e.offset;
            if (o <= 0) return this;
            r += o;
            var s = this.buffer.byteLength;
            return (
              r > s && this.resize((s *= 2) > r ? s : r),
              (r -= o),
              this.view.set(e.view.subarray(e.offset, e.limit), r),
              (e.offset += o),
              i && (this.offset += o),
              this
            );
          }),
          (n.appendTo = function (e, t) {
            return e.append(this, t), this;
          }),
          (n.assert = function (e) {
            return (this.noAssert = !e), this;
          }),
          (n.capacity = function () {
            return this.buffer.byteLength;
          }),
          (n.clear = function () {
            return (
              (this.offset = 0),
              (this.limit = this.buffer.byteLength),
              (this.markedOffset = -1),
              this
            );
          }),
          (n.clone = function (e) {
            var n = new t(0, this.littleEndian, this.noAssert);
            return (
              e
                ? ((n.buffer = new ArrayBuffer(this.buffer.byteLength)),
                  (n.view = new Uint8Array(n.buffer)))
                : ((n.buffer = this.buffer), (n.view = this.view)),
              (n.offset = this.offset),
              (n.markedOffset = this.markedOffset),
              (n.limit = this.limit),
              n
            );
          }),
          (n.compact = function (e, t) {
            if (
              (void 0 === e && (e = this.offset), void 0 === t && (t = this.limit), !this.noAssert)
            ) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal begin: Not an integer');
              if (((e >>>= 0), 'number' != typeof t || t % 1 != 0))
                throw TypeError('Illegal end: Not an integer');
              if (((t >>>= 0), e < 0 || e > t || t > this.buffer.byteLength))
                throw RangeError(
                  'Illegal range: 0 <= ' + e + ' <= ' + t + ' <= ' + this.buffer.byteLength
                );
            }
            if (0 === e && t === this.buffer.byteLength) return this;
            var n = t - e;
            if (0 === n)
              return (
                (this.buffer = r),
                (this.view = null),
                this.markedOffset >= 0 && (this.markedOffset -= e),
                (this.offset = 0),
                (this.limit = 0),
                this
              );
            var i = new ArrayBuffer(n),
              o = new Uint8Array(i);
            return (
              o.set(this.view.subarray(e, t)),
              (this.buffer = i),
              (this.view = o),
              this.markedOffset >= 0 && (this.markedOffset -= e),
              (this.offset = 0),
              (this.limit = n),
              this
            );
          }),
          (n.copy = function (e, n) {
            if (
              (void 0 === e && (e = this.offset), void 0 === n && (n = this.limit), !this.noAssert)
            ) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal begin: Not an integer');
              if (((e >>>= 0), 'number' != typeof n || n % 1 != 0))
                throw TypeError('Illegal end: Not an integer');
              if (((n >>>= 0), e < 0 || e > n || n > this.buffer.byteLength))
                throw RangeError(
                  'Illegal range: 0 <= ' + e + ' <= ' + n + ' <= ' + this.buffer.byteLength
                );
            }
            if (e === n) return new t(0, this.littleEndian, this.noAssert);
            var r = n - e,
              i = new t(r, this.littleEndian, this.noAssert);
            return (
              (i.offset = 0),
              (i.limit = r),
              i.markedOffset >= 0 && (i.markedOffset -= e),
              this.copyTo(i, 0, e, n),
              i
            );
          }),
          (n.copyTo = function (e, n, r, i) {
            var o, s;
            if (!this.noAssert && !t.isByteBuffer(e))
              throw TypeError('Illegal target: Not a ByteBuffer');
            if (
              ((n = (s = void 0 === n) ? e.offset : 0 | n),
              (r = (o = void 0 === r) ? this.offset : 0 | r),
              (i = void 0 === i ? this.limit : 0 | i),
              n < 0 || n > e.buffer.byteLength)
            )
              throw RangeError('Illegal target range: 0 <= ' + n + ' <= ' + e.buffer.byteLength);
            if (r < 0 || i > this.buffer.byteLength)
              throw RangeError('Illegal source range: 0 <= ' + r + ' <= ' + this.buffer.byteLength);
            var a = i - r;
            return 0 === a
              ? e
              : (e.ensureCapacity(n + a),
                e.view.set(this.view.subarray(r, i), n),
                o && (this.offset += a),
                s && (e.offset += a),
                this);
          }),
          (n.ensureCapacity = function (e) {
            var t = this.buffer.byteLength;
            return t < e ? this.resize((t *= 2) > e ? t : e) : this;
          }),
          (n.fill = function (e, t, n) {
            var r = void 0 === t;
            if (
              (r && (t = this.offset),
              'string' == typeof e && e.length > 0 && (e = e.charCodeAt(0)),
              void 0 === t && (t = this.offset),
              void 0 === n && (n = this.limit),
              !this.noAssert)
            ) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal value: ' + e + ' (not an integer)');
              if (((e |= 0), 'number' != typeof t || t % 1 != 0))
                throw TypeError('Illegal begin: Not an integer');
              if (((t >>>= 0), 'number' != typeof n || n % 1 != 0))
                throw TypeError('Illegal end: Not an integer');
              if (((n >>>= 0), t < 0 || t > n || n > this.buffer.byteLength))
                throw RangeError(
                  'Illegal range: 0 <= ' + t + ' <= ' + n + ' <= ' + this.buffer.byteLength
                );
            }
            if (t >= n) return this;
            for (; t < n; ) this.view[t++] = e;
            return r && (this.offset = t), this;
          }),
          (n.flip = function () {
            return (this.limit = this.offset), (this.offset = 0), this;
          }),
          (n.mark = function (e) {
            if (((e = void 0 === e ? this.offset : e), !this.noAssert)) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal offset: ' + e + ' (not an integer)');
              if ((e >>>= 0) < 0 || e + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + e + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            return (this.markedOffset = e), this;
          }),
          (n.order = function (e) {
            if (!this.noAssert && 'boolean' != typeof e)
              throw TypeError('Illegal littleEndian: Not a boolean');
            return (this.littleEndian = !!e), this;
          }),
          (n.LE = function (e) {
            return (this.littleEndian = void 0 === e || !!e), this;
          }),
          (n.BE = function (e) {
            return (this.littleEndian = void 0 !== e && !e), this;
          }),
          (n.prepend = function (e, n, r) {
            ('number' != typeof n && 'string' == typeof n) || ((r = n), (n = void 0));
            var i = void 0 === r;
            if ((i && (r = this.offset), !this.noAssert)) {
              if ('number' != typeof r || r % 1 != 0)
                throw TypeError('Illegal offset: ' + r + ' (not an integer)');
              if ((r >>>= 0) < 0 || r + 0 > this.buffer.byteLength)
                throw RangeError(
                  'Illegal offset: 0 <= ' + r + ' (+0) <= ' + this.buffer.byteLength
                );
            }
            e instanceof t || (e = t.wrap(e, n));
            var o = e.limit - e.offset;
            if (o <= 0) return this;
            var s = o - r;
            if (s > 0) {
              var a = new ArrayBuffer(this.buffer.byteLength + s),
                u = new Uint8Array(a);
              u.set(this.view.subarray(r, this.buffer.byteLength), o),
                (this.buffer = a),
                (this.view = u),
                (this.offset += s),
                this.markedOffset >= 0 && (this.markedOffset += s),
                (this.limit += s),
                (r += s);
            } else new Uint8Array(this.buffer);
            return (
              this.view.set(e.view.subarray(e.offset, e.limit), r - o),
              (e.offset = e.limit),
              i && (this.offset -= o),
              this
            );
          }),
          (n.prependTo = function (e, t) {
            return e.prepend(this, t), this;
          }),
          (n.printDebug = function (e) {
            'function' != typeof e && (e = console.log.bind(console)),
              e(
                this.toString() +
                  '\n-------------------------------------------------------------------\n' +
                  this.toDebug(!0)
              );
          }),
          (n.remaining = function () {
            return this.limit - this.offset;
          }),
          (n.reset = function () {
            return (
              this.markedOffset >= 0
                ? ((this.offset = this.markedOffset), (this.markedOffset = -1))
                : (this.offset = 0),
              this
            );
          }),
          (n.resize = function (e) {
            if (!this.noAssert) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal capacity: ' + e + ' (not an integer)');
              if ((e |= 0) < 0) throw RangeError('Illegal capacity: 0 <= ' + e);
            }
            if (this.buffer.byteLength < e) {
              var t = new ArrayBuffer(e),
                n = new Uint8Array(t);
              n.set(this.view), (this.buffer = t), (this.view = n);
            }
            return this;
          }),
          (n.reverse = function (e, t) {
            if (
              (void 0 === e && (e = this.offset), void 0 === t && (t = this.limit), !this.noAssert)
            ) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal begin: Not an integer');
              if (((e >>>= 0), 'number' != typeof t || t % 1 != 0))
                throw TypeError('Illegal end: Not an integer');
              if (((t >>>= 0), e < 0 || e > t || t > this.buffer.byteLength))
                throw RangeError(
                  'Illegal range: 0 <= ' + e + ' <= ' + t + ' <= ' + this.buffer.byteLength
                );
            }
            return e === t || Array.prototype.reverse.call(this.view.subarray(e, t)), this;
          }),
          (n.skip = function (e) {
            if (!this.noAssert) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal length: ' + e + ' (not an integer)');
              e |= 0;
            }
            var t = this.offset + e;
            if (!this.noAssert && (t < 0 || t > this.buffer.byteLength))
              throw RangeError(
                'Illegal length: 0 <= ' + this.offset + ' + ' + e + ' <= ' + this.buffer.byteLength
              );
            return (this.offset = t), this;
          }),
          (n.slice = function (e, t) {
            if (
              (void 0 === e && (e = this.offset), void 0 === t && (t = this.limit), !this.noAssert)
            ) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal begin: Not an integer');
              if (((e >>>= 0), 'number' != typeof t || t % 1 != 0))
                throw TypeError('Illegal end: Not an integer');
              if (((t >>>= 0), e < 0 || e > t || t > this.buffer.byteLength))
                throw RangeError(
                  'Illegal range: 0 <= ' + e + ' <= ' + t + ' <= ' + this.buffer.byteLength
                );
            }
            var n = this.clone();
            return (n.offset = e), (n.limit = t), n;
          }),
          (n.toBuffer = function (e) {
            var t = this.offset,
              n = this.limit;
            if (!this.noAssert) {
              if ('number' != typeof t || t % 1 != 0)
                throw TypeError('Illegal offset: Not an integer');
              if (((t >>>= 0), 'number' != typeof n || n % 1 != 0))
                throw TypeError('Illegal limit: Not an integer');
              if (((n >>>= 0), t < 0 || t > n || n > this.buffer.byteLength))
                throw RangeError(
                  'Illegal range: 0 <= ' + t + ' <= ' + n + ' <= ' + this.buffer.byteLength
                );
            }
            if (!e && 0 === t && n === this.buffer.byteLength) return this.buffer;
            if (t === n) return r;
            var i = new ArrayBuffer(n - t);
            return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(t, n), 0), i;
          }),
          (n.toArrayBuffer = n.toBuffer),
          (n.toString = function (e, t, n) {
            if (void 0 === e)
              return (
                'ByteBufferAB(offset=' +
                this.offset +
                ',markedOffset=' +
                this.markedOffset +
                ',limit=' +
                this.limit +
                ',capacity=' +
                this.capacity() +
                ')'
              );
            switch (('number' == typeof e && (n = t = e = 'utf8'), e)) {
              case 'utf8':
                return this.toUTF8(t, n);
              case 'base64':
                return this.toBase64(t, n);
              case 'hex':
                return this.toHex(t, n);
              case 'binary':
                return this.toBinary(t, n);
              case 'debug':
                return this.toDebug();
              case 'columns':
                return this.toColumns();
              default:
                throw Error('Unsupported encoding: ' + e);
            }
          });
        var f = (function () {
          for (
            var e = {},
              t = [
                65,
                66,
                67,
                68,
                69,
                70,
                71,
                72,
                73,
                74,
                75,
                76,
                77,
                78,
                79,
                80,
                81,
                82,
                83,
                84,
                85,
                86,
                87,
                88,
                89,
                90,
                97,
                98,
                99,
                100,
                101,
                102,
                103,
                104,
                105,
                106,
                107,
                108,
                109,
                110,
                111,
                112,
                113,
                114,
                115,
                116,
                117,
                118,
                119,
                120,
                121,
                122,
                48,
                49,
                50,
                51,
                52,
                53,
                54,
                55,
                56,
                57,
                43,
                47,
              ],
              n = [],
              r = 0,
              i = t.length;
            r < i;
            ++r
          )
            n[t[r]] = r;
          return (
            (e.encode = function (e, n) {
              for (var r, i; null !== (r = e()); )
                n(t[(r >> 2) & 63]),
                  (i = (3 & r) << 4),
                  null !== (r = e())
                    ? (n(t[63 & ((i |= (r >> 4) & 15) | ((r >> 4) & 15))]),
                      (i = (15 & r) << 2),
                      null !== (r = e())
                        ? (n(t[63 & (i | ((r >> 6) & 3))]), n(t[63 & r]))
                        : (n(t[63 & i]), n(61)))
                    : (n(t[63 & i]), n(61), n(61));
            }),
            (e.decode = function (e, t) {
              var r, i, o;
              function s(e) {
                throw Error('Illegal character code: ' + e);
              }
              for (; null !== (r = e()); )
                if (
                  (void 0 === (i = n[r]) && s(r),
                  null !== (r = e()) &&
                    (void 0 === (o = n[r]) && s(r),
                    t(((i << 2) >>> 0) | ((48 & o) >> 4)),
                    null !== (r = e())))
                ) {
                  if (void 0 === (i = n[r])) {
                    if (61 === r) break;
                    s(r);
                  }
                  if ((t((((15 & o) << 4) >>> 0) | ((60 & i) >> 2)), null !== (r = e()))) {
                    if (void 0 === (o = n[r])) {
                      if (61 === r) break;
                      s(r);
                    }
                    t((((3 & i) << 6) >>> 0) | o);
                  }
                }
            }),
            (e.test = function (e) {
              return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e);
            }),
            e
          );
        })();
        (n.toBase64 = function (e, t) {
          if (
            (void 0 === e && (e = this.offset),
            void 0 === t && (t = this.limit),
            (t |= 0),
            (e |= 0) < 0 || t > this.capacity || e > t)
          )
            throw RangeError('begin, end');
          var n;
          return (
            f.encode(
              function () {
                return e < t ? this.view[e++] : null;
              }.bind(this),
              (n = s())
            ),
            n()
          );
        }),
          (t.fromBase64 = function (e, n) {
            if ('string' != typeof e) throw TypeError('str');
            var r = new t((e.length / 4) * 3, n),
              i = 0;
            return (
              f.decode(o(e), function (e) {
                r.view[i++] = e;
              }),
              (r.limit = i),
              r
            );
          }),
          (t.btoa = function (e) {
            return t.fromBinary(e).toBase64();
          }),
          (t.atob = function (e) {
            return t.fromBase64(e).toBinary();
          }),
          (n.toBinary = function (e, t) {
            if (
              (void 0 === e && (e = this.offset),
              void 0 === t && (t = this.limit),
              (t |= 0),
              (e |= 0) < 0 || t > this.capacity() || e > t)
            )
              throw RangeError('begin, end');
            if (e === t) return '';
            for (var n = [], r = []; e < t; )
              n.push(this.view[e++]),
                n.length >= 1024 && (r.push(String.fromCharCode.apply(String, n)), (n = []));
            return r.join('') + String.fromCharCode.apply(String, n);
          }),
          (t.fromBinary = function (e, n) {
            if ('string' != typeof e) throw TypeError('str');
            for (var r, i = 0, o = e.length, s = new t(o, n); i < o; ) {
              if ((r = e.charCodeAt(i)) > 255) throw RangeError('illegal char code: ' + r);
              s.view[i++] = r;
            }
            return (s.limit = o), s;
          }),
          (n.toDebug = function (e) {
            for (var t, n = -1, r = this.buffer.byteLength, i = '', o = '', s = ''; n < r; ) {
              if (
                (-1 !== n &&
                  ((i +=
                    (t = this.view[n]) < 16
                      ? '0' + t.toString(16).toUpperCase()
                      : t.toString(16).toUpperCase()),
                  e && (o += t > 32 && t < 127 ? String.fromCharCode(t) : '.')),
                ++n,
                e && n > 0 && n % 16 == 0 && n !== r)
              ) {
                for (; i.length < 51; ) i += ' ';
                (s += i + o + '\n'), (i = o = '');
              }
              n === this.offset && n === this.limit
                ? (i += n === this.markedOffset ? '!' : '|')
                : n === this.offset
                ? (i += n === this.markedOffset ? '[' : '<')
                : n === this.limit
                ? (i += n === this.markedOffset ? ']' : '>')
                : (i += n === this.markedOffset ? "'" : e || (0 !== n && n !== r) ? ' ' : '');
            }
            if (e && ' ' !== i) {
              for (; i.length < 51; ) i += ' ';
              s += i + o + '\n';
            }
            return e ? s : i;
          }),
          (t.fromDebug = function (e, n, r) {
            for (
              var i,
                o,
                s = e.length,
                a = new t(((s + 1) / 3) | 0, n, r),
                u = 0,
                f = 0,
                l = !1,
                c = !1,
                h = !1,
                p = !1,
                d = !1;
              u < s;

            ) {
              switch ((i = e.charAt(u++))) {
                case '!':
                  if (!r) {
                    if (c || h || p) {
                      d = !0;
                      break;
                    }
                    c = h = p = !0;
                  }
                  (a.offset = a.markedOffset = a.limit = f), (l = !1);
                  break;
                case '|':
                  if (!r) {
                    if (c || p) {
                      d = !0;
                      break;
                    }
                    c = p = !0;
                  }
                  (a.offset = a.limit = f), (l = !1);
                  break;
                case '[':
                  if (!r) {
                    if (c || h) {
                      d = !0;
                      break;
                    }
                    c = h = !0;
                  }
                  (a.offset = a.markedOffset = f), (l = !1);
                  break;
                case '<':
                  if (!r) {
                    if (c) {
                      d = !0;
                      break;
                    }
                    c = !0;
                  }
                  (a.offset = f), (l = !1);
                  break;
                case ']':
                  if (!r) {
                    if (p || h) {
                      d = !0;
                      break;
                    }
                    p = h = !0;
                  }
                  (a.limit = a.markedOffset = f), (l = !1);
                  break;
                case '>':
                  if (!r) {
                    if (p) {
                      d = !0;
                      break;
                    }
                    p = !0;
                  }
                  (a.limit = f), (l = !1);
                  break;
                case "'":
                  if (!r) {
                    if (h) {
                      d = !0;
                      break;
                    }
                    h = !0;
                  }
                  (a.markedOffset = f), (l = !1);
                  break;
                case ' ':
                  l = !1;
                  break;
                default:
                  if (!r && l) {
                    d = !0;
                    break;
                  }
                  if (((o = parseInt(i + e.charAt(u++), 16)), !r && (isNaN(o) || o < 0 || o > 255)))
                    throw TypeError('Illegal str: Not a debug encoded string');
                  (a.view[f++] = o), (l = !0);
              }
              if (d) throw TypeError('Illegal str: Invalid symbol at ' + u);
            }
            if (!r) {
              if (!c || !p) throw TypeError('Illegal str: Missing offset or limit');
              if (f < a.buffer.byteLength)
                throw TypeError(
                  'Illegal str: Not a debug encoded string (is it hex?) ' + f + ' < ' + s
                );
            }
            return a;
          }),
          (n.toHex = function (e, t) {
            if (
              ((e = void 0 === e ? this.offset : e),
              (t = void 0 === t ? this.limit : t),
              !this.noAssert)
            ) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal begin: Not an integer');
              if (((e >>>= 0), 'number' != typeof t || t % 1 != 0))
                throw TypeError('Illegal end: Not an integer');
              if (((t >>>= 0), e < 0 || e > t || t > this.buffer.byteLength))
                throw RangeError(
                  'Illegal range: 0 <= ' + e + ' <= ' + t + ' <= ' + this.buffer.byteLength
                );
            }
            for (var n, r = new Array(t - e); e < t; )
              (n = this.view[e++]) < 16 ? r.push('0', n.toString(16)) : r.push(n.toString(16));
            return r.join('');
          }),
          (t.fromHex = function (e, n, r) {
            if (!r) {
              if ('string' != typeof e) throw TypeError('Illegal str: Not a string');
              if (e.length % 2 != 0) throw TypeError('Illegal str: Length not a multiple of 2');
            }
            for (var i, o = e.length, s = new t((o / 2) | 0, n), a = 0, u = 0; a < o; a += 2) {
              if (
                ((i = parseInt(e.substring(a, a + 2), 16)),
                !r && (!isFinite(i) || i < 0 || i > 255))
              )
                throw TypeError('Illegal str: Contains non-hex characters');
              s.view[u++] = i;
            }
            return (s.limit = u), s;
          });
        var l = (function () {
          var e = {
            MAX_CODEPOINT: 1114111,
            encodeUTF8: function (e, t) {
              var n = null;
              for (
                'number' == typeof e &&
                ((n = e),
                (e = function () {
                  return null;
                }));
                null !== n || null !== (n = e());

              )
                n < 128
                  ? t(127 & n)
                  : n < 2048
                  ? (t(((n >> 6) & 31) | 192), t((63 & n) | 128))
                  : n < 65536
                  ? (t(((n >> 12) & 15) | 224), t(((n >> 6) & 63) | 128), t((63 & n) | 128))
                  : (t(((n >> 18) & 7) | 240),
                    t(((n >> 12) & 63) | 128),
                    t(((n >> 6) & 63) | 128),
                    t((63 & n) | 128)),
                  (n = null);
            },
            decodeUTF8: function (e, t) {
              for (
                var n,
                  r,
                  i,
                  o,
                  s = function (e) {
                    e = e.slice(0, e.indexOf(null));
                    var t = Error(e.toString());
                    throw ((t.name = 'TruncatedError'), (t.bytes = e), t);
                  };
                null !== (n = e());

              )
                if (0 == (128 & n)) t(n);
                else if (192 == (224 & n))
                  null === (r = e()) && s([n, r]), t(((31 & n) << 6) | (63 & r));
                else if (224 == (240 & n))
                  (null === (r = e()) || null === (i = e())) && s([n, r, i]),
                    t(((15 & n) << 12) | ((63 & r) << 6) | (63 & i));
                else {
                  if (240 != (248 & n)) throw RangeError('Illegal starting byte: ' + n);
                  (null === (r = e()) || null === (i = e()) || null === (o = e())) &&
                    s([n, r, i, o]),
                    t(((7 & n) << 18) | ((63 & r) << 12) | ((63 & i) << 6) | (63 & o));
                }
            },
            UTF16toUTF8: function (e, t) {
              for (var n, r = null; null !== (n = null !== r ? r : e()); )
                n >= 55296 && n <= 57343 && null !== (r = e()) && r >= 56320 && r <= 57343
                  ? (t(1024 * (n - 55296) + r - 56320 + 65536), (r = null))
                  : t(n);
              null !== r && t(r);
            },
            UTF8toUTF16: function (e, t) {
              var n = null;
              for (
                'number' == typeof e &&
                ((n = e),
                (e = function () {
                  return null;
                }));
                null !== n || null !== (n = e());

              )
                n <= 65535 ? t(n) : (t(55296 + ((n -= 65536) >> 10)), t((n % 1024) + 56320)),
                  (n = null);
            },
            encodeUTF16toUTF8: function (t, n) {
              e.UTF16toUTF8(t, function (t) {
                e.encodeUTF8(t, n);
              });
            },
            decodeUTF8toUTF16: function (t, n) {
              e.decodeUTF8(t, function (t) {
                e.UTF8toUTF16(t, n);
              });
            },
            calculateCodePoint: function (e) {
              return e < 128 ? 1 : e < 2048 ? 2 : e < 65536 ? 3 : 4;
            },
            calculateUTF8: function (e) {
              for (var t, n = 0; null !== (t = e()); )
                n += t < 128 ? 1 : t < 2048 ? 2 : t < 65536 ? 3 : 4;
              return n;
            },
            calculateUTF16asUTF8: function (t) {
              var n = 0,
                r = 0;
              return (
                e.UTF16toUTF8(t, function (e) {
                  ++n, (r += e < 128 ? 1 : e < 2048 ? 2 : e < 65536 ? 3 : 4);
                }),
                [n, r]
              );
            },
          };
          return e;
        })();
        return (
          (n.toUTF8 = function (e, t) {
            if (
              (void 0 === e && (e = this.offset), void 0 === t && (t = this.limit), !this.noAssert)
            ) {
              if ('number' != typeof e || e % 1 != 0)
                throw TypeError('Illegal begin: Not an integer');
              if (((e >>>= 0), 'number' != typeof t || t % 1 != 0))
                throw TypeError('Illegal end: Not an integer');
              if (((t >>>= 0), e < 0 || e > t || t > this.buffer.byteLength))
                throw RangeError(
                  'Illegal range: 0 <= ' + e + ' <= ' + t + ' <= ' + this.buffer.byteLength
                );
            }
            var n;
            try {
              l.decodeUTF8toUTF16(
                function () {
                  return e < t ? this.view[e++] : null;
                }.bind(this),
                (n = s())
              );
            } catch (n) {
              if (e !== t) throw RangeError('Illegal range: Truncated data, ' + e + ' != ' + t);
            }
            return n();
          }),
          (t.fromUTF8 = function (e, n, r) {
            if (!r && 'string' != typeof e) throw TypeError('Illegal str: Not a string');
            var i = new t(l.calculateUTF16asUTF8(o(e), !0)[1], n, r),
              s = 0;
            return (
              l.encodeUTF16toUTF8(o(e), function (e) {
                i.view[s++] = e;
              }),
              (i.limit = s),
              i
            );
          }),
          t
        );
      });
    }),
    Xt = a(Object.freeze({ __proto__: null, default: {} })),
    Ht = s(function (e) {
      /**
       * @license protobuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
       * Released under the Apache License, Version 2.0
       * see: https://github.com/dcodeIO/protobuf.js for details
       */
      !(function (t, n) {
        e && e.exports
          ? (e.exports = n(Qt, !0))
          : ((t.dcodeIO = t.dcodeIO || {}).ProtoBuf = n(t.dcodeIO.ByteBuffer));
      })(o, function (e, t) {
        var n,
          r = {};
        return (
          (r.ByteBuffer = e),
          (r.Long = e.Long || null),
          (r.VERSION = '5.0.3'),
          (r.WIRE_TYPES = {}),
          (r.WIRE_TYPES.VARINT = 0),
          (r.WIRE_TYPES.BITS64 = 1),
          (r.WIRE_TYPES.LDELIM = 2),
          (r.WIRE_TYPES.STARTGROUP = 3),
          (r.WIRE_TYPES.ENDGROUP = 4),
          (r.WIRE_TYPES.BITS32 = 5),
          (r.PACKABLE_WIRE_TYPES = [r.WIRE_TYPES.VARINT, r.WIRE_TYPES.BITS64, r.WIRE_TYPES.BITS32]),
          (r.TYPES = {
            int32: { name: 'int32', wireType: r.WIRE_TYPES.VARINT, defaultValue: 0 },
            uint32: { name: 'uint32', wireType: r.WIRE_TYPES.VARINT, defaultValue: 0 },
            sint32: { name: 'sint32', wireType: r.WIRE_TYPES.VARINT, defaultValue: 0 },
            int64: {
              name: 'int64',
              wireType: r.WIRE_TYPES.VARINT,
              defaultValue: r.Long ? r.Long.ZERO : void 0,
            },
            uint64: {
              name: 'uint64',
              wireType: r.WIRE_TYPES.VARINT,
              defaultValue: r.Long ? r.Long.UZERO : void 0,
            },
            sint64: {
              name: 'sint64',
              wireType: r.WIRE_TYPES.VARINT,
              defaultValue: r.Long ? r.Long.ZERO : void 0,
            },
            bool: { name: 'bool', wireType: r.WIRE_TYPES.VARINT, defaultValue: !1 },
            double: { name: 'double', wireType: r.WIRE_TYPES.BITS64, defaultValue: 0 },
            string: { name: 'string', wireType: r.WIRE_TYPES.LDELIM, defaultValue: '' },
            bytes: { name: 'bytes', wireType: r.WIRE_TYPES.LDELIM, defaultValue: null },
            fixed32: { name: 'fixed32', wireType: r.WIRE_TYPES.BITS32, defaultValue: 0 },
            sfixed32: { name: 'sfixed32', wireType: r.WIRE_TYPES.BITS32, defaultValue: 0 },
            fixed64: {
              name: 'fixed64',
              wireType: r.WIRE_TYPES.BITS64,
              defaultValue: r.Long ? r.Long.UZERO : void 0,
            },
            sfixed64: {
              name: 'sfixed64',
              wireType: r.WIRE_TYPES.BITS64,
              defaultValue: r.Long ? r.Long.ZERO : void 0,
            },
            float: { name: 'float', wireType: r.WIRE_TYPES.BITS32, defaultValue: 0 },
            enum: { name: 'enum', wireType: r.WIRE_TYPES.VARINT, defaultValue: 0 },
            message: { name: 'message', wireType: r.WIRE_TYPES.LDELIM, defaultValue: null },
            group: { name: 'group', wireType: r.WIRE_TYPES.STARTGROUP, defaultValue: null },
          }),
          (r.MAP_KEY_TYPES = [
            r.TYPES.int32,
            r.TYPES.sint32,
            r.TYPES.sfixed32,
            r.TYPES.uint32,
            r.TYPES.fixed32,
            r.TYPES.int64,
            r.TYPES.sint64,
            r.TYPES.sfixed64,
            r.TYPES.uint64,
            r.TYPES.fixed64,
            r.TYPES.bool,
            r.TYPES.string,
            r.TYPES.bytes,
          ]),
          (r.ID_MIN = 1),
          (r.ID_MAX = 536870911),
          (r.convertFieldsToCamelCase = !1),
          (r.populateAccessors = !0),
          (r.populateDefaults = !0),
          (r.Util =
            (((n = {}).IS_NODE = !(
              'object' != typeof process ||
              process + '' != '[object process]' ||
              process.browser
            )),
            (n.XHR = function () {
              for (
                var e = [
                    function () {
                      return new XMLHttpRequest();
                    },
                    function () {
                      return new ActiveXObject('Msxml2.XMLHTTP');
                    },
                    function () {
                      return new ActiveXObject('Msxml3.XMLHTTP');
                    },
                    function () {
                      return new ActiveXObject('Microsoft.XMLHTTP');
                    },
                  ],
                  t = null,
                  n = 0;
                n < e.length;
                n++
              ) {
                try {
                  t = e[n]();
                } catch (e) {
                  continue;
                }
                break;
              }
              if (!t) throw Error('XMLHttpRequest is not supported');
              return t;
            }),
            (n.fetch = function (e, t) {
              if ((t && 'function' != typeof t && (t = null), n.IS_NODE)) {
                var r = Xt;
                if (t)
                  r.readFile(e, function (e, n) {
                    t(e ? null : '' + n);
                  });
                else
                  try {
                    return r.readFileSync(e);
                  } catch (e) {
                    return null;
                  }
              } else {
                var i = n.XHR();
                if (
                  (i.open('GET', e, !!t),
                  i.setRequestHeader('Accept', 'text/plain'),
                  'function' == typeof i.overrideMimeType && i.overrideMimeType('text/plain'),
                  !t)
                )
                  return (
                    i.send(null),
                    200 == i.status || (0 == i.status && 'string' == typeof i.responseText)
                      ? i.responseText
                      : null
                  );
                if (
                  ((i.onreadystatechange = function () {
                    4 == i.readyState &&
                      (200 == i.status || (0 == i.status && 'string' == typeof i.responseText)
                        ? t(i.responseText)
                        : t(null));
                  }),
                  4 == i.readyState)
                )
                  return;
                i.send(null);
              }
            }),
            (n.toCamelCase = function (e) {
              return e.replace(/_([a-zA-Z])/g, function (e, t) {
                return t.toUpperCase();
              });
            }),
            n)),
          (r.Lang = {
            DELIM: /[\s\{\}=;:\[\],'"\(\)<>]/g,
            RULE: /^(?:required|optional|repeated|map)$/,
            TYPE: /^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,
            NAME: /^[a-zA-Z_][a-zA-Z_0-9]*$/,
            TYPEDEF: /^[a-zA-Z][a-zA-Z_0-9]*$/,
            TYPEREF: /^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,
            FQTYPEREF: /^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/,
            NUMBER: /^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,
            NUMBER_DEC: /^(?:[1-9][0-9]*|0)$/,
            NUMBER_HEX: /^0[xX][0-9a-fA-F]+$/,
            NUMBER_OCT: /^0[0-7]+$/,
            NUMBER_FLT: /^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,
            BOOL: /^(?:true|false)$/i,
            ID: /^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,
            NEGID: /^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,
            WHITESPACE: /\s/,
            STRING: /(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,
            STRING_DQ: /(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,
            STRING_SQ: /(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,
          }),
          (r.Reflect = (function (t) {
            var n = {},
              r = function (e, t, n) {
                (this.builder = e), (this.parent = t), (this.name = n), this.className;
              },
              i = r.prototype;
            (i.fqn = function () {
              for (var e = this.name, t = this; ; ) {
                if (null == (t = t.parent)) break;
                e = t.name + '.' + e;
              }
              return e;
            }),
              (i.toString = function (e) {
                return (e ? this.className + ' ' : '') + this.fqn();
              }),
              (i.build = function () {
                throw Error(this.toString(!0) + ' cannot be built directly');
              }),
              (n.T = r);
            var o = function (e, t, n, i, o) {
                r.call(this, e, t, n),
                  (this.className = 'Namespace'),
                  (this.children = []),
                  (this.options = i || {}),
                  (this.syntax = o || 'proto2');
              },
              s = (o.prototype = Object.create(r.prototype));
            (s.getChildren = function (e) {
              if (null == (e = e || null)) return this.children.slice();
              for (var t = [], n = 0, r = this.children.length; n < r; ++n)
                this.children[n] instanceof e && t.push(this.children[n]);
              return t;
            }),
              (s.addChild = function (e) {
                var t;
                if ((t = this.getChild(e.name)))
                  if (
                    t instanceof l.Field &&
                    t.name !== t.originalName &&
                    null === this.getChild(t.originalName)
                  )
                    t.name = t.originalName;
                  else {
                    if (
                      !(
                        e instanceof l.Field &&
                        e.name !== e.originalName &&
                        null === this.getChild(e.originalName)
                      )
                    )
                      throw Error(
                        'Duplicate name in namespace ' + this.toString(!0) + ': ' + e.name
                      );
                    e.name = e.originalName;
                  }
                this.children.push(e);
              }),
              (s.getChild = function (e) {
                for (
                  var t = 'number' == typeof e ? 'id' : 'name', n = 0, r = this.children.length;
                  n < r;
                  ++n
                )
                  if (this.children[n][t] === e) return this.children[n];
                return null;
              }),
              (s.resolve = function (e, t) {
                var r,
                  i = 'string' == typeof e ? e.split('.') : e,
                  o = this,
                  s = 0;
                if ('' === i[s]) {
                  for (; null !== o.parent; ) o = o.parent;
                  s++;
                }
                do {
                  do {
                    if (!(o instanceof n.Namespace)) {
                      o = null;
                      break;
                    }
                    if (
                      !(r = o.getChild(i[s])) ||
                      !(r instanceof n.T) ||
                      (t && !(r instanceof n.Namespace))
                    ) {
                      o = null;
                      break;
                    }
                    (o = r), s++;
                  } while (s < i.length);
                  if (null != o) break;
                  if (null !== this.parent) return this.parent.resolve(e, t);
                } while (null != o);
                return o;
              }),
              (s.qn = function (e) {
                var t = [],
                  r = e;
                do {
                  t.unshift(r.name), (r = r.parent);
                } while (null !== r);
                for (var i = 1; i <= t.length; i++) {
                  var o = t.slice(t.length - i);
                  if (e === this.resolve(o, e instanceof n.Namespace)) return o.join('.');
                }
                return e.fqn();
              }),
              (s.build = function () {
                for (var e, t = {}, n = this.children, r = 0, i = n.length; r < i; ++r)
                  (e = n[r]) instanceof o && (t[e.name] = e.build());
                return (
                  Object.defineProperty &&
                    Object.defineProperty(t, '$options', { value: this.buildOpt() }),
                  t
                );
              }),
              (s.buildOpt = function () {
                for (var e = {}, t = Object.keys(this.options), n = 0, r = t.length; n < r; ++n) {
                  var i = t[n],
                    o = this.options[t[n]];
                  e[i] = o;
                }
                return e;
              }),
              (s.getOption = function (e) {
                return void 0 === e
                  ? this.options
                  : void 0 !== this.options[e]
                  ? this.options[e]
                  : null;
              }),
              (n.Namespace = o);
            var a = function (e, n, r, i, o) {
                if (
                  ((this.type = e),
                  (this.resolvedType = n),
                  (this.isMapKey = r),
                  (this.syntax = i),
                  (this.name = o),
                  r && t.MAP_KEY_TYPES.indexOf(e) < 0)
                )
                  throw Error('Invalid map key type: ' + e.name);
              },
              u = a.prototype;
            function f(e, n) {
              if (
                e &&
                'number' == typeof e.low &&
                'number' == typeof e.high &&
                'boolean' == typeof e.unsigned &&
                e.low == e.low &&
                e.high == e.high
              )
                return new t.Long(e.low, e.high, void 0 === n ? e.unsigned : n);
              if ('string' == typeof e) return t.Long.fromString(e, n || !1, 10);
              if ('number' == typeof e) return t.Long.fromNumber(e, n || !1);
              throw Error('not convertible to Long');
            }
            (a.defaultFieldValue = function (n) {
              if (('string' == typeof n && (n = t.TYPES[n]), void 0 === n.defaultValue))
                throw Error('default value for type ' + n.name + ' is not supported');
              return n == t.TYPES.bytes ? new e(0) : n.defaultValue;
            }),
              (u.toString = function () {
                return (this.name || '') + (this.isMapKey ? 'map' : 'value') + ' element';
              }),
              (u.verifyValue = function (n) {
                var r = this;
                function i(e, t) {
                  throw Error(
                    'Illegal value for ' +
                      r.toString(!0) +
                      ' of type ' +
                      r.type.name +
                      ': ' +
                      e +
                      ' (' +
                      t +
                      ')'
                  );
                }
                switch (this.type) {
                  case t.TYPES.int32:
                  case t.TYPES.sint32:
                  case t.TYPES.sfixed32:
                    return (
                      ('number' != typeof n || (n == n && n % 1 != 0)) &&
                        i(typeof n, 'not an integer'),
                      n > 4294967295 ? 0 | n : n
                    );
                  case t.TYPES.uint32:
                  case t.TYPES.fixed32:
                    return (
                      ('number' != typeof n || (n == n && n % 1 != 0)) &&
                        i(typeof n, 'not an integer'),
                      n < 0 ? n >>> 0 : n
                    );
                  case t.TYPES.int64:
                  case t.TYPES.sint64:
                  case t.TYPES.sfixed64:
                    if (t.Long)
                      try {
                        return f(n, !1);
                      } catch (e) {
                        i(typeof n, e.message);
                      }
                    else i(typeof n, 'requires Long.js');
                  case t.TYPES.uint64:
                  case t.TYPES.fixed64:
                    if (t.Long)
                      try {
                        return f(n, !0);
                      } catch (e) {
                        i(typeof n, e.message);
                      }
                    else i(typeof n, 'requires Long.js');
                  case t.TYPES.bool:
                    return 'boolean' != typeof n && i(typeof n, 'not a boolean'), n;
                  case t.TYPES.float:
                  case t.TYPES.double:
                    return 'number' != typeof n && i(typeof n, 'not a number'), n;
                  case t.TYPES.string:
                    return (
                      'string' == typeof n ||
                        (n && n instanceof String) ||
                        i(typeof n, 'not a string'),
                      '' + n
                    );
                  case t.TYPES.bytes:
                    return e.isByteBuffer(n) ? n : e.wrap(n, 'base64');
                  case t.TYPES.enum:
                    var o = this.resolvedType.getChildren(t.Reflect.Enum.Value);
                    for (a = 0; a < o.length; a++) {
                      if (o[a].name == n) return o[a].id;
                      if (o[a].id == n) return o[a].id;
                    }
                    if ('proto3' === this.syntax)
                      return (
                        ('number' != typeof n || (n == n && n % 1 != 0)) &&
                          i(typeof n, 'not an integer'),
                        (n > 4294967295 || n < 0) && i(typeof n, 'not in range for uint32'),
                        n
                      );
                    i(n, 'not a valid enum value');
                  case t.TYPES.group:
                  case t.TYPES.message:
                    if (
                      ((n && 'object' == typeof n) || i(typeof n, 'object expected'),
                      n instanceof this.resolvedType.clazz)
                    )
                      return n;
                    if (n instanceof t.Builder.Message) {
                      var s = {};
                      for (var a in n) n.hasOwnProperty(a) && (s[a] = n[a]);
                      n = s;
                    }
                    return new this.resolvedType.clazz(n);
                }
                throw Error(
                  '[INTERNAL] Illegal value for ' +
                    this.toString(!0) +
                    ': ' +
                    n +
                    ' (undefined type ' +
                    this.type +
                    ')'
                );
              }),
              (u.calculateLength = function (n, r) {
                if (null === r) return 0;
                var i;
                switch (this.type) {
                  case t.TYPES.int32:
                    return r < 0 ? e.calculateVarint64(r) : e.calculateVarint32(r);
                  case t.TYPES.uint32:
                    return e.calculateVarint32(r);
                  case t.TYPES.sint32:
                    return e.calculateVarint32(e.zigZagEncode32(r));
                  case t.TYPES.fixed32:
                  case t.TYPES.sfixed32:
                  case t.TYPES.float:
                    return 4;
                  case t.TYPES.int64:
                  case t.TYPES.uint64:
                    return e.calculateVarint64(r);
                  case t.TYPES.sint64:
                    return e.calculateVarint64(e.zigZagEncode64(r));
                  case t.TYPES.fixed64:
                  case t.TYPES.sfixed64:
                    return 8;
                  case t.TYPES.bool:
                    return 1;
                  case t.TYPES.enum:
                    return e.calculateVarint32(r);
                  case t.TYPES.double:
                    return 8;
                  case t.TYPES.string:
                    return (i = e.calculateUTF8Bytes(r)), e.calculateVarint32(i) + i;
                  case t.TYPES.bytes:
                    if (r.remaining() < 0)
                      throw Error(
                        'Illegal value for ' +
                          this.toString(!0) +
                          ': ' +
                          r.remaining() +
                          ' bytes remaining'
                      );
                    return e.calculateVarint32(r.remaining()) + r.remaining();
                  case t.TYPES.message:
                    return (i = this.resolvedType.calculate(r)), e.calculateVarint32(i) + i;
                  case t.TYPES.group:
                    return (
                      (i = this.resolvedType.calculate(r)) +
                      e.calculateVarint32((n << 3) | t.WIRE_TYPES.ENDGROUP)
                    );
                }
                throw Error(
                  '[INTERNAL] Illegal value to encode in ' +
                    this.toString(!0) +
                    ': ' +
                    r +
                    ' (unknown type)'
                );
              }),
              (u.encodeValue = function (n, r, i) {
                if (null === r) return i;
                switch (this.type) {
                  case t.TYPES.int32:
                    r < 0 ? i.writeVarint64(r) : i.writeVarint32(r);
                    break;
                  case t.TYPES.uint32:
                    i.writeVarint32(r);
                    break;
                  case t.TYPES.sint32:
                    i.writeVarint32ZigZag(r);
                    break;
                  case t.TYPES.fixed32:
                    i.writeUint32(r);
                    break;
                  case t.TYPES.sfixed32:
                    i.writeInt32(r);
                    break;
                  case t.TYPES.int64:
                  case t.TYPES.uint64:
                    i.writeVarint64(r);
                    break;
                  case t.TYPES.sint64:
                    i.writeVarint64ZigZag(r);
                    break;
                  case t.TYPES.fixed64:
                    i.writeUint64(r);
                    break;
                  case t.TYPES.sfixed64:
                    i.writeInt64(r);
                    break;
                  case t.TYPES.bool:
                    'string' == typeof r
                      ? i.writeVarint32('false' === r.toLowerCase() ? 0 : !!r)
                      : i.writeVarint32(r ? 1 : 0);
                    break;
                  case t.TYPES.enum:
                    i.writeVarint32(r);
                    break;
                  case t.TYPES.float:
                    i.writeFloat32(r);
                    break;
                  case t.TYPES.double:
                    i.writeFloat64(r);
                    break;
                  case t.TYPES.string:
                    i.writeVString(r);
                    break;
                  case t.TYPES.bytes:
                    if (r.remaining() < 0)
                      throw Error(
                        'Illegal value for ' +
                          this.toString(!0) +
                          ': ' +
                          r.remaining() +
                          ' bytes remaining'
                      );
                    var o = r.offset;
                    i.writeVarint32(r.remaining()), i.append(r), (r.offset = o);
                    break;
                  case t.TYPES.message:
                    var s = new e().LE();
                    this.resolvedType.encode(r, s), i.writeVarint32(s.offset), i.append(s.flip());
                    break;
                  case t.TYPES.group:
                    this.resolvedType.encode(r, i),
                      i.writeVarint32((n << 3) | t.WIRE_TYPES.ENDGROUP);
                    break;
                  default:
                    throw Error(
                      '[INTERNAL] Illegal value to encode in ' +
                        this.toString(!0) +
                        ': ' +
                        r +
                        ' (unknown type)'
                    );
                }
                return i;
              }),
              (u.decode = function (e, n, r) {
                if (n != this.type.wireType) throw Error('Unexpected wire type for element');
                var i, o;
                switch (this.type) {
                  case t.TYPES.int32:
                    return 0 | e.readVarint32();
                  case t.TYPES.uint32:
                    return e.readVarint32() >>> 0;
                  case t.TYPES.sint32:
                    return 0 | e.readVarint32ZigZag();
                  case t.TYPES.fixed32:
                    return e.readUint32() >>> 0;
                  case t.TYPES.sfixed32:
                    return 0 | e.readInt32();
                  case t.TYPES.int64:
                    return e.readVarint64();
                  case t.TYPES.uint64:
                    return e.readVarint64().toUnsigned();
                  case t.TYPES.sint64:
                    return e.readVarint64ZigZag();
                  case t.TYPES.fixed64:
                    return e.readUint64();
                  case t.TYPES.sfixed64:
                    return e.readInt64();
                  case t.TYPES.bool:
                    return !!e.readVarint32();
                  case t.TYPES.enum:
                    return e.readVarint32();
                  case t.TYPES.float:
                    return e.readFloat();
                  case t.TYPES.double:
                    return e.readDouble();
                  case t.TYPES.string:
                    return e.readVString();
                  case t.TYPES.bytes:
                    if (((o = e.readVarint32()), e.remaining() < o))
                      throw Error(
                        'Illegal number of bytes for ' +
                          this.toString(!0) +
                          ': ' +
                          o +
                          ' required but got only ' +
                          e.remaining()
                      );
                    return ((i = e.clone()).limit = i.offset + o), (e.offset += o), i;
                  case t.TYPES.message:
                    return (o = e.readVarint32()), this.resolvedType.decode(e, o);
                  case t.TYPES.group:
                    return this.resolvedType.decode(e, -1, r);
                }
                throw Error('[INTERNAL] Illegal decode type');
              }),
              (u.valueFromString = function (n) {
                if (!this.isMapKey) throw Error('valueFromString() called on non-map-key element');
                switch (this.type) {
                  case t.TYPES.int32:
                  case t.TYPES.sint32:
                  case t.TYPES.sfixed32:
                  case t.TYPES.uint32:
                  case t.TYPES.fixed32:
                    return this.verifyValue(parseInt(n));
                  case t.TYPES.int64:
                  case t.TYPES.sint64:
                  case t.TYPES.sfixed64:
                  case t.TYPES.uint64:
                  case t.TYPES.fixed64:
                    return this.verifyValue(n);
                  case t.TYPES.bool:
                    return 'true' === n;
                  case t.TYPES.string:
                    return this.verifyValue(n);
                  case t.TYPES.bytes:
                    return e.fromBinary(n);
                }
              }),
              (u.valueToString = function (e) {
                if (!this.isMapKey) throw Error('valueToString() called on non-map-key element');
                return this.type === t.TYPES.bytes ? e.toString('binary') : e.toString();
              }),
              (n.Element = a);
            var l = function (e, t, n, r, i, s) {
                o.call(this, e, t, n, r, s),
                  (this.className = 'Message'),
                  (this.extensions = void 0),
                  (this.clazz = null),
                  (this.isGroup = !!i),
                  (this._fields = null),
                  (this._fieldsById = null),
                  (this._fieldsByName = null);
              },
              c = (l.prototype = Object.create(o.prototype));
            function h(e, n) {
              var r = n.readVarint32(),
                i = 7 & r,
                o = r >>> 3;
              switch (i) {
                case t.WIRE_TYPES.VARINT:
                  do {
                    r = n.readUint8();
                  } while (128 == (128 & r));
                  break;
                case t.WIRE_TYPES.BITS64:
                  n.offset += 8;
                  break;
                case t.WIRE_TYPES.LDELIM:
                  (r = n.readVarint32()), (n.offset += r);
                  break;
                case t.WIRE_TYPES.STARTGROUP:
                  h(o, n);
                  break;
                case t.WIRE_TYPES.ENDGROUP:
                  if (o === e) return !1;
                  throw Error(
                    'Illegal GROUPEND after unknown group: ' + o + ' (' + e + ' expected)'
                  );
                case t.WIRE_TYPES.BITS32:
                  n.offset += 4;
                  break;
                default:
                  throw Error('Illegal wire type in unknown group ' + e + ': ' + i);
              }
              return !0;
            }
            (c.build = function (n) {
              if (this.clazz && !n) return this.clazz;
              var r = (function (t, n) {
                var r = n.getChildren(t.Reflect.Message.Field),
                  i = n.getChildren(t.Reflect.Message.OneOf),
                  o = function (s, a) {
                    t.Builder.Message.call(this);
                    for (var u = 0, f = i.length; u < f; ++u) this[i[u].name] = null;
                    for (u = 0, f = r.length; u < f; ++u) {
                      var l = r[u];
                      (this[l.name] = l.repeated ? [] : l.map ? new t.Map(l) : null),
                        (!l.required && 'proto3' !== n.syntax) ||
                          null === l.defaultValue ||
                          (this[l.name] = l.defaultValue);
                    }
                    var c;
                    if (arguments.length > 0)
                      if (
                        1 !== arguments.length ||
                        null === s ||
                        'object' != typeof s ||
                        !('function' != typeof s.encode || s instanceof o) ||
                        Array.isArray(s) ||
                        s instanceof t.Map ||
                        e.isByteBuffer(s) ||
                        s instanceof ArrayBuffer ||
                        (t.Long && s instanceof t.Long)
                      )
                        for (u = 0, f = arguments.length; u < f; ++u)
                          void 0 !== (c = arguments[u]) && this.$set(r[u].name, c);
                      else this.$set(s);
                  },
                  s = (o.prototype = Object.create(t.Builder.Message.prototype));
                (s.add = function (e, r, i) {
                  var o = n._fieldsByName[e];
                  if (!i) {
                    if (!o) throw Error(this + '#' + e + ' is undefined');
                    if (!(o instanceof t.Reflect.Message.Field))
                      throw Error(this + '#' + e + ' is not a field: ' + o.toString(!0));
                    if (!o.repeated) throw Error(this + '#' + e + ' is not a repeated field');
                    r = o.verifyValue(r, !0);
                  }
                  return null === this[e] && (this[e] = []), this[e].push(r), this;
                }),
                  (s.$add = s.add),
                  (s.set = function (e, r, i) {
                    if (e && 'object' == typeof e) {
                      for (var o in ((i = r), e))
                        e.hasOwnProperty(o) &&
                          void 0 !== (r = e[o]) &&
                          void 0 === n._oneofsByName[o] &&
                          this.$set(o, r, i);
                      return this;
                    }
                    var s = n._fieldsByName[e];
                    if (i) this[e] = r;
                    else {
                      if (!s) throw Error(this + '#' + e + ' is not a field: undefined');
                      if (!(s instanceof t.Reflect.Message.Field))
                        throw Error(this + '#' + e + ' is not a field: ' + s.toString(!0));
                      this[s.name] = r = s.verifyValue(r);
                    }
                    if (s && s.oneof) {
                      var a = this[s.oneof.name];
                      null !== r
                        ? (null !== a && a !== s.name && (this[a] = null),
                          (this[s.oneof.name] = s.name))
                        : a === e && (this[s.oneof.name] = null);
                    }
                    return this;
                  }),
                  (s.$set = s.set),
                  (s.get = function (e, r) {
                    if (r) return this[e];
                    var i = n._fieldsByName[e];
                    if (!(i && i instanceof t.Reflect.Message.Field))
                      throw Error(this + '#' + e + ' is not a field: undefined');
                    if (!(i instanceof t.Reflect.Message.Field))
                      throw Error(this + '#' + e + ' is not a field: ' + i.toString(!0));
                    return this[i.name];
                  }),
                  (s.$get = s.get);
                for (var a = 0; a < r.length; a++) {
                  var u = r[a];
                  u instanceof t.Reflect.Message.ExtensionField ||
                    (n.builder.options.populateAccessors &&
                      (function (e) {
                        var t = e.originalName.replace(/(_[a-zA-Z])/g, function (e) {
                          return e.toUpperCase().replace('_', '');
                        });
                        t = t.substring(0, 1).toUpperCase() + t.substring(1);
                        var r = e.originalName.replace(/([A-Z])/g, function (e) {
                            return '_' + e;
                          }),
                          i = function (t, n) {
                            return (this[e.name] = n ? t : e.verifyValue(t)), this;
                          },
                          o = function () {
                            return this[e.name];
                          };
                        null === n.getChild('set' + t) && (s['set' + t] = i),
                          null === n.getChild('set_' + r) && (s['set_' + r] = i),
                          null === n.getChild('get' + t) && (s['get' + t] = o),
                          null === n.getChild('get_' + r) && (s['get_' + r] = o);
                      })(u));
                }
                function f(n, r, i, o) {
                  if (null === n || 'object' != typeof n) {
                    if (o && o instanceof t.Reflect.Enum) {
                      var s = t.Reflect.Enum.getName(o.object, n);
                      if (null !== s) return s;
                    }
                    return n;
                  }
                  if (e.isByteBuffer(n)) return r ? n.toBase64() : n.toBuffer();
                  if (t.Long.isLong(n)) return i ? n.toString() : t.Long.fromValue(n);
                  var a;
                  if (Array.isArray(n))
                    return (
                      (a = []),
                      n.forEach(function (e, t) {
                        a[t] = f(e, r, i, o);
                      }),
                      a
                    );
                  if (((a = {}), n instanceof t.Map)) {
                    for (var u = n.entries(), l = u.next(); !l.done; l = u.next())
                      a[n.keyElem.valueToString(l.value[0])] = f(
                        l.value[1],
                        r,
                        i,
                        n.valueElem.resolvedType
                      );
                    return a;
                  }
                  var c = n.$type,
                    h = void 0;
                  for (var p in n)
                    n.hasOwnProperty(p) &&
                      (c && (h = c.getChild(p))
                        ? (a[p] = f(n[p], r, i, h.resolvedType))
                        : (a[p] = f(n[p], r, i)));
                  return a;
                }
                return (
                  (s.encode = function (t, r) {
                    'boolean' == typeof t && ((r = t), (t = void 0));
                    var i = !1;
                    t || ((t = new e()), (i = !0));
                    var o = t.littleEndian;
                    try {
                      return n.encode(this, t.LE(), r), (i ? t.flip() : t).LE(o);
                    } catch (e) {
                      throw (t.LE(o), e);
                    }
                  }),
                  (o.encode = function (e, t, n) {
                    return new o(e).encode(t, n);
                  }),
                  (s.calculate = function () {
                    return n.calculate(this);
                  }),
                  (s.encodeDelimited = function (t, r) {
                    var i = !1;
                    t || ((t = new e()), (i = !0));
                    var o = new e().LE();
                    return (
                      n.encode(this, o, r).flip(),
                      t.writeVarint32(o.remaining()),
                      t.append(o),
                      i ? t.flip() : t
                    );
                  }),
                  (s.encodeAB = function () {
                    try {
                      return this.encode().toArrayBuffer();
                    } catch (e) {
                      throw (e.encoded && (e.encoded = e.encoded.toArrayBuffer()), e);
                    }
                  }),
                  (s.toArrayBuffer = s.encodeAB),
                  (s.encodeNB = function () {
                    try {
                      return this.encode().toBuffer();
                    } catch (e) {
                      throw (e.encoded && (e.encoded = e.encoded.toBuffer()), e);
                    }
                  }),
                  (s.toBuffer = s.encodeNB),
                  (s.encode64 = function () {
                    try {
                      return this.encode().toBase64();
                    } catch (e) {
                      throw (e.encoded && (e.encoded = e.encoded.toBase64()), e);
                    }
                  }),
                  (s.toBase64 = s.encode64),
                  (s.encodeHex = function () {
                    try {
                      return this.encode().toHex();
                    } catch (e) {
                      throw (e.encoded && (e.encoded = e.encoded.toHex()), e);
                    }
                  }),
                  (s.toHex = s.encodeHex),
                  (s.toRaw = function (e, t) {
                    return f(this, !!e, !!t, this.$type);
                  }),
                  (s.encodeJSON = function () {
                    return JSON.stringify(f(this, !0, !0, this.$type));
                  }),
                  (o.decode = function (t, r, i) {
                    'string' == typeof r && ((i = r), (r = -1)),
                      'string' == typeof t
                        ? (t = e.wrap(t, i || 'base64'))
                        : e.isByteBuffer(t) || (t = e.wrap(t));
                    var o = t.littleEndian;
                    try {
                      var s = n.decode(t.LE(), r);
                      return t.LE(o), s;
                    } catch (e) {
                      throw (t.LE(o), e);
                    }
                  }),
                  (o.decodeDelimited = function (t, r) {
                    if (
                      ('string' == typeof t
                        ? (t = e.wrap(t, r || 'base64'))
                        : e.isByteBuffer(t) || (t = e.wrap(t)),
                      t.remaining() < 1)
                    )
                      return null;
                    var i = t.offset,
                      o = t.readVarint32();
                    if (t.remaining() < o) return (t.offset = i), null;
                    try {
                      var s = n.decode(t.slice(t.offset, t.offset + o).LE());
                      return (t.offset += o), s;
                    } catch (e) {
                      throw ((t.offset += o), e);
                    }
                  }),
                  (o.decode64 = function (e) {
                    return o.decode(e, 'base64');
                  }),
                  (o.decodeHex = function (e) {
                    return o.decode(e, 'hex');
                  }),
                  (o.decodeJSON = function (e) {
                    return new o(JSON.parse(e));
                  }),
                  (s.toString = function () {
                    return n.toString();
                  }),
                  Object.defineProperty &&
                    (Object.defineProperty(o, '$options', { value: n.buildOpt() }),
                    Object.defineProperty(s, '$options', { value: o.$options }),
                    Object.defineProperty(o, '$type', { value: n }),
                    Object.defineProperty(s, '$type', { value: n })),
                  o
                );
              })(t, this);
              (this._fields = []),
                (this._fieldsById = {}),
                (this._fieldsByName = {}),
                (this._oneofsByName = {});
              for (var i, o = 0, s = this.children.length; o < s; o++)
                if ((i = this.children[o]) instanceof y || i instanceof l || i instanceof b) {
                  if (r.hasOwnProperty(i.name))
                    throw Error(
                      'Illegal reflect child of ' +
                        this.toString(!0) +
                        ': ' +
                        i.toString(!0) +
                        " cannot override static property '" +
                        i.name +
                        "'"
                    );
                  r[i.name] = i.build();
                } else if (i instanceof l.Field)
                  i.build(),
                    this._fields.push(i),
                    (this._fieldsById[i.id] = i),
                    (this._fieldsByName[i.name] = i);
                else if (i instanceof l.OneOf) this._oneofsByName[i.name] = i;
                else if (!(i instanceof l.OneOf || i instanceof v))
                  throw Error(
                    'Illegal reflect child of ' +
                      this.toString(!0) +
                      ': ' +
                      this.children[o].toString(!0)
                  );
              return (this.clazz = r);
            }),
              (c.encode = function (e, t, n) {
                for (var r, i, o = null, s = 0, a = this._fields.length; s < a; ++s)
                  (i = e[(r = this._fields[s]).name]),
                    r.required && null === i
                      ? null === o && (o = r)
                      : r.encode(n ? i : r.verifyValue(i), t, e);
                if (null !== o) {
                  var u = Error(
                    'Missing at least one required field for ' + this.toString(!0) + ': ' + o
                  );
                  throw ((u.encoded = t), u);
                }
                return t;
              }),
              (c.calculate = function (e) {
                for (var t, n, r = 0, i = 0, o = this._fields.length; i < o; ++i) {
                  if (((n = e[(t = this._fields[i]).name]), t.required && null === n))
                    throw Error(
                      'Missing at least one required field for ' + this.toString(!0) + ': ' + t
                    );
                  r += t.calculate(n, e);
                }
                return r;
              }),
              (c.decode = function (e, n, r) {
                'number' != typeof n && (n = -1);
                for (
                  var i, o, s, a, u = e.offset, f = new this.clazz();
                  e.offset < u + n || (-1 === n && e.remaining() > 0);

                ) {
                  if (((s = (i = e.readVarint32()) >>> 3), (o = 7 & i) === t.WIRE_TYPES.ENDGROUP)) {
                    if (s !== r)
                      throw Error(
                        'Illegal group end indicator for ' +
                          this.toString(!0) +
                          ': ' +
                          s +
                          ' (' +
                          (r ? r + ' expected' : 'not a group') +
                          ')'
                      );
                    break;
                  }
                  if ((a = this._fieldsById[s])) {
                    if (a.repeated && !a.options.packed) f[a.name].push(a.decode(o, e));
                    else if (a.map) {
                      var l = a.decode(o, e);
                      f[a.name].set(l[0], l[1]);
                    } else if (((f[a.name] = a.decode(o, e)), a.oneof)) {
                      var c = f[a.oneof.name];
                      null !== c && c !== a.name && (f[c] = null), (f[a.oneof.name] = a.name);
                    }
                  } else
                    switch (o) {
                      case t.WIRE_TYPES.VARINT:
                        e.readVarint32();
                        break;
                      case t.WIRE_TYPES.BITS32:
                        e.offset += 4;
                        break;
                      case t.WIRE_TYPES.BITS64:
                        e.offset += 8;
                        break;
                      case t.WIRE_TYPES.LDELIM:
                        var p = e.readVarint32();
                        e.offset += p;
                        break;
                      case t.WIRE_TYPES.STARTGROUP:
                        for (; h(s, e); );
                        break;
                      default:
                        throw Error(
                          'Illegal wire type for unknown field ' +
                            s +
                            ' in ' +
                            this.toString(!0) +
                            '#decode: ' +
                            o
                        );
                    }
                }
                for (var d = 0, m = this._fields.length; d < m; ++d)
                  if (null === f[(a = this._fields[d]).name])
                    if ('proto3' === this.syntax) f[a.name] = a.defaultValue;
                    else {
                      if (a.required) {
                        var y = Error(
                          'Missing at least one required field for ' +
                            this.toString(!0) +
                            ': ' +
                            a.name
                        );
                        throw ((y.decoded = f), y);
                      }
                      t.populateDefaults && null !== a.defaultValue && (f[a.name] = a.defaultValue);
                    }
                return f;
              }),
              (n.Message = l);
            var p = function (e, n, i, o, s, a, u, f, c, h) {
                r.call(this, e, n, a),
                  (this.className = 'Message.Field'),
                  (this.required = 'required' === i),
                  (this.repeated = 'repeated' === i),
                  (this.map = 'map' === i),
                  (this.keyType = o || null),
                  (this.type = s),
                  (this.resolvedType = null),
                  (this.id = u),
                  (this.options = f || {}),
                  (this.defaultValue = null),
                  (this.oneof = c || null),
                  (this.syntax = h || 'proto2'),
                  (this.originalName = this.name),
                  (this.element = null),
                  (this.keyElement = null),
                  !this.builder.options.convertFieldsToCamelCase ||
                    this instanceof l.ExtensionField ||
                    (this.name = t.Util.toCamelCase(this.name));
              },
              d = (p.prototype = Object.create(r.prototype));
            (d.build = function () {
              (this.element = new a(this.type, this.resolvedType, !1, this.syntax, this.name)),
                this.map &&
                  (this.keyElement = new a(this.keyType, void 0, !0, this.syntax, this.name)),
                'proto3' !== this.syntax || this.repeated || this.map
                  ? void 0 !== this.options.default &&
                    (this.defaultValue = this.verifyValue(this.options.default))
                  : (this.defaultValue = a.defaultFieldValue(this.type));
            }),
              (d.verifyValue = function (e, n) {
                n = n || !1;
                var r,
                  i = this;
                function o(e, t) {
                  throw Error(
                    'Illegal value for ' +
                      i.toString(!0) +
                      ' of type ' +
                      i.type.name +
                      ': ' +
                      e +
                      ' (' +
                      t +
                      ')'
                  );
                }
                if (null === e)
                  return (
                    this.required && o(typeof e, 'required'),
                    'proto3' === this.syntax &&
                      this.type !== t.TYPES.message &&
                      o(typeof e, 'proto3 field without field presence cannot be null'),
                    null
                  );
                if (this.repeated && !n) {
                  Array.isArray(e) || (e = [e]);
                  var s = [];
                  for (r = 0; r < e.length; r++) s.push(this.element.verifyValue(e[r]));
                  return s;
                }
                return this.map && !n
                  ? e instanceof t.Map
                    ? e
                    : (e instanceof Object ||
                        o(typeof e, 'expected ProtoBuf.Map or raw object for map field'),
                      new t.Map(this, e))
                  : (!this.repeated && Array.isArray(e) && o(typeof e, 'no array expected'),
                    this.element.verifyValue(e));
              }),
              (d.hasWirePresence = function (e, n) {
                if ('proto3' !== this.syntax) return null !== e;
                if (this.oneof && n[this.oneof.name] === this.name) return !0;
                switch (this.type) {
                  case t.TYPES.int32:
                  case t.TYPES.sint32:
                  case t.TYPES.sfixed32:
                  case t.TYPES.uint32:
                  case t.TYPES.fixed32:
                    return 0 !== e;
                  case t.TYPES.int64:
                  case t.TYPES.sint64:
                  case t.TYPES.sfixed64:
                  case t.TYPES.uint64:
                  case t.TYPES.fixed64:
                    return 0 !== e.low || 0 !== e.high;
                  case t.TYPES.bool:
                    return e;
                  case t.TYPES.float:
                  case t.TYPES.double:
                    return 0 !== e;
                  case t.TYPES.string:
                    return e.length > 0;
                  case t.TYPES.bytes:
                    return e.remaining() > 0;
                  case t.TYPES.enum:
                    return 0 !== e;
                  case t.TYPES.message:
                    return null !== e;
                  default:
                    return !0;
                }
              }),
              (d.encode = function (n, r, i) {
                if (null === this.type || 'object' != typeof this.type)
                  throw Error(
                    '[INTERNAL] Unresolved type in ' + this.toString(!0) + ': ' + this.type
                  );
                if (null === n || (this.repeated && 0 == n.length)) return r;
                try {
                  var o;
                  if (this.repeated)
                    if (
                      this.options.packed &&
                      t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType) >= 0
                    ) {
                      r.writeVarint32((this.id << 3) | t.WIRE_TYPES.LDELIM),
                        r.ensureCapacity((r.offset += 1));
                      var s = r.offset;
                      for (o = 0; o < n.length; o++) this.element.encodeValue(this.id, n[o], r);
                      var a = r.offset - s,
                        u = e.calculateVarint32(a);
                      if (u > 1) {
                        var f = r.slice(s, r.offset);
                        (s += u - 1), (r.offset = s), r.append(f);
                      }
                      r.writeVarint32(a, s - u);
                    } else
                      for (o = 0; o < n.length; o++)
                        r.writeVarint32((this.id << 3) | this.type.wireType),
                          this.element.encodeValue(this.id, n[o], r);
                  else
                    this.map
                      ? n.forEach(function (n, i, o) {
                          var s =
                            e.calculateVarint32(8 | this.keyType.wireType) +
                            this.keyElement.calculateLength(1, i) +
                            e.calculateVarint32(16 | this.type.wireType) +
                            this.element.calculateLength(2, n);
                          r.writeVarint32((this.id << 3) | t.WIRE_TYPES.LDELIM),
                            r.writeVarint32(s),
                            r.writeVarint32(8 | this.keyType.wireType),
                            this.keyElement.encodeValue(1, i, r),
                            r.writeVarint32(16 | this.type.wireType),
                            this.element.encodeValue(2, n, r);
                        }, this)
                      : this.hasWirePresence(n, i) &&
                        (r.writeVarint32((this.id << 3) | this.type.wireType),
                        this.element.encodeValue(this.id, n, r));
                } catch (e) {
                  throw Error('Illegal value for ' + this.toString(!0) + ': ' + n + ' (' + e + ')');
                }
                return r;
              }),
              (d.calculate = function (n, r) {
                if (((n = this.verifyValue(n)), null === this.type || 'object' != typeof this.type))
                  throw Error(
                    '[INTERNAL] Unresolved type in ' + this.toString(!0) + ': ' + this.type
                  );
                if (null === n || (this.repeated && 0 == n.length)) return 0;
                var i = 0;
                try {
                  var o, s;
                  if (this.repeated)
                    if (
                      this.options.packed &&
                      t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType) >= 0
                    ) {
                      for (
                        i += e.calculateVarint32((this.id << 3) | t.WIRE_TYPES.LDELIM),
                          s = 0,
                          o = 0;
                        o < n.length;
                        o++
                      )
                        s += this.element.calculateLength(this.id, n[o]);
                      (i += e.calculateVarint32(s)), (i += s);
                    } else
                      for (o = 0; o < n.length; o++)
                        (i += e.calculateVarint32((this.id << 3) | this.type.wireType)),
                          (i += this.element.calculateLength(this.id, n[o]));
                  else
                    this.map
                      ? n.forEach(function (n, r, o) {
                          var s =
                            e.calculateVarint32(8 | this.keyType.wireType) +
                            this.keyElement.calculateLength(1, r) +
                            e.calculateVarint32(16 | this.type.wireType) +
                            this.element.calculateLength(2, n);
                          (i += e.calculateVarint32((this.id << 3) | t.WIRE_TYPES.LDELIM)),
                            (i += e.calculateVarint32(s)),
                            (i += s);
                        }, this)
                      : this.hasWirePresence(n, r) &&
                        ((i += e.calculateVarint32((this.id << 3) | this.type.wireType)),
                        (i += this.element.calculateLength(this.id, n)));
                } catch (e) {
                  throw Error('Illegal value for ' + this.toString(!0) + ': ' + n + ' (' + e + ')');
                }
                return i;
              }),
              (d.decode = function (e, n, r) {
                var i, o;
                if (
                  !(
                    (!this.map && e == this.type.wireType) ||
                    (!r && this.repeated && this.options.packed && e == t.WIRE_TYPES.LDELIM) ||
                    (this.map && e == t.WIRE_TYPES.LDELIM)
                  )
                )
                  throw Error(
                    'Illegal wire type for field ' +
                      this.toString(!0) +
                      ': ' +
                      e +
                      ' (' +
                      this.type.wireType +
                      ' expected)'
                  );
                if (
                  e == t.WIRE_TYPES.LDELIM &&
                  this.repeated &&
                  this.options.packed &&
                  t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType) >= 0 &&
                  !r
                ) {
                  (o = n.readVarint32()), (o = n.offset + o);
                  for (var s = []; n.offset < o; ) s.push(this.decode(this.type.wireType, n, !0));
                  return s;
                }
                if (this.map) {
                  var u = a.defaultFieldValue(this.keyType);
                  if (
                    ((i = a.defaultFieldValue(this.type)),
                    (o = n.readVarint32()),
                    n.remaining() < o)
                  )
                    throw Error(
                      'Illegal number of bytes for ' +
                        this.toString(!0) +
                        ': ' +
                        o +
                        ' required but got only ' +
                        n.remaining()
                    );
                  var f = n.clone();
                  for (f.limit = f.offset + o, n.offset += o; f.remaining() > 0; ) {
                    var l = f.readVarint32();
                    e = 7 & l;
                    var c = l >>> 3;
                    if (1 === c) u = this.keyElement.decode(f, e, c);
                    else {
                      if (2 !== c) throw Error('Unexpected tag in map field key/value submessage');
                      i = this.element.decode(f, e, c);
                    }
                  }
                  return [u, i];
                }
                return this.element.decode(n, e, this.id);
              }),
              (n.Message.Field = p);
            var m = function (e, t, n, r, i, o, s) {
              p.call(this, e, t, n, null, r, i, o, s), this.extension;
            };
            (m.prototype = Object.create(p.prototype)), (n.Message.ExtensionField = m);
            n.Message.OneOf = function (e, t, n) {
              r.call(this, e, t, n), (this.fields = []);
            };
            var y = function (e, t, n, r, i) {
              o.call(this, e, t, n, r, i), (this.className = 'Enum'), (this.object = null);
            };
            (y.getName = function (e, t) {
              for (var n, r = Object.keys(e), i = 0; i < r.length; ++i)
                if (e[(n = r[i])] === t) return n;
              return null;
            }),
              ((y.prototype = Object.create(o.prototype)).build = function (e) {
                if (this.object && !e) return this.object;
                for (
                  var n = new t.Builder.Enum(), r = this.getChildren(y.Value), i = 0, o = r.length;
                  i < o;
                  ++i
                )
                  n[r[i].name] = r[i].id;
                return (
                  Object.defineProperty &&
                    Object.defineProperty(n, '$options', {
                      value: this.buildOpt(),
                      enumerable: !1,
                    }),
                  (this.object = n)
                );
              }),
              (n.Enum = y);
            var g = function (e, t, n, i) {
              r.call(this, e, t, n), (this.className = 'Enum.Value'), (this.id = i);
            };
            (g.prototype = Object.create(r.prototype)), (n.Enum.Value = g);
            var v = function (e, t, n, i) {
              r.call(this, e, t, n), (this.field = i);
            };
            (v.prototype = Object.create(r.prototype)), (n.Extension = v);
            var b = function (e, t, n, r) {
              o.call(this, e, t, n, r), (this.className = 'Service'), (this.clazz = null);
            };
            ((b.prototype = Object.create(o.prototype)).build = function (n) {
              return this.clazz && !n
                ? this.clazz
                : (this.clazz = (function (t, n) {
                    for (
                      var r = function (e) {
                          t.Builder.Service.call(this),
                            (this.rpcImpl =
                              e ||
                              function (e, t, n) {
                                setTimeout(
                                  n.bind(
                                    this,
                                    Error(
                                      'Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services'
                                    )
                                  ),
                                  0
                                );
                              });
                        },
                        i = (r.prototype = Object.create(t.Builder.Service.prototype)),
                        o = n.getChildren(t.Reflect.Service.RPCMethod),
                        s = 0;
                      s < o.length;
                      s++
                    )
                      !(function (t) {
                        (i[t.name] = function (r, i) {
                          try {
                            try {
                              r = t.resolvedRequestType.clazz.decode(e.wrap(r));
                            } catch (e) {
                              if (!(e instanceof TypeError)) throw e;
                            }
                            if (null === r || 'object' != typeof r)
                              throw Error('Illegal arguments');
                            r instanceof t.resolvedRequestType.clazz ||
                              (r = new t.resolvedRequestType.clazz(r)),
                              this.rpcImpl(t.fqn(), r, function (e, r) {
                                if (e) i(e);
                                else {
                                  null === r && (r = '');
                                  try {
                                    r = t.resolvedResponseType.clazz.decode(r);
                                  } catch (e) {}
                                  r && r instanceof t.resolvedResponseType.clazz
                                    ? i(null, r)
                                    : i(
                                        Error(
                                          'Illegal response type received in service method ' +
                                            n.name +
                                            '#' +
                                            t.name
                                        )
                                      );
                                }
                              });
                          } catch (e) {
                            setTimeout(i.bind(this, e), 0);
                          }
                        }),
                          (r[t.name] = function (e, n, i) {
                            new r(e)[t.name](n, i);
                          }),
                          Object.defineProperty &&
                            (Object.defineProperty(r[t.name], '$options', { value: t.buildOpt() }),
                            Object.defineProperty(i[t.name], '$options', {
                              value: r[t.name].$options,
                            }));
                      })(o[s]);
                    return (
                      Object.defineProperty &&
                        (Object.defineProperty(r, '$options', { value: n.buildOpt() }),
                        Object.defineProperty(i, '$options', { value: r.$options }),
                        Object.defineProperty(r, '$type', { value: n }),
                        Object.defineProperty(i, '$type', { value: n })),
                      r
                    );
                  })(t, this));
            }),
              (n.Service = b);
            var w = function (e, t, n, i) {
              r.call(this, e, t, n), (this.className = 'Service.Method'), (this.options = i || {});
            };
            ((w.prototype = Object.create(r.prototype)).buildOpt = s.buildOpt),
              (n.Service.Method = w);
            var E = function (e, t, n, r, i, o, s, a) {
              w.call(this, e, t, n, a),
                (this.className = 'Service.RPCMethod'),
                (this.requestName = r),
                (this.responseName = i),
                (this.requestStream = o),
                (this.responseStream = s),
                (this.resolvedRequestType = null),
                (this.resolvedResponseType = null);
            };
            return (E.prototype = Object.create(w.prototype)), (n.Service.RPCMethod = E), n;
          })(r)),
          (r.Builder = (function (e, t, n) {
            var r = function (e) {
                (this.ns = new n.Namespace(this, null, '')),
                  (this.ptr = this.ns),
                  (this.resolved = !1),
                  (this.result = null),
                  (this.files = {}),
                  (this.importRoot = null),
                  (this.options = e || {});
              },
              i = r.prototype;
            function o(e) {
              e.messages &&
                e.messages.forEach(function (t) {
                  (t.syntax = e.syntax), o(t);
                }),
                e.enums &&
                  e.enums.forEach(function (t) {
                    t.syntax = e.syntax;
                  });
            }
            return (
              (r.isMessage = function (e) {
                return 'string' == typeof e.name && void 0 === e.values && void 0 === e.rpc;
              }),
              (r.isMessageField = function (e) {
                return (
                  'string' == typeof e.rule &&
                  'string' == typeof e.name &&
                  'string' == typeof e.type &&
                  void 0 !== e.id
                );
              }),
              (r.isEnum = function (e) {
                return (
                  'string' == typeof e.name &&
                  !(void 0 === e.values || !Array.isArray(e.values) || 0 === e.values.length)
                );
              }),
              (r.isService = function (e) {
                return !('string' != typeof e.name || 'object' != typeof e.rpc || !e.rpc);
              }),
              (r.isExtend = function (e) {
                return 'string' == typeof e.ref;
              }),
              (i.reset = function () {
                return (this.ptr = this.ns), this;
              }),
              (i.define = function (e) {
                if ('string' != typeof e || !t.TYPEREF.test(e))
                  throw Error('illegal namespace: ' + e);
                return (
                  e.split('.').forEach(function (e) {
                    var t = this.ptr.getChild(e);
                    null === t && this.ptr.addChild((t = new n.Namespace(this, this.ptr, e))),
                      (this.ptr = t);
                  }, this),
                  this
                );
              }),
              (i.create = function (t) {
                if (!t) return this;
                if (Array.isArray(t)) {
                  if (0 === t.length) return this;
                  t = t.slice();
                } else t = [t];
                for (var i = [t]; i.length > 0; ) {
                  if (((t = i.pop()), !Array.isArray(t)))
                    throw Error('not a valid namespace: ' + JSON.stringify(t));
                  for (; t.length > 0; ) {
                    var o = t.shift();
                    if (r.isMessage(o)) {
                      var s = new n.Message(this, this.ptr, o.name, o.options, o.isGroup, o.syntax),
                        a = {};
                      o.oneofs &&
                        Object.keys(o.oneofs).forEach(function (e) {
                          s.addChild((a[e] = new n.Message.OneOf(this, s, e)));
                        }, this),
                        o.fields &&
                          o.fields.forEach(function (e) {
                            if (null !== s.getChild(0 | e.id))
                              throw Error(
                                'duplicate or invalid field id in ' + s.name + ': ' + e.id
                              );
                            if (e.options && 'object' != typeof e.options)
                              throw Error('illegal field options in ' + s.name + '#' + e.name);
                            var t = null;
                            if ('string' == typeof e.oneof && !(t = a[e.oneof]))
                              throw Error(
                                'illegal oneof in ' + s.name + '#' + e.name + ': ' + e.oneof
                              );
                            (e = new n.Message.Field(
                              this,
                              s,
                              e.rule,
                              e.keytype,
                              e.type,
                              e.name,
                              e.id,
                              e.options,
                              t,
                              o.syntax
                            )),
                              t && t.fields.push(e),
                              s.addChild(e);
                          }, this);
                      var u = [];
                      if (
                        (o.enums &&
                          o.enums.forEach(function (e) {
                            u.push(e);
                          }),
                        o.messages &&
                          o.messages.forEach(function (e) {
                            u.push(e);
                          }),
                        o.services &&
                          o.services.forEach(function (e) {
                            u.push(e);
                          }),
                        o.extensions &&
                          ('number' == typeof o.extensions[0]
                            ? (s.extensions = [o.extensions])
                            : (s.extensions = o.extensions)),
                        this.ptr.addChild(s),
                        u.length > 0)
                      ) {
                        i.push(t), (t = u), (u = null), (this.ptr = s), (s = null);
                        continue;
                      }
                      u = null;
                    } else if (r.isEnum(o))
                      (s = new n.Enum(this, this.ptr, o.name, o.options, o.syntax)),
                        o.values.forEach(function (e) {
                          s.addChild(new n.Enum.Value(this, s, e.name, e.id));
                        }, this),
                        this.ptr.addChild(s);
                    else if (r.isService(o))
                      (s = new n.Service(this, this.ptr, o.name, o.options)),
                        Object.keys(o.rpc).forEach(function (e) {
                          var t = o.rpc[e];
                          s.addChild(
                            new n.Service.RPCMethod(
                              this,
                              s,
                              e,
                              t.request,
                              t.response,
                              !!t.request_stream,
                              !!t.response_stream,
                              t.options
                            )
                          );
                        }, this),
                        this.ptr.addChild(s);
                    else {
                      if (!r.isExtend(o))
                        throw Error('not a valid definition: ' + JSON.stringify(o));
                      if ((s = this.ptr.resolve(o.ref, !0)))
                        o.fields.forEach(function (t) {
                          if (null !== s.getChild(0 | t.id))
                            throw Error('duplicate extended field id in ' + s.name + ': ' + t.id);
                          if (s.extensions) {
                            var r = !1;
                            if (
                              (s.extensions.forEach(function (e) {
                                t.id >= e[0] && t.id <= e[1] && (r = !0);
                              }),
                              !r)
                            )
                              throw Error(
                                'illegal extended field id in ' +
                                  s.name +
                                  ': ' +
                                  t.id +
                                  ' (not within valid ranges)'
                              );
                          }
                          var i = t.name;
                          this.options.convertFieldsToCamelCase && (i = e.Util.toCamelCase(i));
                          var o = new n.Message.ExtensionField(
                              this,
                              s,
                              t.rule,
                              t.type,
                              this.ptr.fqn() + '.' + i,
                              t.id,
                              t.options
                            ),
                            a = new n.Extension(this, this.ptr, t.name, o);
                          (o.extension = a), this.ptr.addChild(a), s.addChild(o);
                        }, this);
                      else if (!/\.?google\.protobuf\./.test(o.ref))
                        throw Error('extended message ' + o.ref + ' is not defined');
                    }
                    (o = null), (s = null);
                  }
                  (t = null), (this.ptr = this.ptr.parent);
                }
                return (this.resolved = !1), (this.result = null), this;
              }),
              (i.import = function (t, n) {
                var r = '/';
                if ('string' == typeof n) {
                  if ((e.Util.IS_NODE && (n = Xt.resolve(n)), !0 === this.files[n]))
                    return this.reset();
                  this.files[n] = !0;
                } else if ('object' == typeof n) {
                  var i,
                    s = n.root;
                  if (
                    (e.Util.IS_NODE && (s = Xt.resolve(s)),
                    (s.indexOf('\\') >= 0 || n.file.indexOf('\\') >= 0) && (r = '\\'),
                    (i = e.Util.IS_NODE ? Xt.join(s, n.file) : s + r + n.file),
                    !0 === this.files[i])
                  )
                    return this.reset();
                  this.files[i] = !0;
                }
                if (t.imports && t.imports.length > 0) {
                  var a,
                    u = !1;
                  'object' == typeof n
                    ? ((this.importRoot = n.root),
                      (u = !0),
                      (a = this.importRoot),
                      (n = n.file),
                      (a.indexOf('\\') >= 0 || n.indexOf('\\') >= 0) && (r = '\\'))
                    : 'string' == typeof n
                    ? this.importRoot
                      ? (a = this.importRoot)
                      : n.indexOf('/') >= 0
                      ? '' === (a = n.replace(/\/[^\/]*$/, '')) && (a = '/')
                      : n.indexOf('\\') >= 0
                      ? ((a = n.replace(/\\[^\\]*$/, '')), (r = '\\'))
                      : (a = '.')
                    : (a = null);
                  for (var f = 0; f < t.imports.length; f++)
                    if ('string' == typeof t.imports[f]) {
                      if (!a) throw Error('cannot determine import root');
                      var l = t.imports[f];
                      if ('google/protobuf/descriptor.proto' === l) continue;
                      if (((l = e.Util.IS_NODE ? Xt.join(a, l) : a + r + l), !0 === this.files[l]))
                        continue;
                      /\.proto$/i.test(l) && !e.DotProto && (l = l.replace(/\.proto$/, '.json'));
                      var c = e.Util.fetch(l);
                      if (null === c)
                        throw Error("failed to import '" + l + "' in '" + n + "': file not found");
                      /\.json$/i.test(l)
                        ? this.import(JSON.parse(c + ''), l)
                        : this.import(e.DotProto.Parser.parse(c), l);
                    } else
                      n
                        ? /\.(\w+)$/.test(n)
                          ? this.import(
                              t.imports[f],
                              n.replace(/^(.+)\.(\w+)$/, function (e, t, n) {
                                return t + '_import' + f + '.' + n;
                              })
                            )
                          : this.import(t.imports[f], n + '_import' + f)
                        : this.import(t.imports[f]);
                  u && (this.importRoot = null);
                }
                t.package && this.define(t.package), t.syntax && o(t);
                var h = this.ptr;
                return (
                  t.options &&
                    Object.keys(t.options).forEach(function (e) {
                      h.options[e] = t.options[e];
                    }),
                  t.messages && (this.create(t.messages), (this.ptr = h)),
                  t.enums && (this.create(t.enums), (this.ptr = h)),
                  t.services && (this.create(t.services), (this.ptr = h)),
                  t.extends && this.create(t.extends),
                  this.reset()
                );
              }),
              (i.resolveAll = function () {
                var r;
                if (null == this.ptr || 'object' == typeof this.ptr.type) return this;
                if (this.ptr instanceof n.Namespace)
                  this.ptr.children.forEach(function (e) {
                    (this.ptr = e), this.resolveAll();
                  }, this);
                else if (this.ptr instanceof n.Message.Field) {
                  if (t.TYPE.test(this.ptr.type)) this.ptr.type = e.TYPES[this.ptr.type];
                  else {
                    if (!t.TYPEREF.test(this.ptr.type))
                      throw Error(
                        'illegal type reference in ' + this.ptr.toString(!0) + ': ' + this.ptr.type
                      );
                    if (
                      !(r = (this.ptr instanceof n.Message.ExtensionField
                        ? this.ptr.extension.parent
                        : this.ptr.parent
                      ).resolve(this.ptr.type, !0))
                    )
                      throw Error(
                        'unresolvable type reference in ' +
                          this.ptr.toString(!0) +
                          ': ' +
                          this.ptr.type
                      );
                    if (((this.ptr.resolvedType = r), r instanceof n.Enum)) {
                      if (
                        ((this.ptr.type = e.TYPES.enum),
                        'proto3' === this.ptr.syntax && 'proto3' !== r.syntax)
                      )
                        throw Error('proto3 message cannot reference proto2 enum');
                    } else {
                      if (!(r instanceof n.Message))
                        throw Error(
                          'illegal type reference in ' +
                            this.ptr.toString(!0) +
                            ': ' +
                            this.ptr.type
                        );
                      this.ptr.type = r.isGroup ? e.TYPES.group : e.TYPES.message;
                    }
                  }
                  if (this.ptr.map) {
                    if (!t.TYPE.test(this.ptr.keyType))
                      throw Error(
                        'illegal key type for map field in ' +
                          this.ptr.toString(!0) +
                          ': ' +
                          this.ptr.keyType
                      );
                    this.ptr.keyType = e.TYPES[this.ptr.keyType];
                  }
                  'proto3' === this.ptr.syntax &&
                    this.ptr.repeated &&
                    void 0 === this.ptr.options.packed &&
                    -1 !== e.PACKABLE_WIRE_TYPES.indexOf(this.ptr.type.wireType) &&
                    (this.ptr.options.packed = !0);
                } else if (this.ptr instanceof e.Reflect.Service.Method) {
                  if (!(this.ptr instanceof e.Reflect.Service.RPCMethod))
                    throw Error('illegal service type in ' + this.ptr.toString(!0));
                  if (
                    !(
                      (r = this.ptr.parent.resolve(this.ptr.requestName, !0)) &&
                      r instanceof e.Reflect.Message
                    )
                  )
                    throw Error(
                      'Illegal type reference in ' +
                        this.ptr.toString(!0) +
                        ': ' +
                        this.ptr.requestName
                    );
                  if (
                    ((this.ptr.resolvedRequestType = r),
                    !(
                      (r = this.ptr.parent.resolve(this.ptr.responseName, !0)) &&
                      r instanceof e.Reflect.Message
                    ))
                  )
                    throw Error(
                      'Illegal type reference in ' +
                        this.ptr.toString(!0) +
                        ': ' +
                        this.ptr.responseName
                    );
                  this.ptr.resolvedResponseType = r;
                } else if (
                  !(
                    this.ptr instanceof e.Reflect.Message.OneOf ||
                    this.ptr instanceof e.Reflect.Extension ||
                    this.ptr instanceof e.Reflect.Enum.Value
                  )
                )
                  throw Error('illegal object in namespace: ' + typeof this.ptr + ': ' + this.ptr);
                return this.reset();
              }),
              (i.build = function (e) {
                if (
                  (this.reset(),
                  this.resolved || (this.resolveAll(), (this.resolved = !0), (this.result = null)),
                  null === this.result && (this.result = this.ns.build()),
                  !e)
                )
                  return this.result;
                for (
                  var t = 'string' == typeof e ? e.split('.') : e, n = this.result, r = 0;
                  r < t.length;
                  r++
                ) {
                  if (!n[t[r]]) {
                    n = null;
                    break;
                  }
                  n = n[t[r]];
                }
                return n;
              }),
              (i.lookup = function (e, t) {
                return e ? this.ns.resolve(e, t) : this.ns;
              }),
              (i.toString = function () {
                return 'Builder';
              }),
              (r.Message = function () {}),
              (r.Enum = function () {}),
              (r.Service = function () {}),
              r
            );
          })(r, r.Lang, r.Reflect)),
          (r.Map = (function (e, t) {
            var n = function (e, n) {
                if (!e.map) throw Error('field is not a map');
                if (
                  ((this.field = e),
                  (this.keyElem = new t.Element(e.keyType, null, !0, e.syntax)),
                  (this.valueElem = new t.Element(e.type, e.resolvedType, !1, e.syntax)),
                  (this.map = {}),
                  Object.defineProperty(this, 'size', {
                    get: function () {
                      return Object.keys(this.map).length;
                    },
                  }),
                  n)
                )
                  for (var r = Object.keys(n), i = 0; i < r.length; i++) {
                    var o = this.keyElem.valueFromString(r[i]),
                      s = this.valueElem.verifyValue(n[r[i]]);
                    this.map[this.keyElem.valueToString(o)] = { key: o, value: s };
                  }
              },
              r = n.prototype;
            function i(e) {
              var t = 0;
              return {
                next: function () {
                  return t < e.length ? { done: !1, value: e[t++] } : { done: !0 };
                },
              };
            }
            return (
              (r.clear = function () {
                this.map = {};
              }),
              (r.delete = function (e) {
                var t = this.keyElem.valueToString(this.keyElem.verifyValue(e)),
                  n = t in this.map;
                return delete this.map[t], n;
              }),
              (r.entries = function () {
                for (var e, t = [], n = Object.keys(this.map), r = 0; r < n.length; r++)
                  t.push([(e = this.map[n[r]]).key, e.value]);
                return i(t);
              }),
              (r.keys = function () {
                for (var e = [], t = Object.keys(this.map), n = 0; n < t.length; n++)
                  e.push(this.map[t[n]].key);
                return i(e);
              }),
              (r.values = function () {
                for (var e = [], t = Object.keys(this.map), n = 0; n < t.length; n++)
                  e.push(this.map[t[n]].value);
                return i(e);
              }),
              (r.forEach = function (e, t) {
                for (var n, r = Object.keys(this.map), i = 0; i < r.length; i++)
                  e.call(t, (n = this.map[r[i]]).value, n.key, this);
              }),
              (r.set = function (e, t) {
                var n = this.keyElem.verifyValue(e),
                  r = this.valueElem.verifyValue(t);
                return (this.map[this.keyElem.valueToString(n)] = { key: n, value: r }), this;
              }),
              (r.get = function (e) {
                var t = this.keyElem.valueToString(this.keyElem.verifyValue(e));
                if (t in this.map) return this.map[t].value;
              }),
              (r.has = function (e) {
                return this.keyElem.valueToString(this.keyElem.verifyValue(e)) in this.map;
              }),
              n
            );
          })(0, r.Reflect)),
          (r.newBuilder = function (e) {
            return (
              void 0 === (e = e || {}).convertFieldsToCamelCase &&
                (e.convertFieldsToCamelCase = r.convertFieldsToCamelCase),
              void 0 === e.populateAccessors && (e.populateAccessors = r.populateAccessors),
              new r.Builder(e)
            );
          }),
          (r.loadJson = function (e, t, n) {
            return (
              ('string' == typeof t ||
                (t && 'string' == typeof t.file && 'string' == typeof t.root)) &&
                ((n = t), (t = null)),
              (t && 'object' == typeof t) || (t = r.newBuilder()),
              'string' == typeof e && (e = JSON.parse(e)),
              t.import(e, n),
              t.resolveAll(),
              t
            );
          }),
          (r.loadJsonFile = function (e, t, n) {
            if (
              (t && 'object' == typeof t
                ? ((n = t), (t = null))
                : (t && 'function' == typeof t) || (t = null),
              t)
            )
              return r.Util.fetch('string' == typeof e ? e : e.root + '/' + e.file, function (i) {
                if (null !== i)
                  try {
                    t(null, r.loadJson(JSON.parse(i), n, e));
                  } catch (e) {
                    t(e);
                  }
                else t(Error('Failed to fetch file'));
              });
            var i = r.Util.fetch('object' == typeof e ? e.root + '/' + e.file : e);
            return null === i ? null : r.loadJson(JSON.parse(i), n, e);
          }),
          r
        );
      });
    }),
    en = s(function (e) {
      var t = Object.prototype.hasOwnProperty,
        n = '~';
      function r() {}
      function i(e, t, n) {
        (this.fn = e), (this.context = t), (this.once = n || !1);
      }
      function o(e, t, r, o, s) {
        if ('function' != typeof r) throw new TypeError('The listener must be a function');
        var a = new i(r, o || e, s),
          u = n ? n + t : t;
        return (
          e._events[u]
            ? e._events[u].fn
              ? (e._events[u] = [e._events[u], a])
              : e._events[u].push(a)
            : ((e._events[u] = a), e._eventsCount++),
          e
        );
      }
      function s(e, t) {
        0 == --e._eventsCount ? (e._events = new r()) : delete e._events[t];
      }
      function a() {
        (this._events = new r()), (this._eventsCount = 0);
      }
      Object.create && ((r.prototype = Object.create(null)), new r().__proto__ || (n = !1)),
        (a.prototype.eventNames = function () {
          var e,
            r,
            i = [];
          if (0 === this._eventsCount) return i;
          for (r in (e = this._events)) t.call(e, r) && i.push(n ? r.slice(1) : r);
          return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(e)) : i;
        }),
        (a.prototype.listeners = function (e) {
          var t = n ? n + e : e,
            r = this._events[t];
          if (!r) return [];
          if (r.fn) return [r.fn];
          for (var i = 0, o = r.length, s = new Array(o); i < o; i++) s[i] = r[i].fn;
          return s;
        }),
        (a.prototype.listenerCount = function (e) {
          var t = n ? n + e : e,
            r = this._events[t];
          return r ? (r.fn ? 1 : r.length) : 0;
        }),
        (a.prototype.emit = function (e, t, r, i, o, s) {
          var a = n ? n + e : e;
          if (!this._events[a]) return !1;
          var u,
            f,
            l = this._events[a],
            c = arguments.length;
          if (l.fn) {
            switch ((l.once && this.removeListener(e, l.fn, void 0, !0), c)) {
              case 1:
                return l.fn.call(l.context), !0;
              case 2:
                return l.fn.call(l.context, t), !0;
              case 3:
                return l.fn.call(l.context, t, r), !0;
              case 4:
                return l.fn.call(l.context, t, r, i), !0;
              case 5:
                return l.fn.call(l.context, t, r, i, o), !0;
              case 6:
                return l.fn.call(l.context, t, r, i, o, s), !0;
            }
            for (f = 1, u = new Array(c - 1); f < c; f++) u[f - 1] = arguments[f];
            l.fn.apply(l.context, u);
          } else {
            var h,
              p = l.length;
            for (f = 0; f < p; f++)
              switch ((l[f].once && this.removeListener(e, l[f].fn, void 0, !0), c)) {
                case 1:
                  l[f].fn.call(l[f].context);
                  break;
                case 2:
                  l[f].fn.call(l[f].context, t);
                  break;
                case 3:
                  l[f].fn.call(l[f].context, t, r);
                  break;
                case 4:
                  l[f].fn.call(l[f].context, t, r, i);
                  break;
                default:
                  if (!u) for (h = 1, u = new Array(c - 1); h < c; h++) u[h - 1] = arguments[h];
                  l[f].fn.apply(l[f].context, u);
              }
          }
          return !0;
        }),
        (a.prototype.on = function (e, t, n) {
          return o(this, e, t, n, !1);
        }),
        (a.prototype.once = function (e, t, n) {
          return o(this, e, t, n, !0);
        }),
        (a.prototype.removeListener = function (e, t, r, i) {
          var o = n ? n + e : e;
          if (!this._events[o]) return this;
          if (!t) return s(this, o), this;
          var a = this._events[o];
          if (a.fn) a.fn !== t || (i && !a.once) || (r && a.context !== r) || s(this, o);
          else {
            for (var u = 0, f = [], l = a.length; u < l; u++)
              (a[u].fn !== t || (i && !a[u].once) || (r && a[u].context !== r)) && f.push(a[u]);
            f.length ? (this._events[o] = 1 === f.length ? f[0] : f) : s(this, o);
          }
          return this;
        }),
        (a.prototype.removeAllListeners = function (e) {
          var t;
          return (
            e
              ? ((t = n ? n + e : e), this._events[t] && s(this, t))
              : ((this._events = new r()), (this._eventsCount = 0)),
            this
          );
        }),
        (a.prototype.off = a.prototype.removeListener),
        (a.prototype.addListener = a.prototype.on),
        (a.prefixed = n),
        (a.EventEmitter = a),
        (e.exports = a);
    });
  k(k.S + k.F * !w, 'Object', { defineProperty: C.f });
  var tn = d.Object,
    nn = function (e, t, n) {
      return tn.defineProperty(e, t, n);
    };
  k(k.S + k.F * !w, 'Object', { defineProperties: ne });
  var rn = d.Object,
    on = function (e, t) {
      return rn.defineProperties(e, t);
    },
    sn = ee.concat('length', 'prototype'),
    an = {
      f:
        Object.getOwnPropertyNames ||
        function (e) {
          return H(e, sn);
        },
    },
    un = { f: Object.getOwnPropertySymbols },
    fn = p.Reflect,
    ln =
      (fn && fn.ownKeys) ||
      function (e) {
        var t = an.f(v(e)),
          n = un.f;
        return n ? t.concat(n(e)) : t;
      },
    cn = { f: {}.propertyIsEnumerable },
    hn = Object.getOwnPropertyDescriptor,
    pn = {
      f: w
        ? hn
        : function (e, t) {
            if (((e = V(e)), (t = I(t, !0)), S))
              try {
                return hn(e, t);
              } catch (e) {}
            if (R(e, t)) return A(!cn.f.call(e, t), e[t]);
          },
    },
    dn = function (e, t, n) {
      t in e ? C.f(e, t, A(0, n)) : (e[t] = n);
    };
  k(k.S, 'Object', {
    getOwnPropertyDescriptors: function (e) {
      for (var t, n, r = V(e), i = pn.f, o = ln(r), s = {}, a = 0; o.length > a; )
        void 0 !== (n = i(r, (t = o[a++]))) && dn(s, t, n);
      return s;
    },
  });
  var mn = d.Object.getOwnPropertyDescriptors,
    yn = function (e, t) {
      var n = (d.Object || {})[e] || Object[e],
        r = {};
      (r[e] = t(n)),
        k(
          k.S +
            k.F *
              b(function () {
                n(1);
              }),
          'Object',
          r
        );
    },
    gn = pn.f;
  yn('getOwnPropertyDescriptor', function () {
    return function (e, t) {
      return gn(V(e), t);
    };
  });
  var vn = d.Object,
    bn = function (e, t) {
      return vn.getOwnPropertyDescriptor(e, t);
    },
    wn = s(function (e) {
      var t = $('meta'),
        n = C.f,
        r = 0,
        i =
          Object.isExtensible ||
          function () {
            return !0;
          },
        o = !b(function () {
          return i(Object.preventExtensions({}));
        }),
        s = function (e) {
          n(e, t, { value: { i: 'O' + ++r, w: {} } });
        },
        a = (e.exports = {
          KEY: t,
          NEED: !1,
          fastKey: function (e, n) {
            if (!g(e)) return 'symbol' == typeof e ? e : ('string' == typeof e ? 'S' : 'P') + e;
            if (!R(e, t)) {
              if (!i(e)) return 'F';
              if (!n) return 'E';
              s(e);
            }
            return e[t].i;
          },
          getWeak: function (e, n) {
            if (!R(e, t)) {
              if (!i(e)) return !0;
              if (!n) return !1;
              s(e);
            }
            return e[t].w;
          },
          onFreeze: function (e) {
            return o && a.NEED && i(e) && !R(e, t) && s(e), e;
          },
        });
    }),
    En = { f: fe },
    Tn = C.f,
    _n = function (e) {
      var t = d.Symbol || (d.Symbol = {});
      '_' == e.charAt(0) || e in t || Tn(t, e, { value: En.f(e) });
    },
    Sn =
      Array.isArray ||
      function (e) {
        return 'Array' == U(e);
      },
    In = an.f,
    On = {}.toString,
    Cn =
      'object' == typeof window && window && Object.getOwnPropertyNames
        ? Object.getOwnPropertyNames(window)
        : [],
    An = {
      f: function (e) {
        return Cn && '[object Window]' == On.call(e)
          ? (function (e) {
              try {
                return In(e);
              } catch (e) {
                return Cn.slice();
              }
            })(e)
          : In(V(e));
      },
    },
    Ln = wn.KEY,
    Pn = pn.f,
    Rn = C.f,
    Nn = An.f,
    xn = p.Symbol,
    kn = p.JSON,
    jn = kn && kn.stringify,
    Mn = fe('_hidden'),
    Fn = fe('toPrimitive'),
    Un = {}.propertyIsEnumerable,
    Yn = W('symbol-registry'),
    Vn = W('symbols'),
    Dn = W('op-symbols'),
    Bn = Object.prototype,
    qn = 'function' == typeof xn && !!un.f,
    zn = p.QObject,
    Wn = !zn || !zn.prototype || !zn.prototype.findChild,
    Gn =
      w &&
      b(function () {
        return (
          7 !=
          ue(
            Rn({}, 'a', {
              get: function () {
                return Rn(this, 'a', { value: 7 }).a;
              },
            })
          ).a
        );
      })
        ? function (e, t, n) {
            var r = Pn(Bn, t);
            r && delete Bn[t], Rn(e, t, n), r && e !== Bn && Rn(Bn, t, r);
          }
        : Rn,
    Zn = function (e) {
      var t = (Vn[e] = ue(xn.prototype));
      return (t._k = e), t;
    },
    $n =
      qn && 'symbol' == typeof xn.iterator
        ? function (e) {
            return 'symbol' == typeof e;
          }
        : function (e) {
            return e instanceof xn;
          },
    Jn = function (e, t, n) {
      return (
        e === Bn && Jn(Dn, t, n),
        v(e),
        (t = I(t, !0)),
        v(n),
        R(Vn, t)
          ? (n.enumerable
              ? (R(e, Mn) && e[Mn][t] && (e[Mn][t] = !1), (n = ue(n, { enumerable: A(0, !1) })))
              : (R(e, Mn) || Rn(e, Mn, A(1, {})), (e[Mn][t] = !0)),
            Gn(e, t, n))
          : Rn(e, t, n)
      );
    },
    Kn = function (e, t) {
      v(e);
      for (
        var n,
          r = (function (e) {
            var t = te(e),
              n = un.f;
            if (n)
              for (var r, i = n(e), o = cn.f, s = 0; i.length > s; )
                o.call(e, (r = i[s++])) && t.push(r);
            return t;
          })((t = V(t))),
          i = 0,
          o = r.length;
        o > i;

      )
        Jn(e, (n = r[i++]), t[n]);
      return e;
    },
    Qn = function (e) {
      var t = Un.call(this, (e = I(e, !0)));
      return (
        !(this === Bn && R(Vn, e) && !R(Dn, e)) &&
        (!(t || !R(this, e) || !R(Vn, e) || (R(this, Mn) && this[Mn][e])) || t)
      );
    },
    Xn = function (e, t) {
      if (((e = V(e)), (t = I(t, !0)), e !== Bn || !R(Vn, t) || R(Dn, t))) {
        var n = Pn(e, t);
        return !n || !R(Vn, t) || (R(e, Mn) && e[Mn][t]) || (n.enumerable = !0), n;
      }
    },
    Hn = function (e) {
      for (var t, n = Nn(V(e)), r = [], i = 0; n.length > i; )
        R(Vn, (t = n[i++])) || t == Mn || t == Ln || r.push(t);
      return r;
    },
    er = function (e) {
      for (var t, n = e === Bn, r = Nn(n ? Dn : V(e)), i = [], o = 0; r.length > o; )
        !R(Vn, (t = r[o++])) || (n && !R(Bn, t)) || i.push(Vn[t]);
      return i;
    };
  qn ||
    (j(
      (xn = function () {
        if (this instanceof xn) throw TypeError('Symbol is not a constructor!');
        var e = $(arguments.length > 0 ? arguments[0] : void 0),
          t = function (n) {
            this === Bn && t.call(Dn, n),
              R(this, Mn) && R(this[Mn], e) && (this[Mn][e] = !1),
              Gn(this, e, A(1, n));
          };
        return w && Wn && Gn(Bn, e, { configurable: !0, set: t }), Zn(e);
      }).prototype,
      'toString',
      function () {
        return this._k;
      }
    ),
    (pn.f = Xn),
    (C.f = Jn),
    (an.f = An.f = Hn),
    (cn.f = Qn),
    (un.f = er),
    (En.f = function (e) {
      return Zn(fe(e));
    })),
    k(k.G + k.W + k.F * !qn, { Symbol: xn });
  for (
    var tr = 'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'.split(
        ','
      ),
      nr = 0;
    tr.length > nr;

  )
    fe(tr[nr++]);
  for (var rr = te(fe.store), ir = 0; rr.length > ir; ) _n(rr[ir++]);
  k(k.S + k.F * !qn, 'Symbol', {
    for: function (e) {
      return R(Yn, (e += '')) ? Yn[e] : (Yn[e] = xn(e));
    },
    keyFor: function (e) {
      if (!$n(e)) throw TypeError(e + ' is not a symbol!');
      for (var t in Yn) if (Yn[t] === e) return t;
    },
    useSetter: function () {
      Wn = !0;
    },
    useSimple: function () {
      Wn = !1;
    },
  }),
    k(k.S + k.F * !qn, 'Object', {
      create: function (e, t) {
        return void 0 === t ? ue(e) : Kn(ue(e), t);
      },
      defineProperty: Jn,
      defineProperties: Kn,
      getOwnPropertyDescriptor: Xn,
      getOwnPropertyNames: Hn,
      getOwnPropertySymbols: er,
    });
  var or = b(function () {
    un.f(1);
  });
  k(k.S + k.F * or, 'Object', {
    getOwnPropertySymbols: function (e) {
      return un.f(ye(e));
    },
  }),
    kn &&
      k(
        k.S +
          k.F *
            (!qn ||
              b(function () {
                var e = xn();
                return '[null]' != jn([e]) || '{}' != jn({ a: e }) || '{}' != jn(Object(e));
              })),
        'JSON',
        {
          stringify: function (e) {
            for (var t, n, r = [e], i = 1; arguments.length > i; ) r.push(arguments[i++]);
            if (((n = t = r[1]), (g(t) || void 0 !== e) && !$n(e)))
              return (
                Sn(t) ||
                  (t = function (e, t) {
                    if (('function' == typeof n && (t = n.call(this, e, t)), !$n(t))) return t;
                  }),
                (r[1] = t),
                jn.apply(kn, r)
              );
          },
        }
      ),
    xn.prototype[Fn] || L(xn.prototype, Fn, xn.prototype.valueOf),
    he(xn, 'Symbol'),
    he(Math, 'Math', !0),
    he(p.JSON, 'JSON', !0);
  var sr = d.Object.getOwnPropertySymbols;
  k(k.S, 'Date', {
    now: function () {
      return new Date().getTime();
    },
  });
  var ar = d.Date.now,
    ur = d.JSON || (d.JSON = { stringify: JSON.stringify }),
    fr = function (e) {
      return ur.stringify.apply(ur, arguments);
    },
    lr = s(function (e) {
      var t = (function (e) {
        var t,
          n = Object.prototype,
          r = n.hasOwnProperty,
          i = 'function' == typeof Symbol ? Symbol : {},
          o = i.iterator || '@@iterator',
          s = i.asyncIterator || '@@asyncIterator',
          a = i.toStringTag || '@@toStringTag';
        function u(e, t, n) {
          return (
            Object.defineProperty(e, t, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            }),
            e[t]
          );
        }
        try {
          u({}, '');
        } catch (e) {
          u = function (e, t, n) {
            return (e[t] = n);
          };
        }
        function f(e, t, n, r) {
          var i = t && t.prototype instanceof y ? t : y,
            o = Object.create(i.prototype),
            s = new A(r || []);
          return (
            (o._invoke = (function (e, t, n) {
              var r = c;
              return function (i, o) {
                if (r === p) throw new Error('Generator is already running');
                if (r === d) {
                  if ('throw' === i) throw o;
                  return P();
                }
                for (n.method = i, n.arg = o; ; ) {
                  var s = n.delegate;
                  if (s) {
                    var a = I(s, n);
                    if (a) {
                      if (a === m) continue;
                      return a;
                    }
                  }
                  if ('next' === n.method) n.sent = n._sent = n.arg;
                  else if ('throw' === n.method) {
                    if (r === c) throw ((r = d), n.arg);
                    n.dispatchException(n.arg);
                  } else 'return' === n.method && n.abrupt('return', n.arg);
                  r = p;
                  var u = l(e, t, n);
                  if ('normal' === u.type) {
                    if (((r = n.done ? d : h), u.arg === m)) continue;
                    return { value: u.arg, done: n.done };
                  }
                  'throw' === u.type && ((r = d), (n.method = 'throw'), (n.arg = u.arg));
                }
              };
            })(e, n, s)),
            o
          );
        }
        function l(e, t, n) {
          try {
            return { type: 'normal', arg: e.call(t, n) };
          } catch (e) {
            return { type: 'throw', arg: e };
          }
        }
        e.wrap = f;
        var c = 'suspendedStart',
          h = 'suspendedYield',
          p = 'executing',
          d = 'completed',
          m = {};
        function y() {}
        function g() {}
        function v() {}
        var b = {};
        b[o] = function () {
          return this;
        };
        var w = Object.getPrototypeOf,
          E = w && w(w(L([])));
        E && E !== n && r.call(E, o) && (b = E);
        var T = (v.prototype = y.prototype = Object.create(b));
        function _(e) {
          ['next', 'throw', 'return'].forEach(function (t) {
            u(e, t, function (e) {
              return this._invoke(t, e);
            });
          });
        }
        function S(e, t) {
          function n(i, o, s, a) {
            var u = l(e[i], e, o);
            if ('throw' !== u.type) {
              var f = u.arg,
                c = f.value;
              return c && 'object' == typeof c && r.call(c, '__await')
                ? t.resolve(c.__await).then(
                    function (e) {
                      n('next', e, s, a);
                    },
                    function (e) {
                      n('throw', e, s, a);
                    }
                  )
                : t.resolve(c).then(
                    function (e) {
                      (f.value = e), s(f);
                    },
                    function (e) {
                      return n('throw', e, s, a);
                    }
                  );
            }
            a(u.arg);
          }
          var i;
          this._invoke = function (e, r) {
            function o() {
              return new t(function (t, i) {
                n(e, r, t, i);
              });
            }
            return (i = i ? i.then(o, o) : o());
          };
        }
        function I(e, n) {
          var r = e.iterator[n.method];
          if (r === t) {
            if (((n.delegate = null), 'throw' === n.method)) {
              if (
                e.iterator.return &&
                ((n.method = 'return'), (n.arg = t), I(e, n), 'throw' === n.method)
              )
                return m;
              (n.method = 'throw'),
                (n.arg = new TypeError("The iterator does not provide a 'throw' method"));
            }
            return m;
          }
          var i = l(r, e.iterator, n.arg);
          if ('throw' === i.type)
            return (n.method = 'throw'), (n.arg = i.arg), (n.delegate = null), m;
          var o = i.arg;
          return o
            ? o.done
              ? ((n[e.resultName] = o.value),
                (n.next = e.nextLoc),
                'return' !== n.method && ((n.method = 'next'), (n.arg = t)),
                (n.delegate = null),
                m)
              : o
            : ((n.method = 'throw'),
              (n.arg = new TypeError('iterator result is not an object')),
              (n.delegate = null),
              m);
        }
        function O(e) {
          var t = { tryLoc: e[0] };
          1 in e && (t.catchLoc = e[1]),
            2 in e && ((t.finallyLoc = e[2]), (t.afterLoc = e[3])),
            this.tryEntries.push(t);
        }
        function C(e) {
          var t = e.completion || {};
          (t.type = 'normal'), delete t.arg, (e.completion = t);
        }
        function A(e) {
          (this.tryEntries = [{ tryLoc: 'root' }]), e.forEach(O, this), this.reset(!0);
        }
        function L(e) {
          if (e) {
            var n = e[o];
            if (n) return n.call(e);
            if ('function' == typeof e.next) return e;
            if (!isNaN(e.length)) {
              var i = -1,
                s = function n() {
                  for (; ++i < e.length; )
                    if (r.call(e, i)) return (n.value = e[i]), (n.done = !1), n;
                  return (n.value = t), (n.done = !0), n;
                };
              return (s.next = s);
            }
          }
          return { next: P };
        }
        function P() {
          return { value: t, done: !0 };
        }
        return (
          (g.prototype = T.constructor = v),
          (v.constructor = g),
          (g.displayName = u(v, a, 'GeneratorFunction')),
          (e.isGeneratorFunction = function (e) {
            var t = 'function' == typeof e && e.constructor;
            return !!t && (t === g || 'GeneratorFunction' === (t.displayName || t.name));
          }),
          (e.mark = function (e) {
            return (
              Object.setPrototypeOf
                ? Object.setPrototypeOf(e, v)
                : ((e.__proto__ = v), u(e, a, 'GeneratorFunction')),
              (e.prototype = Object.create(T)),
              e
            );
          }),
          (e.awrap = function (e) {
            return { __await: e };
          }),
          _(S.prototype),
          (S.prototype[s] = function () {
            return this;
          }),
          (e.AsyncIterator = S),
          (e.async = function (t, n, r, i, o) {
            void 0 === o && (o = Promise);
            var s = new S(f(t, n, r, i), o);
            return e.isGeneratorFunction(n)
              ? s
              : s.next().then(function (e) {
                  return e.done ? e.value : s.next();
                });
          }),
          _(T),
          u(T, a, 'Generator'),
          (T[o] = function () {
            return this;
          }),
          (T.toString = function () {
            return '[object Generator]';
          }),
          (e.keys = function (e) {
            var t = [];
            for (var n in e) t.push(n);
            return (
              t.reverse(),
              function n() {
                for (; t.length; ) {
                  var r = t.pop();
                  if (r in e) return (n.value = r), (n.done = !1), n;
                }
                return (n.done = !0), n;
              }
            );
          }),
          (e.values = L),
          (A.prototype = {
            constructor: A,
            reset: function (e) {
              if (
                ((this.prev = 0),
                (this.next = 0),
                (this.sent = this._sent = t),
                (this.done = !1),
                (this.delegate = null),
                (this.method = 'next'),
                (this.arg = t),
                this.tryEntries.forEach(C),
                !e)
              )
                for (var n in this)
                  't' === n.charAt(0) && r.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = t);
            },
            stop: function () {
              this.done = !0;
              var e = this.tryEntries[0].completion;
              if ('throw' === e.type) throw e.arg;
              return this.rval;
            },
            dispatchException: function (e) {
              if (this.done) throw e;
              var n = this;
              function i(r, i) {
                return (
                  (a.type = 'throw'),
                  (a.arg = e),
                  (n.next = r),
                  i && ((n.method = 'next'), (n.arg = t)),
                  !!i
                );
              }
              for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                var s = this.tryEntries[o],
                  a = s.completion;
                if ('root' === s.tryLoc) return i('end');
                if (s.tryLoc <= this.prev) {
                  var u = r.call(s, 'catchLoc'),
                    f = r.call(s, 'finallyLoc');
                  if (u && f) {
                    if (this.prev < s.catchLoc) return i(s.catchLoc, !0);
                    if (this.prev < s.finallyLoc) return i(s.finallyLoc);
                  } else if (u) {
                    if (this.prev < s.catchLoc) return i(s.catchLoc, !0);
                  } else {
                    if (!f) throw new Error('try statement without catch or finally');
                    if (this.prev < s.finallyLoc) return i(s.finallyLoc);
                  }
                }
              }
            },
            abrupt: function (e, t) {
              for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                var i = this.tryEntries[n];
                if (i.tryLoc <= this.prev && r.call(i, 'finallyLoc') && this.prev < i.finallyLoc) {
                  var o = i;
                  break;
                }
              }
              o &&
                ('break' === e || 'continue' === e) &&
                o.tryLoc <= t &&
                t <= o.finallyLoc &&
                (o = null);
              var s = o ? o.completion : {};
              return (
                (s.type = e),
                (s.arg = t),
                o ? ((this.method = 'next'), (this.next = o.finallyLoc), m) : this.complete(s)
              );
            },
            complete: function (e, t) {
              if ('throw' === e.type) throw e.arg;
              return (
                'break' === e.type || 'continue' === e.type
                  ? (this.next = e.arg)
                  : 'return' === e.type
                  ? ((this.rval = this.arg = e.arg), (this.method = 'return'), (this.next = 'end'))
                  : 'normal' === e.type && t && (this.next = t),
                m
              );
            },
            finish: function (e) {
              for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                var n = this.tryEntries[t];
                if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), C(n), m;
              }
            },
            catch: function (e) {
              for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                var n = this.tryEntries[t];
                if (n.tryLoc === e) {
                  var r = n.completion;
                  if ('throw' === r.type) {
                    var i = r.arg;
                    C(n);
                  }
                  return i;
                }
              }
              throw new Error('illegal catch attempt');
            },
            delegateYield: function (e, n, r) {
              return (
                (this.delegate = { iterator: L(e), resultName: n, nextLoc: r }),
                'next' === this.method && (this.arg = t),
                m
              );
            },
          }),
          e
        );
      })(e.exports);
      try {
        regeneratorRuntime = t;
      } catch (e) {
        Function('r', 'regeneratorRuntime = r')(t);
      }
    });
  function cr(e, t, n, r, i, o, s) {
    try {
      var a = e[o](s),
        u = a.value;
    } catch (e) {
      return void n(e);
    }
    a.done ? t(u) : Jt.resolve(u).then(r, i);
  }
  var hr = function (e) {
    return function () {
      var t = this,
        n = arguments;
      return new Jt(function (r, i) {
        var o = e.apply(t, n);
        function s(e) {
          cr(o, r, i, s, a, 'next', e);
        }
        function a(e) {
          cr(o, r, i, s, a, 'throw', e);
        }
        s(void 0);
      });
    };
  };
  yn('keys', function () {
    return function (e) {
      return te(ye(e));
    };
  });
  var pr = d.Object.keys;
  k(k.S, 'Array', { isArray: Sn });
  var dr = d.Array.isArray;
  var mr = function (e, t) {
    (null == t || t > e.length) && (t = e.length);
    for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
    return r;
  };
  var yr = function (e) {
    if (dr(e)) return mr(e);
  };
  k(
    k.S +
      k.F *
        !Lt(function (e) {
          Array.from(e);
        }),
    'Array',
    {
      from: function (e) {
        var t,
          n,
          r,
          i,
          o = ye(e),
          s = 'function' == typeof this ? this : Array,
          a = arguments.length,
          u = a > 1 ? arguments[1] : void 0,
          f = void 0 !== u,
          l = 0,
          c = Ge(o);
        if ((f && (u = y(u, a > 2 ? arguments[2] : void 0, 2)), null == c || (s == Array && ze(c))))
          for (n = new s((t = B(o.length))); t > l; l++) dn(n, l, f ? u(o[l], l) : o[l]);
        else
          for (i = c.call(o), n = new s(); !(r = i.next()).done; l++)
            dn(n, l, f ? De(i, u, [r.value, l], !0) : r.value);
        return (n.length = l), n;
      },
    }
  );
  var gr = d.Array.from,
    vr = fe('iterator'),
    br = (d.isIterable = function (e) {
      var t = Object(e);
      return void 0 !== t[vr] || '@@iterator' in t || M.hasOwnProperty(Ye(t));
    });
  _n('asyncIterator'), _n('observable');
  var wr = d.Symbol;
  var Er = function (e) {
    if (void 0 !== wr && br(Object(e))) return gr(e);
  };
  var Tr = function (e, t) {
    if (e) {
      if ('string' == typeof e) return mr(e, t);
      var n = Object.prototype.toString.call(e).slice(8, -1);
      return (
        'Object' === n && e.constructor && (n = e.constructor.name),
        'Map' === n || 'Set' === n
          ? gr(e)
          : 'Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
          ? mr(e, t)
          : void 0
      );
    }
  };
  var _r = function () {
    throw new TypeError(
      'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
    );
  };
  var Sr = function (e) {
      return yr(e) || Er(e) || Tr(e) || _r();
    },
    Ir = function (e, t) {
      if (!g(e) || e._t !== t) throw TypeError('Incompatible receiver, ' + t + ' required!');
      return e;
    },
    Or = C.f,
    Cr = wn.fastKey,
    Ar = w ? '_s' : 'size',
    Lr = function (e, t) {
      var n,
        r = Cr(t);
      if ('F' !== r) return e._i[r];
      for (n = e._f; n; n = n.n) if (n.k == t) return n;
    },
    Pr = {
      getConstructor: function (e, t, n, r) {
        var i = e(function (e, o) {
          Ve(e, i, t, '_i'),
            (e._t = t),
            (e._i = ue(null)),
            (e._f = void 0),
            (e._l = void 0),
            (e[Ar] = 0),
            null != o && Ze(o, n, e[r], e);
        });
        return (
          bt(i.prototype, {
            clear: function () {
              for (var e = Ir(this, t), n = e._i, r = e._f; r; r = r.n)
                (r.r = !0), r.p && (r.p = r.p.n = void 0), delete n[r.i];
              (e._f = e._l = void 0), (e[Ar] = 0);
            },
            delete: function (e) {
              var n = Ir(this, t),
                r = Lr(n, e);
              if (r) {
                var i = r.n,
                  o = r.p;
                delete n._i[r.i],
                  (r.r = !0),
                  o && (o.n = i),
                  i && (i.p = o),
                  n._f == r && (n._f = i),
                  n._l == r && (n._l = o),
                  n[Ar]--;
              }
              return !!r;
            },
            forEach: function (e) {
              Ir(this, t);
              for (
                var n, r = y(e, arguments.length > 1 ? arguments[1] : void 0, 3);
                (n = n ? n.n : this._f);

              )
                for (r(n.v, n.k, this); n && n.r; ) n = n.p;
            },
            has: function (e) {
              return !!Lr(Ir(this, t), e);
            },
          }),
          w &&
            Or(i.prototype, 'size', {
              get: function () {
                return Ir(this, t)[Ar];
              },
            }),
          i
        );
      },
      def: function (e, t, n) {
        var r,
          i,
          o = Lr(e, t);
        return (
          o
            ? (o.v = n)
            : ((e._l = o = { i: (i = Cr(t, !0)), k: t, v: n, p: (r = e._l), n: void 0, r: !1 }),
              e._f || (e._f = o),
              r && (r.n = o),
              e[Ar]++,
              'F' !== i && (e._i[i] = o)),
          e
        );
      },
      getEntry: Lr,
      setStrong: function (e, t, n) {
        Ie(
          e,
          t,
          function (e, n) {
            (this._t = Ir(e, t)), (this._k = n), (this._l = void 0);
          },
          function () {
            for (var e = this, t = e._k, n = e._l; n && n.r; ) n = n.p;
            return e._t && (e._l = n = n ? n.n : e._t._f)
              ? Ce(0, 'keys' == t ? n.k : 'values' == t ? n.v : [n.k, n.v])
              : ((e._t = void 0), Ce(1));
          },
          n ? 'entries' : 'values',
          !n,
          !0
        ),
          Et(t);
      },
    },
    Rr = fe('species'),
    Nr = function (e, t) {
      return new ((function (e) {
        var t;
        return (
          Sn(e) &&
            ('function' != typeof (t = e.constructor) ||
              (t !== Array && !Sn(t.prototype)) ||
              (t = void 0),
            g(t) && null === (t = t[Rr]) && (t = void 0)),
          void 0 === t ? Array : t
        );
      })(e))(t);
    },
    xr = function (e, t) {
      var n = 1 == e,
        r = 2 == e,
        i = 3 == e,
        o = 4 == e,
        s = 6 == e,
        a = 5 == e || s,
        u = t || Nr;
      return function (t, f, l) {
        for (
          var c,
            h,
            p = ye(t),
            d = Y(p),
            m = y(f, l, 3),
            g = B(d.length),
            v = 0,
            b = n ? u(t, g) : r ? u(t, 0) : void 0;
          g > v;
          v++
        )
          if ((a || v in d) && ((h = m((c = d[v]), v, p)), e))
            if (n) b[v] = h;
            else if (h)
              switch (e) {
                case 3:
                  return !0;
                case 5:
                  return c;
                case 6:
                  return v;
                case 2:
                  b.push(c);
              }
            else if (o) return !1;
        return s ? -1 : i || o ? o : b;
      };
    },
    kr = C.f,
    jr = xr(0),
    Mr = function (e, t, n, r, i, o) {
      var s = p[e],
        a = s,
        u = i ? 'set' : 'add',
        f = a && a.prototype,
        l = {};
      return (
        w &&
        'function' == typeof a &&
        (o ||
          (f.forEach &&
            !b(function () {
              new a().entries().next();
            })))
          ? ((a = t(function (t, n) {
              Ve(t, a, e, '_c'), (t._c = new s()), null != n && Ze(n, i, t[u], t);
            })),
            jr(
              'add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','),
              function (e) {
                var t = 'add' == e || 'set' == e;
                !(e in f) ||
                  (o && 'clear' == e) ||
                  L(a.prototype, e, function (n, r) {
                    if ((Ve(this, a, e), !t && o && !g(n))) return 'get' == e && void 0;
                    var i = this._c[e](0 === n ? 0 : n, r);
                    return t ? this : i;
                  });
              }
            ),
            o ||
              kr(a.prototype, 'size', {
                get: function () {
                  return this._c.size;
                },
              }))
          : ((a = r.getConstructor(t, e, i, u)), bt(a.prototype, n), (wn.NEED = !0)),
        he(a, e),
        (l[e] = a),
        k(k.G + k.W + k.F, l),
        o || r.setStrong(a, e, i),
        a
      );
    };
  Mr(
    'Set',
    function (e) {
      return function () {
        return e(this, arguments.length > 0 ? arguments[0] : void 0);
      };
    },
    {
      add: function (e) {
        return Pr.def(Ir(this, 'Set'), (e = 0 === e ? 0 : e), e);
      },
    },
    Pr
  );
  k(k.P + k.R, 'Set', {
    toJSON: (function (e) {
      return function () {
        if (Ye(this) != e) throw TypeError(e + "#toJSON isn't generic");
        return (function (e, t) {
          var n = [];
          return Ze(e, !1, n.push, n, t), n;
        })(this);
      };
    })('Set'),
  });
  var Fr = function (e) {
    k(k.S, e, {
      of: function () {
        for (var e = arguments.length, t = new Array(e); e--; ) t[e] = arguments[e];
        return new this(t);
      },
    });
  };
  Fr('Set');
  var Ur = function (e) {
    k(k.S, e, {
      from: function (e) {
        var t,
          n,
          r,
          i,
          o = arguments[1];
        return (
          m(this),
          (t = void 0 !== o) && m(o),
          null == e
            ? new this()
            : ((n = []),
              t
                ? ((r = 0),
                  (i = y(o, arguments[2], 2)),
                  Ze(e, !1, function (e) {
                    n.push(i(e, r++));
                  }))
                : Ze(e, !1, n.push, n),
              new this(n))
        );
      },
    });
  };
  Ur('Set');
  var Yr = d.Set;
  var Vr = function (e, t, n) {
    return (
      t in e ? nn(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
      e
    );
  };
  var Dr = function (e, t) {
    if (null == e) return {};
    var n,
      r,
      i = {},
      o = pr(e);
    for (r = 0; r < o.length; r++) (n = o[r]), t.indexOf(n) >= 0 || (i[n] = e[n]);
    return i;
  };
  var Br = function (e, t) {
    if (null == e) return {};
    var n,
      r,
      i = Dr(e, t);
    if (sr) {
      var o = sr(e);
      for (r = 0; r < o.length; r++)
        (n = o[r]),
          t.indexOf(n) >= 0 || (Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]));
    }
    return i;
  };
  var qr = function (e) {
    if (void 0 === e)
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return e;
  };
  k(k.S, 'Object', { create: ue });
  var zr = d.Object,
    Wr = function (e, t) {
      return zr.create(e, t);
    };
  var Gr = function (e, t) {
      (e.prototype = Wr(t.prototype)), (e.prototype.constructor = e), (e.__proto__ = t);
    },
    Zr = 1e3,
    $r = 60 * Zr,
    Jr = 60 * $r,
    Kr = 24 * Jr,
    Qr = 7 * Kr,
    Xr = 365.25 * Kr,
    Hr = function (e, t) {
      t = t || {};
      var n = typeof e;
      if ('string' === n && e.length > 0)
        return (function (e) {
          if ((e = String(e)).length > 100) return;
          var t = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
            e
          );
          if (!t) return;
          var n = parseFloat(t[1]);
          switch ((t[2] || 'ms').toLowerCase()) {
            case 'years':
            case 'year':
            case 'yrs':
            case 'yr':
            case 'y':
              return n * Xr;
            case 'weeks':
            case 'week':
            case 'w':
              return n * Qr;
            case 'days':
            case 'day':
            case 'd':
              return n * Kr;
            case 'hours':
            case 'hour':
            case 'hrs':
            case 'hr':
            case 'h':
              return n * Jr;
            case 'minutes':
            case 'minute':
            case 'mins':
            case 'min':
            case 'm':
              return n * $r;
            case 'seconds':
            case 'second':
            case 'secs':
            case 'sec':
            case 's':
              return n * Zr;
            case 'milliseconds':
            case 'millisecond':
            case 'msecs':
            case 'msec':
            case 'ms':
              return n;
            default:
              return;
          }
        })(e);
      if ('number' === n && isFinite(e))
        return t.long
          ? (function (e) {
              var t = Math.abs(e);
              if (t >= Kr) return ei(e, t, Kr, 'day');
              if (t >= Jr) return ei(e, t, Jr, 'hour');
              if (t >= $r) return ei(e, t, $r, 'minute');
              if (t >= Zr) return ei(e, t, Zr, 'second');
              return e + ' ms';
            })(e)
          : (function (e) {
              var t = Math.abs(e);
              if (t >= Kr) return Math.round(e / Kr) + 'd';
              if (t >= Jr) return Math.round(e / Jr) + 'h';
              if (t >= $r) return Math.round(e / $r) + 'm';
              if (t >= Zr) return Math.round(e / Zr) + 's';
              return e + 'ms';
            })(e);
      throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(e));
    };
  function ei(e, t, n, r) {
    var i = t >= 1.5 * n;
    return Math.round(e / n) + ' ' + r + (i ? 's' : '');
  }
  var ti = function (e) {
      function t(e) {
        for (var t = 0, r = 0; r < e.length; r++) (t = (t << 5) - t + e.charCodeAt(r)), (t |= 0);
        return n.colors[Math.abs(t) % n.colors.length];
      }
      function n(e) {
        var o;
        function s() {
          if (s.enabled) {
            for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) t[r] = arguments[r];
            var i = s,
              a = Number(new Date()),
              u = a - (o || a);
            (i.diff = u),
              (i.prev = o),
              (i.curr = a),
              (o = a),
              (t[0] = n.coerce(t[0])),
              'string' != typeof t[0] && t.unshift('%O');
            var f = 0;
            (t[0] = t[0].replace(/%([a-zA-Z%])/g, function (e, r) {
              if ('%%' === e) return e;
              f++;
              var o = n.formatters[r];
              if ('function' == typeof o) {
                var s = t[f];
                (e = o.call(i, s)), t.splice(f, 1), f--;
              }
              return e;
            })),
              n.formatArgs.call(i, t);
            var l = i.log || n.log;
            l.apply(i, t);
          }
        }
        return (
          (s.namespace = e),
          (s.enabled = n.enabled(e)),
          (s.useColors = n.useColors()),
          (s.color = t(e)),
          (s.destroy = r),
          (s.extend = i),
          'function' == typeof n.init && n.init(s),
          n.instances.push(s),
          s
        );
      }
      function r() {
        var e = n.instances.indexOf(this);
        return -1 !== e && (n.instances.splice(e, 1), !0);
      }
      function i(e, t) {
        return n(this.namespace + (void 0 === t ? ':' : t) + e);
      }
      return (
        (n.debug = n),
        (n.default = n),
        (n.coerce = function (e) {
          if (e instanceof Error) return e.stack || e.message;
          return e;
        }),
        (n.disable = function () {
          n.enable('');
        }),
        (n.enable = function (e) {
          var t;
          n.save(e), (n.names = []), (n.skips = []);
          var r = ('string' == typeof e ? e : '').split(/[\s,]+/),
            i = r.length;
          for (t = 0; t < i; t++)
            r[t] &&
              ('-' === (e = r[t].replace(/\*/g, '.*?'))[0]
                ? n.skips.push(new RegExp('^' + e.substr(1) + '$'))
                : n.names.push(new RegExp('^' + e + '$')));
          for (t = 0; t < n.instances.length; t++) {
            var o = n.instances[t];
            o.enabled = n.enabled(o.namespace);
          }
        }),
        (n.enabled = function (e) {
          if ('*' === e[e.length - 1]) return !0;
          var t, r;
          for (t = 0, r = n.skips.length; t < r; t++) if (n.skips[t].test(e)) return !1;
          for (t = 0, r = n.names.length; t < r; t++) if (n.names[t].test(e)) return !0;
          return !1;
        }),
        (n.humanize = Hr),
        Object.keys(e).forEach(function (t) {
          n[t] = e[t];
        }),
        (n.instances = []),
        (n.names = []),
        (n.skips = []),
        (n.formatters = {}),
        (n.selectColor = t),
        n.enable(n.load()),
        n
      );
    },
    ni = s(function (e, t) {
      function n(e) {
        return (n =
          'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
            ? function (e) {
                return typeof e;
              }
            : function (e) {
                return e &&
                  'function' == typeof Symbol &&
                  e.constructor === Symbol &&
                  e !== Symbol.prototype
                  ? 'symbol'
                  : typeof e;
              })(e);
      }
      (t.log = function () {
        var e;
        return (
          'object' === ('undefined' == typeof console ? 'undefined' : n(console)) &&
          console.log &&
          (e = console).log.apply(e, arguments)
        );
      }),
        (t.formatArgs = function (t) {
          if (
            ((t[0] =
              (this.useColors ? '%c' : '') +
              this.namespace +
              (this.useColors ? ' %c' : ' ') +
              t[0] +
              (this.useColors ? '%c ' : ' ') +
              '+' +
              e.exports.humanize(this.diff)),
            !this.useColors)
          )
            return;
          var n = 'color: ' + this.color;
          t.splice(1, 0, n, 'color: inherit');
          var r = 0,
            i = 0;
          t[0].replace(/%[a-zA-Z%]/g, function (e) {
            '%%' !== e && (r++, '%c' === e && (i = r));
          }),
            t.splice(i, 0, n);
        }),
        (t.save = function (e) {
          try {
            e ? t.storage.setItem('debug', e) : t.storage.removeItem('debug');
          } catch (e) {}
        }),
        (t.load = function () {
          var e;
          try {
            e = t.storage.getItem('debug');
          } catch (e) {}
          !e && 'undefined' != typeof process && 'env' in process && (e = process.env.DEBUG);
          return e;
        }),
        (t.useColors = function () {
          if (
            'undefined' != typeof window &&
            window.process &&
            ('renderer' === window.process.type || window.process.__nwjs)
          )
            return !0;
          if (
            'undefined' != typeof navigator &&
            navigator.userAgent &&
            navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)
          )
            return !1;
          return (
            ('undefined' != typeof document &&
              document.documentElement &&
              document.documentElement.style &&
              document.documentElement.style.WebkitAppearance) ||
            ('undefined' != typeof window &&
              window.console &&
              (window.console.firebug || (window.console.exception && window.console.table))) ||
            ('undefined' != typeof navigator &&
              navigator.userAgent &&
              navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) &&
              parseInt(RegExp.$1, 10) >= 31) ||
            ('undefined' != typeof navigator &&
              navigator.userAgent &&
              navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))
          );
        }),
        (t.storage = (function () {
          try {
            return localStorage;
          } catch (e) {}
        })()),
        (t.colors = [
          '#0000CC',
          '#0000FF',
          '#0033CC',
          '#0033FF',
          '#0066CC',
          '#0066FF',
          '#0099CC',
          '#0099FF',
          '#00CC00',
          '#00CC33',
          '#00CC66',
          '#00CC99',
          '#00CCCC',
          '#00CCFF',
          '#3300CC',
          '#3300FF',
          '#3333CC',
          '#3333FF',
          '#3366CC',
          '#3366FF',
          '#3399CC',
          '#3399FF',
          '#33CC00',
          '#33CC33',
          '#33CC66',
          '#33CC99',
          '#33CCCC',
          '#33CCFF',
          '#6600CC',
          '#6600FF',
          '#6633CC',
          '#6633FF',
          '#66CC00',
          '#66CC33',
          '#9900CC',
          '#9900FF',
          '#9933CC',
          '#9933FF',
          '#99CC00',
          '#99CC33',
          '#CC0000',
          '#CC0033',
          '#CC0066',
          '#CC0099',
          '#CC00CC',
          '#CC00FF',
          '#CC3300',
          '#CC3333',
          '#CC3366',
          '#CC3399',
          '#CC33CC',
          '#CC33FF',
          '#CC6600',
          '#CC6633',
          '#CC9900',
          '#CC9933',
          '#CCCC00',
          '#CCCC33',
          '#FF0000',
          '#FF0033',
          '#FF0066',
          '#FF0099',
          '#FF00CC',
          '#FF00FF',
          '#FF3300',
          '#FF3333',
          '#FF3366',
          '#FF3399',
          '#FF33CC',
          '#FF33FF',
          '#FF6600',
          '#FF6633',
          '#FF9900',
          '#FF9933',
          '#FFCC00',
          '#FFCC33',
        ]),
        (e.exports = ti(t)),
        (e.exports.formatters.j = function (e) {
          try {
            return JSON.stringify(e);
          } catch (e) {
            return '[UnexpectedJSONParseError]: ' + e.message;
          }
        });
    });
  var ri = function (e, t) {
      var n = -1,
        r = e.length;
      for (t || (t = Array(r)); ++n < r; ) t[n] = e[n];
      return t;
    },
    ii = Math.floor,
    oi = Math.random;
  var si = function (e, t) {
    return e + ii(oi() * (t - e + 1));
  };
  var ai = function (e, t) {
    var n = -1,
      r = e.length,
      i = r - 1;
    for (t = void 0 === t ? r : t; ++n < t; ) {
      var o = si(n, i),
        s = e[o];
      (e[o] = e[n]), (e[n] = s);
    }
    return (e.length = t), e;
  };
  var ui = function (e) {
    return ai(ri(e));
  };
  var fi = function (e, t) {
    for (var n = -1, r = null == e ? 0 : e.length, i = Array(r); ++n < r; ) i[n] = t(e[n], n, e);
    return i;
  };
  var li = function (e, t) {
    return fi(t, function (t) {
      return e[t];
    });
  };
  var ci = function (e, t) {
      for (var n = -1, r = Array(e); ++n < e; ) r[n] = t(n);
      return r;
    },
    hi = 'object' == typeof o && o && o.Object === Object && o,
    pi = 'object' == typeof self && self && self.Object === Object && self,
    di = hi || pi || Function('return this')(),
    mi = di.Symbol,
    yi = Object.prototype,
    gi = yi.hasOwnProperty,
    vi = yi.toString,
    bi = mi ? mi.toStringTag : void 0;
  var wi = function (e) {
      var t = gi.call(e, bi),
        n = e[bi];
      try {
        e[bi] = void 0;
        var r = !0;
      } catch (e) {}
      var i = vi.call(e);
      return r && (t ? (e[bi] = n) : delete e[bi]), i;
    },
    Ei = Object.prototype.toString;
  var Ti = function (e) {
      return Ei.call(e);
    },
    _i = mi ? mi.toStringTag : void 0;
  var Si = function (e) {
    return null == e
      ? void 0 === e
        ? '[object Undefined]'
        : '[object Null]'
      : _i && _i in Object(e)
      ? wi(e)
      : Ti(e);
  };
  var Ii = function (e) {
    return null != e && 'object' == typeof e;
  };
  var Oi = function (e) {
      return Ii(e) && '[object Arguments]' == Si(e);
    },
    Ci = Object.prototype,
    Ai = Ci.hasOwnProperty,
    Li = Ci.propertyIsEnumerable,
    Pi = Oi(
      (function () {
        return arguments;
      })()
    )
      ? Oi
      : function (e) {
          return Ii(e) && Ai.call(e, 'callee') && !Li.call(e, 'callee');
        },
    Ri = Array.isArray;
  var Ni = function () {
      return !1;
    },
    xi = s(function (e, t) {
      var n = t && !t.nodeType && t,
        r = n && e && !e.nodeType && e,
        i = r && r.exports === n ? di.Buffer : void 0,
        o = (i ? i.isBuffer : void 0) || Ni;
      e.exports = o;
    }),
    ki = /^(?:0|[1-9]\d*)$/;
  var ji = function (e, t) {
    var n = typeof e;
    return (
      !!(t = null == t ? 9007199254740991 : t) &&
      ('number' == n || ('symbol' != n && ki.test(e))) &&
      e > -1 &&
      e % 1 == 0 &&
      e < t
    );
  };
  var Mi = function (e) {
      return 'number' == typeof e && e > -1 && e % 1 == 0 && e <= 9007199254740991;
    },
    Fi = {};
  (Fi['[object Float32Array]'] = Fi['[object Float64Array]'] = Fi['[object Int8Array]'] = Fi[
    '[object Int16Array]'
  ] = Fi['[object Int32Array]'] = Fi['[object Uint8Array]'] = Fi['[object Uint8ClampedArray]'] = Fi[
    '[object Uint16Array]'
  ] = Fi['[object Uint32Array]'] = !0),
    (Fi['[object Arguments]'] = Fi['[object Array]'] = Fi['[object ArrayBuffer]'] = Fi[
      '[object Boolean]'
    ] = Fi['[object DataView]'] = Fi['[object Date]'] = Fi['[object Error]'] = Fi[
      '[object Function]'
    ] = Fi['[object Map]'] = Fi['[object Number]'] = Fi['[object Object]'] = Fi[
      '[object RegExp]'
    ] = Fi['[object Set]'] = Fi['[object String]'] = Fi['[object WeakMap]'] = !1);
  var Ui = function (e) {
    return Ii(e) && Mi(e.length) && !!Fi[Si(e)];
  };
  var Yi = function (e) {
      return function (t) {
        return e(t);
      };
    },
    Vi = s(function (e, t) {
      var n = t && !t.nodeType && t,
        r = n && e && !e.nodeType && e,
        i = r && r.exports === n && hi.process,
        o = (function () {
          try {
            var e = r && r.require && r.require('util').types;
            return e || (i && i.binding && i.binding('util'));
          } catch (e) {}
        })();
      e.exports = o;
    }),
    Di = Vi && Vi.isTypedArray,
    Bi = Di ? Yi(Di) : Ui,
    qi = Object.prototype.hasOwnProperty;
  var zi = function (e, t) {
      var n = Ri(e),
        r = !n && Pi(e),
        i = !n && !r && xi(e),
        o = !n && !r && !i && Bi(e),
        s = n || r || i || o,
        a = s ? ci(e.length, String) : [],
        u = a.length;
      for (var f in e)
        (!t && !qi.call(e, f)) ||
          (s &&
            ('length' == f ||
              (i && ('offset' == f || 'parent' == f)) ||
              (o && ('buffer' == f || 'byteLength' == f || 'byteOffset' == f)) ||
              ji(f, u))) ||
          a.push(f);
      return a;
    },
    Wi = Object.prototype;
  var Gi = function (e) {
    var t = e && e.constructor;
    return e === (('function' == typeof t && t.prototype) || Wi);
  };
  var Zi = function (e, t) {
      return function (n) {
        return e(t(n));
      };
    },
    $i = Zi(Object.keys, Object),
    Ji = Object.prototype.hasOwnProperty;
  var Ki = function (e) {
    if (!Gi(e)) return $i(e);
    var t = [];
    for (var n in Object(e)) Ji.call(e, n) && 'constructor' != n && t.push(n);
    return t;
  };
  var Qi = function (e) {
    var t = typeof e;
    return null != e && ('object' == t || 'function' == t);
  };
  var Xi = function (e) {
    if (!Qi(e)) return !1;
    var t = Si(e);
    return (
      '[object Function]' == t ||
      '[object GeneratorFunction]' == t ||
      '[object AsyncFunction]' == t ||
      '[object Proxy]' == t
    );
  };
  var Hi = function (e) {
    return null != e && Mi(e.length) && !Xi(e);
  };
  var eo = function (e) {
    return Hi(e) ? zi(e) : Ki(e);
  };
  var to = function (e) {
    return null == e ? [] : li(e, eo(e));
  };
  var no = function (e) {
    return ai(to(e));
  };
  var ro = function (e) {
    return (Ri(e) ? ui : no)(e);
  };
  var io = function (e) {
    if (dr(e)) return e;
  };
  var oo = function () {
    throw new TypeError(
      'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
    );
  };
  var so = function (e) {
    return io(e) || Er(e) || Tr(e) || oo();
  };
  function ao(e, t) {
    for (var n = 0; n < t.length; n++) {
      var r = t[n];
      (r.enumerable = r.enumerable || !1),
        (r.configurable = !0),
        'value' in r && (r.writable = !0),
        nn(e, r.key, r);
    }
  }
  var uo = function (e, t, n) {
    return t && ao(e.prototype, t), n && ao(e, n), e;
  };
  var fo = function (e, t, n, r, i) {
      var o = {};
      return (
        pr(r).forEach(function (e) {
          o[e] = r[e];
        }),
        (o.enumerable = !!o.enumerable),
        (o.configurable = !!o.configurable),
        ('value' in o || o.initializer) && (o.writable = !0),
        (o = n
          .slice()
          .reverse()
          .reduce(function (n, r) {
            return r(e, t, n) || n;
          }, o)),
        i &&
          void 0 !== o.initializer &&
          ((o.value = o.initializer ? o.initializer.call(i) : void 0), (o.initializer = void 0)),
        void 0 === o.initializer && (nn(e, t, o), (o = null)),
        o
      );
    },
    lo = s(function (e, t) {
      var n;
      (n = {
        VERSION: '2.4.0',
        Result: { SUCCEEDED: 1, NOTRANSITION: 2, CANCELLED: 3, PENDING: 4 },
        Error: { INVALID_TRANSITION: 100, PENDING_TRANSITION: 200, INVALID_CALLBACK: 300 },
        WILDCARD: '*',
        ASYNC: 'async',
        create: function (e, t) {
          var r = 'string' == typeof e.initial ? { state: e.initial } : e.initial,
            i = e.terminal || e.final,
            o = t || e.target || {},
            s = e.events || [],
            a = e.callbacks || {},
            u = {},
            f = {},
            l = function (e) {
              var t = Array.isArray(e.from) ? e.from : e.from ? [e.from] : [n.WILDCARD];
              u[e.name] = u[e.name] || {};
              for (var r = 0; r < t.length; r++)
                (f[t[r]] = f[t[r]] || []), f[t[r]].push(e.name), (u[e.name][t[r]] = e.to || t[r]);
              e.to && (f[e.to] = f[e.to] || []);
            };
          r && ((r.event = r.event || 'startup'), l({ name: r.event, from: 'none', to: r.state }));
          for (var c = 0; c < s.length; c++) l(s[c]);
          for (var h in u) u.hasOwnProperty(h) && (o[h] = n.buildEvent(h, u[h]));
          for (var h in a) a.hasOwnProperty(h) && (o[h] = a[h]);
          return (
            (o.current = 'none'),
            (o.is = function (e) {
              return Array.isArray(e) ? e.indexOf(this.current) >= 0 : this.current === e;
            }),
            (o.can = function (e) {
              return (
                !this.transition &&
                void 0 !== u[e] &&
                (u[e].hasOwnProperty(this.current) || u[e].hasOwnProperty(n.WILDCARD))
              );
            }),
            (o.cannot = function (e) {
              return !this.can(e);
            }),
            (o.transitions = function () {
              return (f[this.current] || []).concat(f[n.WILDCARD] || []);
            }),
            (o.isFinished = function () {
              return this.is(i);
            }),
            (o.error =
              e.error ||
              function (e, t, n, r, i, o, s) {
                throw s || o;
              }),
            (o.states = function () {
              return Object.keys(f).sort();
            }),
            r && !r.defer && o[r.event](),
            o
          );
        },
        doCallback: function (e, t, r, i, o, s) {
          if (t)
            try {
              return t.apply(e, [r, i, o].concat(s));
            } catch (t) {
              return e.error(
                r,
                i,
                o,
                s,
                n.Error.INVALID_CALLBACK,
                'an exception occurred in a caller-provided callback function',
                t
              );
            }
        },
        beforeAnyEvent: function (e, t, r, i, o) {
          return n.doCallback(e, e.onbeforeevent, t, r, i, o);
        },
        afterAnyEvent: function (e, t, r, i, o) {
          return n.doCallback(e, e.onafterevent || e.onevent, t, r, i, o);
        },
        leaveAnyState: function (e, t, r, i, o) {
          return n.doCallback(e, e.onleavestate, t, r, i, o);
        },
        enterAnyState: function (e, t, r, i, o) {
          return n.doCallback(e, e.onenterstate || e.onstate, t, r, i, o);
        },
        changeState: function (e, t, r, i, o) {
          return n.doCallback(e, e.onchangestate, t, r, i, o);
        },
        beforeThisEvent: function (e, t, r, i, o) {
          return n.doCallback(e, e['onbefore' + t], t, r, i, o);
        },
        afterThisEvent: function (e, t, r, i, o) {
          return n.doCallback(e, e['onafter' + t] || e['on' + t], t, r, i, o);
        },
        leaveThisState: function (e, t, r, i, o) {
          return n.doCallback(e, e['onleave' + r], t, r, i, o);
        },
        enterThisState: function (e, t, r, i, o) {
          return n.doCallback(e, e['onenter' + i] || e['on' + i], t, r, i, o);
        },
        beforeEvent: function (e, t, r, i, o) {
          if (!1 === n.beforeThisEvent(e, t, r, i, o) || !1 === n.beforeAnyEvent(e, t, r, i, o))
            return !1;
        },
        afterEvent: function (e, t, r, i, o) {
          n.afterThisEvent(e, t, r, i, o), n.afterAnyEvent(e, t, r, i, o);
        },
        leaveState: function (e, t, r, i, o) {
          var s = n.leaveThisState(e, t, r, i, o),
            a = n.leaveAnyState(e, t, r, i, o);
          return !1 !== s && !1 !== a && (n.ASYNC === s || n.ASYNC === a ? n.ASYNC : void 0);
        },
        enterState: function (e, t, r, i, o) {
          n.enterThisState(e, t, r, i, o), n.enterAnyState(e, t, r, i, o);
        },
        buildEvent: function (e, t) {
          return function () {
            var r = this.current,
              i = t[r] || (t[n.WILDCARD] != n.WILDCARD ? t[n.WILDCARD] : r) || r,
              o = Array.prototype.slice.call(arguments);
            if (this.transition)
              return this.error(
                e,
                r,
                i,
                o,
                n.Error.PENDING_TRANSITION,
                'event ' + e + ' inappropriate because previous transition did not complete'
              );
            if (this.cannot(e))
              return this.error(
                e,
                r,
                i,
                o,
                n.Error.INVALID_TRANSITION,
                'event ' + e + ' inappropriate in current state ' + this.current
              );
            if (!1 === n.beforeEvent(this, e, r, i, o)) return n.Result.CANCELLED;
            if (r === i) return n.afterEvent(this, e, r, i, o), n.Result.NOTRANSITION;
            var s = this;
            (this.transition = function () {
              return (
                (s.transition = null),
                (s.current = i),
                n.enterState(s, e, r, i, o),
                n.changeState(s, e, r, i, o),
                n.afterEvent(s, e, r, i, o),
                n.Result.SUCCEEDED
              );
            }),
              (this.transition.cancel = function () {
                (s.transition = null), n.afterEvent(s, e, r, i, o);
              });
            var a = n.leaveState(this, e, r, i, o);
            return !1 === a
              ? ((this.transition = null), n.Result.CANCELLED)
              : n.ASYNC === a
              ? n.Result.PENDING
              : this.transition
              ? this.transition()
              : void 0;
          };
        },
      }),
        e.exports && (t = e.exports = n),
        (t.StateMachine = n);
    }),
    co = Object.assign,
    ho =
      !co ||
      b(function () {
        var e = {},
          t = {},
          n = Symbol(),
          r = 'abcdefghijklmnopqrst';
        return (
          (e[n] = 7),
          r.split('').forEach(function (e) {
            t[e] = e;
          }),
          7 != co({}, e)[n] || Object.keys(co({}, t)).join('') != r
        );
      })
        ? function (e, t) {
            for (var n = ye(e), r = arguments.length, i = 1, o = un.f, s = cn.f; r > i; )
              for (
                var a,
                  u = Y(arguments[i++]),
                  f = o ? te(u).concat(o(u)) : te(u),
                  l = f.length,
                  c = 0;
                l > c;

              )
                (a = f[c++]), (w && !s.call(u, a)) || (n[a] = u[a]);
            return n;
          }
        : co;
  k(k.S + k.F, 'Object', { assign: ho });
  var po = d.Object.assign,
    mo = En.f('iterator'),
    yo = s(function (e) {
      function t(n) {
        return (
          (e.exports = t =
            'function' == typeof wr && 'symbol' == typeof mo
              ? function (e) {
                  return typeof e;
                }
              : function (e) {
                  return e && 'function' == typeof wr && e.constructor === wr && e !== wr.prototype
                    ? 'symbol'
                    : typeof e;
                }),
          t(n)
        );
      }
      e.exports = t;
    }),
    go = wn.getWeak,
    vo = xr(5),
    bo = xr(6),
    wo = 0,
    Eo = function (e) {
      return e._l || (e._l = new To());
    },
    To = function () {
      this.a = [];
    },
    _o = function (e, t) {
      return vo(e.a, function (e) {
        return e[0] === t;
      });
    };
  To.prototype = {
    get: function (e) {
      var t = _o(this, e);
      if (t) return t[1];
    },
    has: function (e) {
      return !!_o(this, e);
    },
    set: function (e, t) {
      var n = _o(this, e);
      n ? (n[1] = t) : this.a.push([e, t]);
    },
    delete: function (e) {
      var t = bo(this.a, function (t) {
        return t[0] === e;
      });
      return ~t && this.a.splice(t, 1), !!~t;
    },
  };
  var So = {
    getConstructor: function (e, t, n, r) {
      var i = e(function (e, o) {
        Ve(e, i, t, '_i'),
          (e._t = t),
          (e._i = wo++),
          (e._l = void 0),
          null != o && Ze(o, n, e[r], e);
      });
      return (
        bt(i.prototype, {
          delete: function (e) {
            if (!g(e)) return !1;
            var n = go(e);
            return !0 === n ? Eo(Ir(this, t)).delete(e) : n && R(n, this._i) && delete n[this._i];
          },
          has: function (e) {
            if (!g(e)) return !1;
            var n = go(e);
            return !0 === n ? Eo(Ir(this, t)).has(e) : n && R(n, this._i);
          },
        }),
        i
      );
    },
    def: function (e, t, n) {
      var r = go(v(t), !0);
      return !0 === r ? Eo(e).set(t, n) : (r[e._i] = n), e;
    },
    ufstore: Eo,
  };
  s(function (e) {
    var t,
      n = xr(0),
      r = Ir,
      i = !p.ActiveXObject && 'ActiveXObject' in p,
      o = 'WeakMap',
      s = wn.getWeak,
      a = Object.isExtensible,
      u = So.ufstore,
      f = function (e) {
        return function () {
          return e(this, arguments.length > 0 ? arguments[0] : void 0);
        };
      },
      l = {
        get: function (e) {
          if (g(e)) {
            var t = s(e);
            return !0 === t ? u(Ir(this, o)).get(e) : t ? t[this._i] : void 0;
          }
        },
        set: function (e, t) {
          return So.def(Ir(this, o), e, t);
        },
      },
      c = (e.exports = Mr(o, f, l, So, !0, !0));
    r &&
      i &&
      ((t = So.getConstructor(f, o)),
      ho(t.prototype, l),
      (wn.NEED = !0),
      n(['delete', 'has', 'get', 'set'], function (e) {
        var n = c.prototype,
          r = n[e];
        j(n, e, function (n, i) {
          if (g(n) && !a(n)) {
            this._f || (this._f = new t());
            var o = this._f[e](n, i);
            return 'set' == e ? this : o;
          }
          return r.call(this, n, i);
        });
      }));
  });
  Fr('WeakMap'), Ur('WeakMap');
  var Io = d.WeakMap,
    Oo = Zi(Object.getPrototypeOf, Object),
    Co = Function.prototype,
    Ao = Object.prototype,
    Lo = Co.toString,
    Po = Ao.hasOwnProperty,
    Ro = Lo.call(Object);
  var No = function (e) {
      if (!Ii(e) || '[object Object]' != Si(e)) return !1;
      var t = Oo(e);
      if (null === t) return !0;
      var n = Po.call(t, 'constructor') && t.constructor;
      return 'function' == typeof n && n instanceof n && Lo.call(n) == Ro;
    },
    xo = wn.onFreeze;
  yn('freeze', function (e) {
    return function (t) {
      return e && g(t) ? e(xo(t)) : t;
    };
  });
  var ko,
    jo,
    Mo = d.Object.freeze,
    Fo = s(function (e) {
      var t;
      e.exports.timeout = function (e, n) {
        var r,
          i = new t();
        return Promise.race([
          e,
          new Promise(function (e, t) {
            r = setTimeout(function () {
              t(i);
            }, n);
          }),
        ]).then(
          function (e) {
            return clearTimeout(r), e;
          },
          function (e) {
            throw (clearTimeout(r), e);
          }
        );
      };
      ((t = e.exports.TimeoutError = function () {
        Error.call(this), (this.stack = Error().stack), (this.message = 'Timeout');
      }).prototype = Object.create(Error.prototype)),
        (t.prototype.name = 'TimeoutError');
    }),
    Uo = s(function (e, t) {
      function n(e) {
        return e && 'object' == typeof e && 'default' in e ? e.default : e;
      }
      Object.defineProperty(t, '__esModule', { value: !0 });
      var r = n(Jt),
        i = n(Ht),
        s = n(en),
        a = n(nn),
        u = n(on),
        f = n(mn),
        l = n(bn),
        c = n(sr),
        h = n(ar),
        p = n(fr),
        d = n(lr),
        m = n(hr),
        y = n(pr),
        g = n(Sr),
        v = n(Yr),
        b = n(Vr),
        w = n(Br),
        E = n(qr),
        T = n(Gr),
        _ = n(ni),
        S = n(ro),
        I = n(wr),
        O = n(so),
        C = n(uo),
        A = n(fo),
        L = n(lo),
        P = n(po),
        R = n(yo),
        N = n(Io),
        x = n(dr),
        k = n(No),
        j = n(Mo),
        M = i
          .newBuilder({})
          .import({
            package: 'push_server.messages2',
            syntax: 'proto2',
            options: { objc_class_prefix: 'AVIM' },
            messages: [
              {
                name: 'JsonObjectMessage',
                syntax: 'proto2',
                fields: [{ rule: 'required', type: 'string', name: 'data', id: 1 }],
              },
              {
                name: 'UnreadTuple',
                syntax: 'proto2',
                fields: [
                  { rule: 'required', type: 'string', name: 'cid', id: 1 },
                  { rule: 'required', type: 'int32', name: 'unread', id: 2 },
                  { rule: 'optional', type: 'string', name: 'mid', id: 3 },
                  { rule: 'optional', type: 'int64', name: 'timestamp', id: 4 },
                  { rule: 'optional', type: 'string', name: 'from', id: 5 },
                  { rule: 'optional', type: 'string', name: 'data', id: 6 },
                  { rule: 'optional', type: 'int64', name: 'patchTimestamp', id: 7 },
                  { rule: 'optional', type: 'bool', name: 'mentioned', id: 8 },
                  { rule: 'optional', type: 'bytes', name: 'binaryMsg', id: 9 },
                  { rule: 'optional', type: 'int32', name: 'convType', id: 10 },
                ],
              },
              {
                name: 'LogItem',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'string', name: 'from', id: 1 },
                  { rule: 'optional', type: 'string', name: 'data', id: 2 },
                  { rule: 'optional', type: 'int64', name: 'timestamp', id: 3 },
                  { rule: 'optional', type: 'string', name: 'msgId', id: 4 },
                  { rule: 'optional', type: 'int64', name: 'ackAt', id: 5 },
                  { rule: 'optional', type: 'int64', name: 'readAt', id: 6 },
                  { rule: 'optional', type: 'int64', name: 'patchTimestamp', id: 7 },
                  { rule: 'optional', type: 'bool', name: 'mentionAll', id: 8 },
                  { rule: 'repeated', type: 'string', name: 'mentionPids', id: 9 },
                  { rule: 'optional', type: 'bool', name: 'bin', id: 10 },
                  { rule: 'optional', type: 'int32', name: 'convType', id: 11 },
                ],
              },
              {
                name: 'ConvMemberInfo',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'string', name: 'pid', id: 1 },
                  { rule: 'optional', type: 'string', name: 'role', id: 2 },
                  { rule: 'optional', type: 'string', name: 'infoId', id: 3 },
                ],
              },
              {
                name: 'DataCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'repeated', type: 'string', name: 'ids', id: 1 },
                  { rule: 'repeated', type: 'JsonObjectMessage', name: 'msg', id: 2 },
                  { rule: 'optional', type: 'bool', name: 'offline', id: 3 },
                ],
              },
              {
                name: 'SessionCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'int64', name: 't', id: 1 },
                  { rule: 'optional', type: 'string', name: 'n', id: 2 },
                  { rule: 'optional', type: 'string', name: 's', id: 3 },
                  { rule: 'optional', type: 'string', name: 'ua', id: 4 },
                  { rule: 'optional', type: 'bool', name: 'r', id: 5 },
                  { rule: 'optional', type: 'string', name: 'tag', id: 6 },
                  { rule: 'optional', type: 'string', name: 'deviceId', id: 7 },
                  { rule: 'repeated', type: 'string', name: 'sessionPeerIds', id: 8 },
                  { rule: 'repeated', type: 'string', name: 'onlineSessionPeerIds', id: 9 },
                  { rule: 'optional', type: 'string', name: 'st', id: 10 },
                  { rule: 'optional', type: 'int32', name: 'stTtl', id: 11 },
                  { rule: 'optional', type: 'int32', name: 'code', id: 12 },
                  { rule: 'optional', type: 'string', name: 'reason', id: 13 },
                  { rule: 'optional', type: 'string', name: 'deviceToken', id: 14 },
                  { rule: 'optional', type: 'bool', name: 'sp', id: 15 },
                  { rule: 'optional', type: 'string', name: 'detail', id: 16 },
                  { rule: 'optional', type: 'int64', name: 'lastUnreadNotifTime', id: 17 },
                  { rule: 'optional', type: 'int64', name: 'lastPatchTime', id: 18 },
                  { rule: 'optional', type: 'int64', name: 'configBitmap', id: 19 },
                ],
              },
              {
                name: 'ErrorCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'required', type: 'int32', name: 'code', id: 1 },
                  { rule: 'required', type: 'string', name: 'reason', id: 2 },
                  { rule: 'optional', type: 'int32', name: 'appCode', id: 3 },
                  { rule: 'optional', type: 'string', name: 'detail', id: 4 },
                  { rule: 'repeated', type: 'string', name: 'pids', id: 5 },
                  { rule: 'optional', type: 'string', name: 'appMsg', id: 6 },
                ],
              },
              {
                name: 'DirectCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'string', name: 'msg', id: 1 },
                  { rule: 'optional', type: 'string', name: 'uid', id: 2 },
                  { rule: 'optional', type: 'string', name: 'fromPeerId', id: 3 },
                  { rule: 'optional', type: 'int64', name: 'timestamp', id: 4 },
                  { rule: 'optional', type: 'bool', name: 'offline', id: 5 },
                  { rule: 'optional', type: 'bool', name: 'hasMore', id: 6 },
                  { rule: 'repeated', type: 'string', name: 'toPeerIds', id: 7 },
                  { rule: 'optional', type: 'bool', name: 'r', id: 10 },
                  { rule: 'optional', type: 'string', name: 'cid', id: 11 },
                  { rule: 'optional', type: 'string', name: 'id', id: 12 },
                  { rule: 'optional', type: 'bool', name: 'transient', id: 13 },
                  { rule: 'optional', type: 'string', name: 'dt', id: 14 },
                  { rule: 'optional', type: 'string', name: 'roomId', id: 15 },
                  { rule: 'optional', type: 'string', name: 'pushData', id: 16 },
                  { rule: 'optional', type: 'bool', name: 'will', id: 17 },
                  { rule: 'optional', type: 'int64', name: 'patchTimestamp', id: 18 },
                  { rule: 'optional', type: 'bytes', name: 'binaryMsg', id: 19 },
                  { rule: 'repeated', type: 'string', name: 'mentionPids', id: 20 },
                  { rule: 'optional', type: 'bool', name: 'mentionAll', id: 21 },
                  { rule: 'optional', type: 'int32', name: 'convType', id: 22 },
                ],
              },
              {
                name: 'AckCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'int32', name: 'code', id: 1 },
                  { rule: 'optional', type: 'string', name: 'reason', id: 2 },
                  { rule: 'optional', type: 'string', name: 'mid', id: 3 },
                  { rule: 'optional', type: 'string', name: 'cid', id: 4 },
                  { rule: 'optional', type: 'int64', name: 't', id: 5 },
                  { rule: 'optional', type: 'string', name: 'uid', id: 6 },
                  { rule: 'optional', type: 'int64', name: 'fromts', id: 7 },
                  { rule: 'optional', type: 'int64', name: 'tots', id: 8 },
                  { rule: 'optional', type: 'string', name: 'type', id: 9 },
                  { rule: 'repeated', type: 'string', name: 'ids', id: 10 },
                  { rule: 'optional', type: 'int32', name: 'appCode', id: 11 },
                  { rule: 'optional', type: 'string', name: 'appMsg', id: 12 },
                ],
              },
              {
                name: 'UnreadCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'repeated', type: 'UnreadTuple', name: 'convs', id: 1 },
                  { rule: 'optional', type: 'int64', name: 'notifTime', id: 2 },
                ],
              },
              {
                name: 'ConvCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'repeated', type: 'string', name: 'm', id: 1 },
                  { rule: 'optional', type: 'bool', name: 'transient', id: 2 },
                  { rule: 'optional', type: 'bool', name: 'unique', id: 3 },
                  { rule: 'optional', type: 'string', name: 'cid', id: 4 },
                  { rule: 'optional', type: 'string', name: 'cdate', id: 5 },
                  { rule: 'optional', type: 'string', name: 'initBy', id: 6 },
                  { rule: 'optional', type: 'string', name: 'sort', id: 7 },
                  { rule: 'optional', type: 'int32', name: 'limit', id: 8 },
                  { rule: 'optional', type: 'int32', name: 'skip', id: 9 },
                  { rule: 'optional', type: 'int32', name: 'flag', id: 10 },
                  { rule: 'optional', type: 'int32', name: 'count', id: 11 },
                  { rule: 'optional', type: 'string', name: 'udate', id: 12 },
                  { rule: 'optional', type: 'int64', name: 't', id: 13 },
                  { rule: 'optional', type: 'string', name: 'n', id: 14 },
                  { rule: 'optional', type: 'string', name: 's', id: 15 },
                  { rule: 'optional', type: 'bool', name: 'statusSub', id: 16 },
                  { rule: 'optional', type: 'bool', name: 'statusPub', id: 17 },
                  { rule: 'optional', type: 'int32', name: 'statusTTL', id: 18 },
                  { rule: 'optional', type: 'string', name: 'uniqueId', id: 19 },
                  { rule: 'optional', type: 'string', name: 'targetClientId', id: 20 },
                  { rule: 'optional', type: 'int64', name: 'maxReadTimestamp', id: 21 },
                  { rule: 'optional', type: 'int64', name: 'maxAckTimestamp', id: 22 },
                  { rule: 'optional', type: 'bool', name: 'queryAllMembers', id: 23 },
                  { rule: 'repeated', type: 'MaxReadTuple', name: 'maxReadTuples', id: 24 },
                  { rule: 'repeated', type: 'string', name: 'cids', id: 25 },
                  { rule: 'optional', type: 'ConvMemberInfo', name: 'info', id: 26 },
                  { rule: 'optional', type: 'bool', name: 'tempConv', id: 27 },
                  { rule: 'optional', type: 'int32', name: 'tempConvTTL', id: 28 },
                  { rule: 'repeated', type: 'string', name: 'tempConvIds', id: 29 },
                  { rule: 'repeated', type: 'string', name: 'allowedPids', id: 30 },
                  { rule: 'repeated', type: 'ErrorCommand', name: 'failedPids', id: 31 },
                  { rule: 'optional', type: 'string', name: 'next', id: 40 },
                  { rule: 'optional', type: 'JsonObjectMessage', name: 'results', id: 100 },
                  { rule: 'optional', type: 'JsonObjectMessage', name: 'where', id: 101 },
                  { rule: 'optional', type: 'JsonObjectMessage', name: 'attr', id: 103 },
                  { rule: 'optional', type: 'JsonObjectMessage', name: 'attrModified', id: 104 },
                ],
              },
              {
                name: 'RoomCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'string', name: 'roomId', id: 1 },
                  { rule: 'optional', type: 'string', name: 's', id: 2 },
                  { rule: 'optional', type: 'int64', name: 't', id: 3 },
                  { rule: 'optional', type: 'string', name: 'n', id: 4 },
                  { rule: 'optional', type: 'bool', name: 'transient', id: 5 },
                  { rule: 'repeated', type: 'string', name: 'roomPeerIds', id: 6 },
                  { rule: 'optional', type: 'string', name: 'byPeerId', id: 7 },
                ],
              },
              {
                name: 'LogsCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'string', name: 'cid', id: 1 },
                  { rule: 'optional', type: 'int32', name: 'l', id: 2 },
                  { rule: 'optional', type: 'int32', name: 'limit', id: 3 },
                  { rule: 'optional', type: 'int64', name: 't', id: 4 },
                  { rule: 'optional', type: 'int64', name: 'tt', id: 5 },
                  { rule: 'optional', type: 'string', name: 'tmid', id: 6 },
                  { rule: 'optional', type: 'string', name: 'mid', id: 7 },
                  { rule: 'optional', type: 'string', name: 'checksum', id: 8 },
                  { rule: 'optional', type: 'bool', name: 'stored', id: 9 },
                  {
                    rule: 'optional',
                    type: 'QueryDirection',
                    name: 'direction',
                    id: 10,
                    options: { default: 'OLD' },
                  },
                  { rule: 'optional', type: 'bool', name: 'tIncluded', id: 11 },
                  { rule: 'optional', type: 'bool', name: 'ttIncluded', id: 12 },
                  { rule: 'optional', type: 'int32', name: 'lctype', id: 13 },
                  { rule: 'repeated', type: 'LogItem', name: 'logs', id: 105 },
                ],
                enums: [
                  {
                    name: 'QueryDirection',
                    syntax: 'proto2',
                    values: [
                      { name: 'OLD', id: 1 },
                      { name: 'NEW', id: 2 },
                    ],
                  },
                ],
              },
              {
                name: 'RcpCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'string', name: 'id', id: 1 },
                  { rule: 'optional', type: 'string', name: 'cid', id: 2 },
                  { rule: 'optional', type: 'int64', name: 't', id: 3 },
                  { rule: 'optional', type: 'bool', name: 'read', id: 4 },
                  { rule: 'optional', type: 'string', name: 'from', id: 5 },
                ],
              },
              {
                name: 'ReadTuple',
                syntax: 'proto2',
                fields: [
                  { rule: 'required', type: 'string', name: 'cid', id: 1 },
                  { rule: 'optional', type: 'int64', name: 'timestamp', id: 2 },
                  { rule: 'optional', type: 'string', name: 'mid', id: 3 },
                ],
              },
              {
                name: 'MaxReadTuple',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'string', name: 'pid', id: 1 },
                  { rule: 'optional', type: 'int64', name: 'maxAckTimestamp', id: 2 },
                  { rule: 'optional', type: 'int64', name: 'maxReadTimestamp', id: 3 },
                ],
              },
              {
                name: 'ReadCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'string', name: 'cid', id: 1 },
                  { rule: 'repeated', type: 'string', name: 'cids', id: 2 },
                  { rule: 'repeated', type: 'ReadTuple', name: 'convs', id: 3 },
                ],
              },
              {
                name: 'PresenceCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'StatusType', name: 'status', id: 1 },
                  { rule: 'repeated', type: 'string', name: 'sessionPeerIds', id: 2 },
                  { rule: 'optional', type: 'string', name: 'cid', id: 3 },
                ],
              },
              {
                name: 'ReportCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'bool', name: 'initiative', id: 1 },
                  { rule: 'optional', type: 'string', name: 'type', id: 2 },
                  { rule: 'optional', type: 'string', name: 'data', id: 3 },
                ],
              },
              {
                name: 'PatchItem',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'string', name: 'cid', id: 1 },
                  { rule: 'optional', type: 'string', name: 'mid', id: 2 },
                  { rule: 'optional', type: 'int64', name: 'timestamp', id: 3 },
                  { rule: 'optional', type: 'bool', name: 'recall', id: 4 },
                  { rule: 'optional', type: 'string', name: 'data', id: 5 },
                  { rule: 'optional', type: 'int64', name: 'patchTimestamp', id: 6 },
                  { rule: 'optional', type: 'string', name: 'from', id: 7 },
                  { rule: 'optional', type: 'bytes', name: 'binaryMsg', id: 8 },
                  { rule: 'optional', type: 'bool', name: 'mentionAll', id: 9 },
                  { rule: 'repeated', type: 'string', name: 'mentionPids', id: 10 },
                  { rule: 'optional', type: 'int64', name: 'patchCode', id: 11 },
                  { rule: 'optional', type: 'string', name: 'patchReason', id: 12 },
                ],
              },
              {
                name: 'PatchCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'repeated', type: 'PatchItem', name: 'patches', id: 1 },
                  { rule: 'optional', type: 'int64', name: 'lastPatchTime', id: 2 },
                ],
              },
              {
                name: 'PubsubCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'string', name: 'cid', id: 1 },
                  { rule: 'repeated', type: 'string', name: 'cids', id: 2 },
                  { rule: 'optional', type: 'string', name: 'topic', id: 3 },
                  { rule: 'optional', type: 'string', name: 'subtopic', id: 4 },
                  { rule: 'repeated', type: 'string', name: 'topics', id: 5 },
                  { rule: 'repeated', type: 'string', name: 'subtopics', id: 6 },
                  { rule: 'optional', type: 'JsonObjectMessage', name: 'results', id: 7 },
                ],
              },
              {
                name: 'BlacklistCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'string', name: 'srcCid', id: 1 },
                  { rule: 'repeated', type: 'string', name: 'toPids', id: 2 },
                  { rule: 'optional', type: 'string', name: 'srcPid', id: 3 },
                  { rule: 'repeated', type: 'string', name: 'toCids', id: 4 },
                  { rule: 'optional', type: 'int32', name: 'limit', id: 5 },
                  { rule: 'optional', type: 'string', name: 'next', id: 6 },
                  { rule: 'repeated', type: 'string', name: 'blockedPids', id: 8 },
                  { rule: 'repeated', type: 'string', name: 'blockedCids', id: 9 },
                  { rule: 'repeated', type: 'string', name: 'allowedPids', id: 10 },
                  { rule: 'repeated', type: 'ErrorCommand', name: 'failedPids', id: 11 },
                  { rule: 'optional', type: 'int64', name: 't', id: 12 },
                  { rule: 'optional', type: 'string', name: 'n', id: 13 },
                  { rule: 'optional', type: 'string', name: 's', id: 14 },
                ],
              },
              {
                name: 'GenericCommand',
                syntax: 'proto2',
                fields: [
                  { rule: 'optional', type: 'CommandType', name: 'cmd', id: 1 },
                  { rule: 'optional', type: 'OpType', name: 'op', id: 2 },
                  { rule: 'optional', type: 'string', name: 'appId', id: 3 },
                  { rule: 'optional', type: 'string', name: 'peerId', id: 4 },
                  { rule: 'optional', type: 'int32', name: 'i', id: 5 },
                  { rule: 'optional', type: 'string', name: 'installationId', id: 6 },
                  { rule: 'optional', type: 'int32', name: 'priority', id: 7 },
                  { rule: 'optional', type: 'int32', name: 'service', id: 8 },
                  { rule: 'optional', type: 'int64', name: 'serverTs', id: 9 },
                  { rule: 'optional', type: 'int64', name: 'clientTs', id: 10 },
                  { rule: 'optional', type: 'int32', name: 'notificationType', id: 11 },
                  { rule: 'optional', type: 'DataCommand', name: 'dataMessage', id: 101 },
                  { rule: 'optional', type: 'SessionCommand', name: 'sessionMessage', id: 102 },
                  { rule: 'optional', type: 'ErrorCommand', name: 'errorMessage', id: 103 },
                  { rule: 'optional', type: 'DirectCommand', name: 'directMessage', id: 104 },
                  { rule: 'optional', type: 'AckCommand', name: 'ackMessage', id: 105 },
                  { rule: 'optional', type: 'UnreadCommand', name: 'unreadMessage', id: 106 },
                  { rule: 'optional', type: 'ReadCommand', name: 'readMessage', id: 107 },
                  { rule: 'optional', type: 'RcpCommand', name: 'rcpMessage', id: 108 },
                  { rule: 'optional', type: 'LogsCommand', name: 'logsMessage', id: 109 },
                  { rule: 'optional', type: 'ConvCommand', name: 'convMessage', id: 110 },
                  { rule: 'optional', type: 'RoomCommand', name: 'roomMessage', id: 111 },
                  { rule: 'optional', type: 'PresenceCommand', name: 'presenceMessage', id: 112 },
                  { rule: 'optional', type: 'ReportCommand', name: 'reportMessage', id: 113 },
                  { rule: 'optional', type: 'PatchCommand', name: 'patchMessage', id: 114 },
                  { rule: 'optional', type: 'PubsubCommand', name: 'pubsubMessage', id: 115 },
                  { rule: 'optional', type: 'BlacklistCommand', name: 'blacklistMessage', id: 116 },
                ],
              },
            ],
            enums: [
              {
                name: 'CommandType',
                syntax: 'proto2',
                values: [
                  { name: 'session', id: 0 },
                  { name: 'conv', id: 1 },
                  { name: 'direct', id: 2 },
                  { name: 'ack', id: 3 },
                  { name: 'rcp', id: 4 },
                  { name: 'unread', id: 5 },
                  { name: 'logs', id: 6 },
                  { name: 'error', id: 7 },
                  { name: 'login', id: 8 },
                  { name: 'data', id: 9 },
                  { name: 'room', id: 10 },
                  { name: 'read', id: 11 },
                  { name: 'presence', id: 12 },
                  { name: 'report', id: 13 },
                  { name: 'echo', id: 14 },
                  { name: 'loggedin', id: 15 },
                  { name: 'logout', id: 16 },
                  { name: 'loggedout', id: 17 },
                  { name: 'patch', id: 18 },
                  { name: 'pubsub', id: 19 },
                  { name: 'blacklist', id: 20 },
                  { name: 'goaway', id: 21 },
                ],
              },
              {
                name: 'OpType',
                syntax: 'proto2',
                values: [
                  { name: 'open', id: 1 },
                  { name: 'add', id: 2 },
                  { name: 'remove', id: 3 },
                  { name: 'close', id: 4 },
                  { name: 'opened', id: 5 },
                  { name: 'closed', id: 6 },
                  { name: 'query', id: 7 },
                  { name: 'query_result', id: 8 },
                  { name: 'conflict', id: 9 },
                  { name: 'added', id: 10 },
                  { name: 'removed', id: 11 },
                  { name: 'refresh', id: 12 },
                  { name: 'refreshed', id: 13 },
                  { name: 'start', id: 30 },
                  { name: 'started', id: 31 },
                  { name: 'joined', id: 32 },
                  { name: 'members_joined', id: 33 },
                  { name: 'left', id: 39 },
                  { name: 'members_left', id: 40 },
                  { name: 'results', id: 42 },
                  { name: 'count', id: 43 },
                  { name: 'result', id: 44 },
                  { name: 'update', id: 45 },
                  { name: 'updated', id: 46 },
                  { name: 'mute', id: 47 },
                  { name: 'unmute', id: 48 },
                  { name: 'status', id: 49 },
                  { name: 'members', id: 50 },
                  { name: 'max_read', id: 51 },
                  { name: 'is_member', id: 52 },
                  { name: 'member_info_update', id: 53 },
                  { name: 'member_info_updated', id: 54 },
                  { name: 'member_info_changed', id: 55 },
                  { name: 'join', id: 80 },
                  { name: 'invite', id: 81 },
                  { name: 'leave', id: 82 },
                  { name: 'kick', id: 83 },
                  { name: 'reject', id: 84 },
                  { name: 'invited', id: 85 },
                  { name: 'kicked', id: 86 },
                  { name: 'upload', id: 100 },
                  { name: 'uploaded', id: 101 },
                  { name: 'subscribe', id: 120 },
                  { name: 'subscribed', id: 121 },
                  { name: 'unsubscribe', id: 122 },
                  { name: 'unsubscribed', id: 123 },
                  { name: 'is_subscribed', id: 124 },
                  { name: 'modify', id: 150 },
                  { name: 'modified', id: 151 },
                  { name: 'block', id: 170 },
                  { name: 'unblock', id: 171 },
                  { name: 'blocked', id: 172 },
                  { name: 'unblocked', id: 173 },
                  { name: 'members_blocked', id: 174 },
                  { name: 'members_unblocked', id: 175 },
                  { name: 'check_block', id: 176 },
                  { name: 'check_result', id: 177 },
                  { name: 'add_shutup', id: 180 },
                  { name: 'remove_shutup', id: 181 },
                  { name: 'query_shutup', id: 182 },
                  { name: 'shutup_added', id: 183 },
                  { name: 'shutup_removed', id: 184 },
                  { name: 'shutup_result', id: 185 },
                  { name: 'shutuped', id: 186 },
                  { name: 'unshutuped', id: 187 },
                  { name: 'members_shutuped', id: 188 },
                  { name: 'members_unshutuped', id: 189 },
                  { name: 'check_shutup', id: 190 },
                ],
              },
              {
                name: 'StatusType',
                syntax: 'proto2',
                values: [
                  { name: 'on', id: 1 },
                  { name: 'off', id: 2 },
                ],
              },
            ],
            isNamespace: !0,
          })
          .build().push_server.messages2,
        F = M.JsonObjectMessage,
        U = M.UnreadTuple,
        Y = M.LogItem,
        V = M.DataCommand,
        D = M.SessionCommand,
        B = M.ErrorCommand,
        q = M.DirectCommand,
        z = M.AckCommand,
        W = M.UnreadCommand,
        G = M.ConvCommand,
        Z = M.RoomCommand,
        $ = M.LogsCommand,
        J = M.RcpCommand,
        K = M.ReadTuple,
        Q = M.MaxReadTuple,
        X = M.ReadCommand,
        H = M.PresenceCommand,
        ee = M.ReportCommand,
        te = M.GenericCommand,
        ne = M.BlacklistCommand,
        re = M.PatchCommand,
        ie = M.PatchItem,
        oe = M.ConvMemberInfo,
        se = M.CommandType,
        ae = M.OpType,
        ue = M.StatusType,
        fe = Object.freeze({
          __proto__: null,
          JsonObjectMessage: F,
          UnreadTuple: U,
          LogItem: Y,
          DataCommand: V,
          SessionCommand: D,
          ErrorCommand: B,
          DirectCommand: q,
          AckCommand: z,
          UnreadCommand: W,
          ConvCommand: G,
          RoomCommand: Z,
          LogsCommand: $,
          RcpCommand: J,
          ReadTuple: K,
          MaxReadTuple: Q,
          ReadCommand: X,
          PresenceCommand: H,
          ReportCommand: ee,
          GenericCommand: te,
          BlacklistCommand: ne,
          PatchCommand: re,
          PatchItem: ie,
          ConvMemberInfo: oe,
          CommandType: se,
          OpType: ae,
          StatusType: ue,
        }),
        le = {},
        ce = function (e) {
          var t = le[e];
          if (void 0 === t) throw new Error(''.concat(e, ' adapter is not configured'));
          return t;
        },
        he = void 0 !== o ? o : 'undefined' != typeof window ? window : {},
        pe = I('expired'),
        de = _('LC:Expirable'),
        me = (function () {
          function e(e, t) {
            (this.originalValue = e), 'number' == typeof t && (this.expiredAt = h() + t);
          }
          return (
            C(e, [
              {
                key: 'value',
                get: function () {
                  var e = this.expiredAt && this.expiredAt <= h();
                  return (
                    e && de('expired: '.concat(this.originalValue)), e ? pe : this.originalValue
                  );
                },
              },
            ]),
            e
          );
        })();
      me.EXPIRED = pe;
      var ye = _('LC:Cache'),
        ge = (function () {
          function e() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 'anonymous';
            (this.name = e), (this._map = {});
          }
          var t = e.prototype;
          return (
            (t.get = function (e) {
              var t = this._map[e];
              if (t) {
                var n = t.value;
                if (n !== me.EXPIRED) return ye('[%s] hit: %s', this.name, e), n;
                delete this._map[e];
              }
              return ye('['.concat(this.name, '] missed: ').concat(e)), null;
            }),
            (t.set = function (e, t, n) {
              ye('[%s] set: %s %d', this.name, e, n), (this._map[e] = new me(t, n));
            }),
            e
          );
        })();
      function ve(e, t) {
        var n = y(e);
        if (c) {
          var r = c(e);
          t &&
            (r = r.filter(function (t) {
              return l(e, t).enumerable;
            })),
            n.push.apply(n, r);
        }
        return n;
      }
      var be,
        we = {
          enable: function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 'LC*';
            return _.enable(e);
          },
          disable: _.disable,
        },
        Ee = function e(t) {
          var n = new r(t[0]);
          return 1 === t.length
            ? n
            : n.catch(function () {
                return e(t.slice(1));
              });
        },
        Te = function (e) {
          return function (t) {
            return e(t), t;
          };
        },
        _e =
          (he.navigator && he.navigator.userAgent && he.navigator.userAgent.indexOf('MSIE 10.'),
          new N()),
        Se = function (e) {
          return _e.has(e) || _e.set(e, {}), _e.get(e);
        },
        Ie = function e(t, n) {
          if (!k(t)) return t;
          var r = (function (e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? arguments[t] : {};
              t % 2
                ? ve(Object(n), !0).forEach(function (t) {
                    b(e, t, n[t]);
                  })
                : f
                ? u(e, f(n))
                : ve(Object(n)).forEach(function (t) {
                    a(e, t, l(n, t));
                  });
            }
            return e;
          })({}, t);
          return (
            y(r).forEach(function (t) {
              var i = r[t];
              i === n ? delete r[t] : (r[t] = e(i, n));
            }),
            r
          );
        },
        Oe = function (e) {
          return (t = JSON.parse(p(e))), Ie(t, null);
          var t;
        },
        Ce = function (e) {
          return x(e) ? e : null == e ? [] : [e];
        },
        Ae =
          'object' === ('undefined' == typeof wx ? 'undefined' : R(wx)) &&
          'function' == typeof wx.connectSocket;
      function Le(e, t) {
        var n = y(e);
        if (c) {
          var r = c(e);
          t &&
            (r = r.filter(function (t) {
              return l(e, t).enumerable;
            })),
            n.push.apply(n, r);
        }
        return n;
      }
      function Pe(e) {
        for (var t = 1; t < arguments.length; t++) {
          var n = null != arguments[t] ? arguments[t] : {};
          t % 2
            ? Le(Object(n), !0).forEach(function (t) {
                b(e, t, n[t]);
              })
            : f
            ? u(e, f(n))
            : Le(Object(n)).forEach(function (t) {
                a(e, t, l(n, t));
              });
        }
        return e;
      }
      var Re = _('LC:WebSocketPlus'),
        Ne = 'open',
        xe = 'disconnect',
        ke = 'reconnect',
        je = 'retry',
        Me = 'schedule',
        Fe = 'offline',
        Ue = 'online',
        Ye = 'error',
        Ve = 'message',
        De = function (e) {
          return Math.min(1e3 * Math.pow(2, e), 3e5);
        },
        Be = function (e, t, n) {
          return Pe(
            Pe({}, n),
            {},
            {
              value: function () {
                var e;
                this.checkConnectionAvailability(t);
                for (var r = arguments.length, i = new Array(r), o = 0; o < r; o++)
                  i[o] = arguments[o];
                return (e = n.value).call.apply(e, [this].concat(i));
              },
            }
          );
        },
        qe =
          (A(
            (be = (function (e) {
              function t(t, n) {
                var i;
                return (
                  (i = e.call(this) || this).init(),
                  (i._protocol = n),
                  r
                    .resolve('function' == typeof t ? t() : t)
                    .then(Ce)
                    .then(function (e) {
                      return (i._urls = e), i._open();
                    })
                    .then(function () {
                      (i.__postponeTimeoutTimer = i._postponeTimeoutTimer.bind(E(i))),
                        he.addEventListener &&
                          ((i.__pause = function () {
                            i.can('pause') && i.pause();
                          }),
                          (i.__resume = function () {
                            i.can('resume') && i.resume();
                          }),
                          he.addEventListener('offline', i.__pause),
                          he.addEventListener('online', i.__resume)),
                        i.open();
                    })
                    .catch(i.throw.bind(E(i))),
                  i
                );
              }
              T(t, e),
                C(t, [
                  {
                    key: 'urls',
                    get: function () {
                      return this._urls;
                    },
                    set: function (e) {
                      this._urls = Ce(e);
                    },
                  },
                ]);
              var n = t.prototype;
              return (
                (n._open = function () {
                  var e = this;
                  return this._createWs(this._urls, this._protocol).then(function (t) {
                    var n = O(e._urls),
                      r = n[0],
                      i = n.slice(1);
                    return (e._urls = [].concat(g(i), [r])), t;
                  });
                }),
                (n._createWs = function (e, t) {
                  var n = this;
                  return Ee(
                    e.map(function (e) {
                      return function (r, i) {
                        Re('connect ['.concat(e, '] ').concat(t));
                        var o = ce('WebSocket'),
                          s = t ? new o(e, t) : new o(e);
                        (s.binaryType = n.binaryType || 'arraybuffer'),
                          (s.onopen = function () {
                            return r(s);
                          }),
                          (s.onclose = function (t) {
                            return t instanceof Error
                              ? i(t)
                              : i(new Error('Failed to connect ['.concat(e, ']')));
                          }),
                          (s.onerror = s.onclose);
                      };
                    })
                  ).then(function (e) {
                    return (
                      (n._ws = e),
                      (n._ws.onclose = n._handleClose.bind(n)),
                      (n._ws.onmessage = n._handleMessage.bind(n)),
                      e
                    );
                  });
                }),
                (n._destroyWs = function () {
                  var e = this._ws;
                  e &&
                    ((e.onopen = null),
                    (e.onclose = null),
                    (e.onerror = null),
                    (e.onmessage = null),
                    (this._ws = null),
                    e.close());
                }),
                (n.onbeforeevent = function (e, t, n) {
                  for (
                    var r = arguments.length, i = new Array(r > 3 ? r - 3 : 0), o = 3;
                    o < r;
                    o++
                  )
                    i[o - 3] = arguments[o];
                  Re(''.concat(e, ': ').concat(t, ' -> ').concat(n, ' %o'), i);
                }),
                (n.onopen = function () {
                  this.emit(Ne);
                }),
                (n.onconnected = function () {
                  this._startConnectionKeeper();
                }),
                (n.onleaveconnected = function (e, t, n) {
                  this._stopConnectionKeeper(),
                    this._destroyWs(),
                    ('offline' !== n && 'disconnected' !== n) || this.emit(xe);
                }),
                (n.onpause = function () {
                  this.emit(Fe);
                }),
                (n.onbeforeresume = function () {
                  this.emit(Ue);
                }),
                (n.onreconnect = function () {
                  this.emit(ke);
                }),
                (n.ondisconnected = function (e, t, n) {
                  var r = this,
                    i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                    o = t === Fe ? 0 : De.call(null, i);
                  Re('schedule attempt='.concat(i, ' delay=').concat(o)),
                    this.emit(Me, i, o),
                    this.__scheduledRetry && clearTimeout(this.__scheduledRetry),
                    (this.__scheduledRetry = setTimeout(function () {
                      r.is('disconnected') && r.retry(i);
                    }, o));
                }),
                (n.onretry = function (e, t, n) {
                  var r = this,
                    i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                  this.emit(je, i),
                    this._open().then(
                      function () {
                        return r.can('reconnect') ? r.reconnect() : r._destroyWs();
                      },
                      function () {
                        return r.can('fail') && r.fail(i + 1);
                      }
                    );
                }),
                (n.onerror = function (e, t, n, r) {
                  this.emit(Ye, r);
                }),
                (n.onclose = function () {
                  he.removeEventListener &&
                    (this.__pause && he.removeEventListener('offline', this.__pause),
                    this.__resume && he.removeEventListener('online', this.__resume));
                }),
                (n.checkConnectionAvailability = function () {
                  var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 'API';
                  if (!this.is('connected')) {
                    var t = this.current;
                    throw (
                      (console.warn(
                        ''.concat(e, ' should not be called when the connection is ').concat(t)
                      ),
                      (this.is('disconnected') || this.is('reconnecting')) &&
                        console.warn(
                          'disconnect and reconnect event should be handled to avoid such calls.'
                        ),
                      new Error('Connection unavailable'))
                    );
                  }
                }),
                (n._ping = function () {
                  Re('ping');
                  try {
                    this.ping();
                  } catch (e) {
                    console.warn('websocket ping error: '.concat(e.message));
                  }
                }),
                (n.ping = function () {
                  this._ws.ping
                    ? this._ws.ping()
                    : console.warn(
                        'The WebSocket implement does not support sending ping frame.\n        Override ping method to use application defined ping/pong mechanism.'
                      );
                }),
                (n._postponeTimeoutTimer = function () {
                  var e = this;
                  Re('_postponeTimeoutTimer'),
                    this._clearTimeoutTimers(),
                    (this._timeoutTimer = setTimeout(function () {
                      Re('timeout'), e.disconnect();
                    }, 38e4));
                }),
                (n._clearTimeoutTimers = function () {
                  this._timeoutTimer && clearTimeout(this._timeoutTimer);
                }),
                (n._startConnectionKeeper = function () {
                  Re('start connection keeper'),
                    (this._heartbeatTimer = setInterval(this._ping.bind(this), 18e4));
                  var e = this._ws.addListener || this._ws.addEventListener;
                  e
                    ? (e.call(this._ws, 'message', this.__postponeTimeoutTimer),
                      e.call(this._ws, 'pong', this.__postponeTimeoutTimer),
                      this._postponeTimeoutTimer())
                    : Re('connection keeper disabled due to the lack of #addEventListener.');
                }),
                (n._stopConnectionKeeper = function () {
                  Re('stop connection keeper');
                  var e = this._ws.removeListener || this._ws.removeEventListener;
                  e &&
                    (e.call(this._ws, 'message', this.__postponeTimeoutTimer),
                    e.call(this._ws, 'pong', this.__postponeTimeoutTimer),
                    this._clearTimeoutTimers()),
                    this._heartbeatTimer && clearInterval(this._heartbeatTimer);
                }),
                (n._handleClose = function (e) {
                  Re('ws closed ['.concat(e.code, '] ').concat(e.reason)),
                    this.isFinished() || this.handleClose(e);
                }),
                (n.handleClose = function () {
                  this.disconnect();
                }),
                (n.send = function (e) {
                  Re('send', e), this._ws.send(e);
                }),
                (n._handleMessage = function (e) {
                  Re('message', e.data), this.handleMessage(e.data);
                }),
                (n.handleMessage = function (e) {
                  this.emit(Ve, e);
                }),
                t
              );
            })(s)).prototype,
            '_ping',
            [Be],
            l(be.prototype, '_ping'),
            be.prototype
          ),
          A(be.prototype, 'send', [Be], l(be.prototype, 'send'), be.prototype),
          be);
      L.create({
        target: qe.prototype,
        initial: { state: 'initialized', event: 'init', defer: !0 },
        terminal: 'closed',
        events: [
          { name: 'open', from: 'initialized', to: 'connected' },
          { name: 'disconnect', from: 'connected', to: 'disconnected' },
          { name: 'retry', from: 'disconnected', to: 'reconnecting' },
          { name: 'fail', from: 'reconnecting', to: 'disconnected' },
          { name: 'reconnect', from: 'reconnecting', to: 'connected' },
          { name: 'pause', from: ['connected', 'disconnected', 'reconnecting'], to: 'offline' },
          {},
          { name: 'resume', from: 'offline', to: 'disconnected' },
          {
            name: 'close',
            from: ['connected', 'disconnected', 'reconnecting', 'offline'],
            to: 'closed',
          },
          { name: 'throw', from: '*', to: 'error' },
        ],
      });
      var ze = j({
          1e3: { name: 'CLOSE_NORMAL' },
          1006: { name: 'CLOSE_ABNORMAL' },
          4100: {
            name: 'APP_NOT_AVAILABLE',
            message: 'App not exists or realtime message service is disabled.',
          },
          4102: { name: 'SIGNATURE_FAILED', message: 'Login signature mismatch.' },
          4103: { name: 'INVALID_LOGIN', message: 'Malformed clientId.' },
          4105: { name: 'SESSION_REQUIRED', message: 'Message sent before session opened.' },
          4107: { name: 'READ_TIMEOUT' },
          4108: { name: 'LOGIN_TIMEOUT' },
          4109: { name: 'FRAME_TOO_LONG' },
          4110: { name: 'INVALID_ORIGIN', message: 'Access denied by domain whitelist.' },
          4111: { name: 'SESSION_CONFLICT' },
          4112: { name: 'SESSION_TOKEN_EXPIRED' },
          4113: { name: 'APP_QUOTA_EXCEEDED', message: 'The daily active users limit exceeded.' },
          4116: { name: 'MESSAGE_SENT_QUOTA_EXCEEDED', message: 'Command sent too fast.' },
          4200: {
            name: 'INTERNAL_ERROR',
            message: 'Internal error, please contact LeanCloud for support.',
          },
          4301: {
            name: 'CONVERSATION_API_FAILED',
            message: 'Upstream Conversatoin API failed, see error.detail for details.',
          },
          4302: {
            name: 'CONVERSATION_SIGNATURE_FAILED',
            message: 'Conversation action signature mismatch.',
          },
          4303: { name: 'CONVERSATION_NOT_FOUND' },
          4304: { name: 'CONVERSATION_FULL' },
          4305: {
            name: 'CONVERSATION_REJECTED_BY_APP',
            message: 'Conversation action rejected by hook.',
          },
          4306: { name: 'CONVERSATION_UPDATE_FAILED' },
          4307: { name: 'CONVERSATION_READ_ONLY' },
          4308: { name: 'CONVERSATION_NOT_ALLOWED' },
          4309: {
            name: 'CONVERSATION_UPDATE_REJECTED',
            message: 'Conversation update rejected because the client is not a member.',
          },
          4310: {
            name: 'CONVERSATION_QUERY_FAILED',
            message: 'Conversation query failed because it is too expansive.',
          },
          4311: { name: 'CONVERSATION_LOG_FAILED' },
          4312: {
            name: 'CONVERSATION_LOG_REJECTED',
            message:
              'Message query rejected because the client is not a member of the conversation.',
          },
          4313: { name: 'SYSTEM_CONVERSATION_REQUIRED' },
          4314: { name: 'NORMAL_CONVERSATION_REQUIRED' },
          4315: { name: 'CONVERSATION_BLACKLISTED', message: 'Blacklisted in the conversation.' },
          4316: { name: 'TRANSIENT_CONVERSATION_REQUIRED' },
          4317: { name: 'CONVERSATION_MEMBERSHIP_REQUIRED' },
          4318: {
            name: 'CONVERSATION_API_QUOTA_EXCEEDED',
            message: 'LeanCloud API quota exceeded. You may upgrade your plan.',
          },
          4323: {
            name: 'TEMPORARY_CONVERSATION_EXPIRED',
            message: 'Temporary conversation expired or does not exist.',
          },
          4401: {
            name: 'INVALID_MESSAGING_TARGET',
            message: 'Conversation does not exist or client is not a member.',
          },
          4402: { name: 'MESSAGE_REJECTED_BY_APP', message: 'Message rejected by hook.' },
          4403: { name: 'MESSAGE_OWNERSHIP_REQUIRED' },
          4404: { name: 'MESSAGE_NOT_FOUND' },
          4405: {
            name: 'MESSAGE_UPDATE_REJECTED_BY_APP',
            message: 'Message update rejected by hook.',
          },
          4406: { name: 'MESSAGE_EDIT_DISABLED' },
          4407: { name: 'MESSAGE_RECALL_DISABLED' },
          5130: {
            name: 'OWNER_PROMOTION_NOT_ALLOWED',
            message: "Updating a member's role to owner is not allowed.",
          },
        }),
        We = j(
          y(ze).reduce(function (e, t) {
            return P(e, b({}, ze[t].name, Number(t)));
          }, {})
        ),
        Ge = function (e) {
          var t = e.code,
            n = e.reason,
            r = e.appCode,
            i = e.detail,
            o = e.error,
            s = n || i || o,
            a = n;
          !s && ze[t] && ((a = ze[t].name), (s = ze[t].message || a)),
            s || (s = 'Unknow Error: '.concat(t));
          var u = new Error(s);
          return P(u, { code: t, appCode: r, detail: i, name: a });
        },
        Ze = _('LC:Connection'),
        $e = I('expire'),
        Je = (function (e) {
          function t(t, n) {
            var r,
              i = n.format,
              o = n.version;
            Ze('initializing Connection');
            var s = 'lc.'.concat(i, '.').concat(o);
            return (
              ((r = e.call(this, t, s) || this)._protocolFormat = i),
              (r._commands = {}),
              (r._serialId = 0),
              r
            );
          }
          T(t, e);
          var n = t.prototype;
          return (
            (n.send = (function () {
              var t = m(
                d.mark(function t(n) {
                  var i,
                    o,
                    s,
                    a = this,
                    u = arguments;
                  return d.wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if (
                              ((i = !(u.length > 1 && void 0 !== u[1]) || u[1]) &&
                                ((this._serialId += 1), (o = this._serialId), (n.i = o)),
                              Ze.enabled && Ze('â %O sent', Oe(n)),
                              'proto2base64' === this._protocolFormat
                                ? (s = n.toBase64())
                                : n.toArrayBuffer && (s = n.toArrayBuffer()),
                              s)
                            ) {
                              t.next = 6;
                              break;
                            }
                            throw new TypeError(''.concat(n, ' is not a GenericCommand'));
                          case 6:
                            if ((e.prototype.send.call(this, s), i)) {
                              t.next = 9;
                              break;
                            }
                            return t.abrupt('return', void 0);
                          case 9:
                            return t.abrupt(
                              'return',
                              new r(function (e, t) {
                                a._commands[o] = {
                                  resolve: e,
                                  reject: t,
                                  timeout: setTimeout(function () {
                                    a._commands[o] &&
                                      (Ze.enabled && Ze('â %O timeout', Oe(n)),
                                      t(
                                        Ge({
                                          error: 'Command Timeout [cmd:'
                                            .concat(n.cmd, ' op:')
                                            .concat(n.op, ']'),
                                          name: 'COMMAND_TIMEOUT',
                                        })
                                      ),
                                      delete a._commands[o]);
                                  }, 2e4),
                                };
                              })
                            );
                          case 10:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
              return function (e) {
                return t.apply(this, arguments);
              };
            })()),
            (n.handleMessage = function (e) {
              var t;
              try {
                (t = te.decode(e)), Ze.enabled && Ze('â %O received', Oe(t));
              } catch (t) {
                return void console.warn('Decode message failed:', t.message, e);
              }
              var n = t.i;
              if (n)
                this._commands[n]
                  ? (clearTimeout(this._commands[n].timeout),
                    t.cmd === se.error
                      ? this._commands[n].reject(Ge(t.errorMessage))
                      : this._commands[n].resolve(t),
                    delete this._commands[n])
                  : console.warn(
                      'Unexpected command received with serialId ['.concat(
                        n,
                        '],\n         which have timed out or never been requested.'
                      )
                    );
              else
                switch (t.cmd) {
                  case se.error:
                    return void this.emit(Ye, Ge(t.errorMessage));
                  case se.goaway:
                    return void this.emit($e);
                  default:
                    this.emit(Ve, t);
                }
            }),
            (n.ping = function () {
              return this.send(new te({ cmd: se.echo })).catch(function (e) {
                return Ze('ping failed:', e);
              });
            }),
            t
          );
        })(qe),
        Ke = _('LC:request'),
        Qe = function (e) {
          var t = e.method,
            n = void 0 === t ? 'GET' : t,
            r = e.url,
            i = e.query,
            o = e.headers,
            s = e.data,
            a = e.timeout,
            u = r;
          if (i) {
            var f = y(i)
              .map(function (e) {
                var t = i[e];
                if (void 0 !== t) {
                  var n = k(t) ? p(t) : t;
                  return ''.concat(encodeURIComponent(e), '=').concat(encodeURIComponent(n));
                }
              })
              .filter(function (e) {
                return e;
              })
              .join('&');
            u = ''.concat(u, '?').concat(f);
          }
          Ke('Req: %O %O %O', n, u, { headers: o, data: s });
          var l = ce('request')(u, { method: n, headers: o, data: s })
            .then(function (e) {
              if (!1 === e.ok) {
                var t = Ge(e.data);
                throw ((t.response = e), t);
              }
              return Ke('Res: %O %O %O', u, e.status, e.data), e.data;
            })
            .catch(function (e) {
              throw (e.response && Ke('Error: %O %O %O', u, e.response.status, e.response.data), e);
            });
          return a ? Fo.timeout(l, a) : l;
        };
      function Xe(e, t) {
        var n = y(e);
        if (c) {
          var r = c(e);
          t &&
            (r = r.filter(function (t) {
              return l(e, t).enumerable;
            })),
            n.push.apply(n, r);
        }
        return n;
      }
      function He(e) {
        for (var t = 1; t < arguments.length; t++) {
          var n = null != arguments[t] ? arguments[t] : {};
          t % 2
            ? Xe(Object(n), !0).forEach(function (t) {
                b(e, t, n[t]);
              })
            : f
            ? u(e, f(n))
            : Xe(Object(n)).forEach(function (t) {
                a(e, t, l(n, t));
              });
        }
        return e;
      }
      var et = _('LC:Realtime'),
        tt = new ge('push-router'),
        nt = {},
        rt = (function (e) {
          function t(n) {
            var r,
              i = n.plugins,
              o = w(n, ['plugins']);
            et('initializing Realtime %s %O', '5.0.0-rc.3', o), (r = e.call(this) || this);
            var s = o.appId;
            if ('string' != typeof s) throw new TypeError('appId ['.concat(s, '] is not a string'));
            if (nt[s]) throw new Error('App ['.concat(s, '] is aleady initialized.'));
            if (((nt[s] = !0), 'string' != typeof o.appKey))
              throw new TypeError('appKey ['.concat(o.appKey, '] is not a string'));
            if (
              (function (e) {
                return '-MdYXbMMI' !== e.slice(-9);
              })(s) &&
              !o.server
            )
              throw new TypeError('server option is required for apps from CN region');
            (r._options = He(
              {
                appId: void 0,
                appKey: void 0,
                pushOfflineMessages: !1,
                noBinary: !1,
                ssl: !0,
                RTMServerName: 'undefined' != typeof process ? process.env.RTM_SERVER_NAME : void 0,
              },
              o
            )),
              (r._cache = new ge('endpoints'));
            var a = Se(E(r));
            (a.clients = new v()), (a.pendingClients = new v());
            var u,
              f,
              l = [].concat(g(Ce(t.__preRegisteredPlugins)), g(Ce(i)));
            return (
              et(
                'Using plugins %o',
                l.map(function (e) {
                  return e.name;
                })
              ),
              (r._plugins = l.reduce(function (e, t) {
                return (
                  y(t).forEach(function (n) {
                    ({}.hasOwnProperty.call(t, n) &&
                      'name' !== n &&
                      (t.name &&
                        Ce(t[n]).forEach(function (e) {
                          e._pluginName = t.name;
                        }),
                      (e[n] = Ce(e[n]).concat(t[n]))));
                  }),
                  e
                );
              }, {})),
              (u = r._plugins.onRealtimeCreate),
              (f = E(r)),
              u &&
                u.forEach(function (e) {
                  try {
                    e(f);
                  } catch (t) {
                    throw (e._pluginName && (t.message += '['.concat(e._pluginName, ']')), t);
                  }
                }),
              r
            );
          }
          T(t, e);
          var n = t.prototype;
          return (
            (n._request = (function () {
              var e = m(
                d.mark(function e(t) {
                  var n, r, i, o, s, a, u, f, l, c, h, p, m, y;
                  return d.wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            if (
                              ((n = t.method),
                              (r = t.url),
                              (i = t.version),
                              (o = void 0 === i ? '1.1' : i),
                              (s = t.path),
                              (a = t.query),
                              (u = t.headers),
                              (f = t.data),
                              (l = r))
                            ) {
                              e.next = 9;
                              break;
                            }
                            return (
                              (c = this._options),
                              (h = c.appId),
                              (p = c.server),
                              (e.next = 6),
                              this.constructor._getServerUrls({ appId: h, server: p })
                            );
                          case 6:
                            (m = e.sent), (y = m.api), (l = ''.concat(y, '/').concat(o).concat(s));
                          case 9:
                            return e.abrupt(
                              'return',
                              Qe({
                                url: l,
                                method: n,
                                query: a,
                                headers: He(
                                  {
                                    'X-LC-Id': this._options.appId,
                                    'X-LC-Key': this._options.appKey,
                                  },
                                  u
                                ),
                                data: f,
                              })
                            );
                          case 10:
                          case 'end':
                            return e.stop();
                        }
                    },
                    e,
                    this
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })()),
            (n._open = function () {
              var e = this;
              if (this._openPromise) return this._openPromise;
              var t = 'protobuf2';
              this._options.noBinary && (t = 'proto2base64');
              var n = 3;
              this._options.pushOfflineMessages && (n = 1);
              var i = { format: t, version: n };
              return (
                (this._openPromise = new r(function (t, n) {
                  et('No connection established, create a new one.');
                  var r = new Je(function () {
                    return e._getRTMServers(e._options);
                  }, i);
                  r
                    .on(Ne, function () {
                      return t(r);
                    })
                    .on(Ye, n)
                    .on(
                      $e,
                      m(
                        d.mark(function t() {
                          return d.wrap(function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  return (
                                    et('Connection expired. Refresh endpoints.'),
                                    e._cache.set('endpoints', null, 0),
                                    (t.next = 4),
                                    e._getRTMServers(e._options)
                                  );
                                case 4:
                                  (r.urls = t.sent), r.disconnect();
                                case 6:
                                case 'end':
                                  return t.stop();
                              }
                          }, t);
                        })
                      )
                    )
                    .on(Ve, e._dispatchCommand.bind(e)),
                    [xe, ke, je, Me, Fe, Ue].forEach(function (t) {
                      return r.on(t, function () {
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)
                          r[i] = arguments[i];
                        et(''.concat(t, ' event emitted. %o'), r),
                          e.emit.apply(e, [t].concat(r)),
                          t !== ke &&
                            Se(e).clients.forEach(function (e) {
                              e.emit.apply(e, [t].concat(r));
                            });
                      });
                    }),
                    (r.handleClose = function (e) {
                      [We.APP_NOT_AVAILABLE, We.INVALID_LOGIN, We.INVALID_ORIGIN].some(function (
                        t
                      ) {
                        return t === e.code;
                      })
                        ? this.throw(Ge(e))
                        : this.disconnect();
                    }),
                    (Se(e).connection = r);
                })),
                this._openPromise
              );
            }),
            (n._getRTMServers = (function () {
              var e = m(
                d.mark(function e(t) {
                  var n, r, i, o, s, a;
                  return d.wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            if (!t.RTMServers) {
                              e.next = 2;
                              break;
                            }
                            return e.abrupt('return', S(Ce(t.RTMServers)));
                          case 2:
                            if (!(r = this._cache.get('endpoints'))) {
                              e.next = 7;
                              break;
                            }
                            (n = r), (e.next = 14);
                            break;
                          case 7:
                            return (e.next = 9), this.constructor._fetchRTMServers(t);
                          case 9:
                            if (
                              ((n = e.sent),
                              (o = (i = n).server),
                              (s = i.secondary),
                              (a = i.ttl),
                              'string' == typeof o || 'string' == typeof s || 'number' == typeof a)
                            ) {
                              e.next = 13;
                              break;
                            }
                            throw new Error('malformed RTM route response: '.concat(p(n)));
                          case 13:
                            this._cache.set('endpoints', n, 1e3 * n.ttl);
                          case 14:
                            return (
                              et('endpoint info: %O', n),
                              e.abrupt('return', [n.server, n.secondary])
                            );
                          case 16:
                          case 'end':
                            return e.stop();
                        }
                    },
                    e,
                    this
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })()),
            (t._getServerUrls = (function () {
              var e = m(
                d.mark(function e(t) {
                  var n, r, i, o;
                  return d.wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (((n = t.appId), (r = t.server), et('fetch server urls'), !r)) {
                            e.next = 6;
                            break;
                          }
                          if ('string' == typeof r) {
                            e.next = 5;
                            break;
                          }
                          return e.abrupt('return', r);
                        case 5:
                          return e.abrupt('return', { RTMRouter: r, api: r });
                        case 6:
                          if (!(i = tt.get(n))) {
                            e.next = 9;
                            break;
                          }
                          return e.abrupt('return', i);
                        case 9:
                          return (
                            (o = 'https://'),
                            e.abrupt(
                              'return',
                              Qe({
                                url: 'https://app-router.com/2/route',
                                query: { appId: n },
                                timeout: 2e4,
                              })
                                .then(Te(et))
                                .then(function (e) {
                                  var t = e.rtm_router_server,
                                    r = e.api_server,
                                    i = e.ttl,
                                    s = void 0 === i ? 3600 : i;
                                  if (!t) throw new Error('rtm router not exists');
                                  var a = {
                                    RTMRouter: ''.concat(o).concat(t),
                                    api: ''.concat(o).concat(r),
                                  };
                                  return tt.set(n, a, 1e3 * s), a;
                                })
                                .catch(function () {
                                  var e = n.slice(0, 8).toLowerCase(),
                                    t = 'lncldglobal.com';
                                  return {
                                    RTMRouter: ''.concat(o).concat(e, '.rtm.').concat(t),
                                    api: ''.concat(o).concat(e, '.api.').concat(t),
                                  };
                                })
                            )
                          );
                        case 11:
                        case 'end':
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })()),
            (t._fetchRTMServers = function (e) {
              var t = e.appId,
                n = e.ssl,
                r = e.server,
                i = e.RTMServerName;
              return (
                et('fetch endpoint info'),
                this._getServerUrls({ appId: t, server: r })
                  .then(Te(et))
                  .then(function (e) {
                    var r = e.RTMRouter;
                    return Qe({
                      url: ''.concat(r, '/v1/route'),
                      query: {
                        appId: t,
                        secure: n,
                        features: Ae ? 'wechat' : void 0,
                        server: i,
                        _t: h(),
                      },
                      timeout: 2e4,
                    }).then(Te(et));
                  })
              );
            }),
            (n._close = function () {
              this._openPromise &&
                this._openPromise.then(function (e) {
                  return e.close();
                }),
                delete this._openPromise;
            }),
            (n.retry = function () {
              var e = Se(this).connection;
              if (!e) throw new Error('no connection established');
              if (e.cannot('retry'))
                throw new Error(
                  'retrying not allowed when not disconnected. the connection is now '.concat(
                    e.current
                  )
                );
              return e.retry();
            }),
            (n.pause = function () {
              var e = Se(this).connection;
              e && e.can('pause') && e.pause();
            }),
            (n.resume = function () {
              var e = Se(this).connection;
              e && e.can('resume') && e.resume();
            }),
            (n._registerPending = function (e) {
              Se(this).pendingClients.add(e);
            }),
            (n._deregisterPending = function (e) {
              Se(this).pendingClients.delete(e);
            }),
            (n._register = function (e) {
              Se(this).clients.add(e);
            }),
            (n._deregister = function (e) {
              var t = Se(this);
              t.clients.delete(e), t.clients.size + t.pendingClients.size === 0 && this._close();
            }),
            (n._dispatchCommand = function (e) {
              return ((t = this._plugins.beforeCommandDispatch),
              (n = [e, this]),
              Ce(t).reduce(function (e, t) {
                return e
                  .then(function (e) {
                    return !1 !== e && t.apply(void 0, g(n));
                  })
                  .catch(function (e) {
                    throw (t._pluginName && (e.message += '['.concat(t._pluginName, ']')), e);
                  });
              }, r.resolve(!0))).then(function (t) {
                return !!t && et('[WARN] Unexpected message received: %O', Oe(e));
              });
              var t, n;
            }),
            t
          );
        })(s),
        it = r;
      (t.EventEmitter = s),
        (t.Promise = it),
        (t.Protocals = fe),
        (t.Protocols = fe),
        (t.Realtime = rt),
        (t.debug = we),
        (t.getAdapter = ce),
        (t.setAdapters = function (e) {
          P(le, e);
        });
    }),
    Yo = s(function (e, t) {
      !(function (e, t) {
        function n(e, t) {
          (e.prototype = Object.create(t.prototype)),
            (e.prototype.constructor = e),
            (e.__proto__ = t);
        }
        function r(e) {
          return i(e) || o(e) || s();
        }
        function i(e) {
          if (Array.isArray(e)) {
            for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
            return n;
          }
        }
        function o(e) {
          if (
            Symbol.iterator in Object(e) ||
            '[object Arguments]' === Object.prototype.toString.call(e)
          )
            return Array.from(e);
        }
        function s() {
          throw new TypeError('Invalid attempt to spread non-iterable instance');
        }
        if (!t.Protocals) throw new Error('LeanCloud Realtime SDK not installed');
        var a = t.Protocals.CommandType,
          u = t.Protocals.GenericCommand,
          f = t.Protocals.AckCommand,
          l = function (e) {
            return console.warn(e.message);
          },
          c = (function (e) {
            function r(n, r, i) {
              var o;
              return (
                ((o = e.call(this) || this)._appId = n),
                (o.id = r),
                (o._connection = i),
                (o._eventemitter = new t.EventEmitter()),
                (o._querys = new Set()),
                o
              );
            }
            n(r, e);
            var i = r.prototype;
            return (
              (i._send = function (e) {
                for (
                  var t, n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), i = 1;
                  i < n;
                  i++
                )
                  r[i - 1] = arguments[i];
                return (t = this._connection).send.apply(
                  t,
                  [
                    Object.assign(e, { appId: this._appId, installationId: this.id, service: 1 }),
                  ].concat(r)
                );
              }),
              (i._open = function () {
                return this._send(new u({ cmd: a.login }));
              }),
              (i.close = function () {
                var e = this._eventemitter;
                return (
                  e.emit('beforeclose'),
                  this._send(new u({ cmd: a.logout })).then(function () {
                    return e.emit('close');
                  })
                );
              }),
              (i.register = function (e) {
                this._querys.add(e);
              }),
              (i.deregister = function (e) {
                var t = this;
                this._querys.delete(e),
                  setTimeout(function () {
                    t._querys.size || t.close().catch(l);
                  }, 0);
              }),
              (i._dispatchCommand = function (e) {
                return e.cmd !== a.data
                  ? (this.emit('unhandledmessage', e), t.Promise.resolve())
                  : this._dispatchDataCommand(e);
              }),
              (i._dispatchDataCommand = function (e) {
                var t = e.dataMessage,
                  n = t.ids,
                  r = t.msg;
                this.emit(
                  'message',
                  r.map(function (e) {
                    var t = e.data;
                    return JSON.parse(t);
                  })
                );
                var i = new u({ cmd: a.ack, ackMessage: new f({ ids: n }) });
                return this._send(i, !1).catch(l);
              }),
              r
            );
          })(t.EventEmitter),
          h = function (e) {
            return [
              function (t) {
                return e(), t;
              },
              function (t) {
                throw (e(), t);
              },
            ];
          },
          p = {
            name: 'leancloud-realtime-plugin-live-query',
            onRealtimeCreate: function (e) {
              (e._liveQueryClients = {}),
                (e.createLiveQueryClient = function (n) {
                  var i;
                  if (void 0 !== e._liveQueryClients[n])
                    return t.Promise.resolve(e._liveQueryClients[n]);
                  var o = (i = e._open().then(function (t) {
                    var r = new c(e._options.appId, n, t);
                    return (
                      t.on('reconnect', function () {
                        return r._open().then(
                          function () {
                            return r.emit('reconnect');
                          },
                          function (e) {
                            return r.emit('reconnecterror', e);
                          }
                        );
                      }),
                      r._eventemitter.on(
                        'beforeclose',
                        function () {
                          delete e._liveQueryClients[r.id];
                        },
                        e
                      ),
                      r._eventemitter.on(
                        'close',
                        function () {
                          e._deregister(r);
                        },
                        e
                      ),
                      r._open().then(function () {
                        return (e._liveQueryClients[r.id] = r), e._register(r), r;
                      })
                    );
                  })).then.apply(
                    i,
                    r(
                      h(function () {
                        e._deregisterPending && e._deregisterPending(o);
                      })
                    )
                  );
                  return (
                    (e._liveQueryClients[n] = o), e._registerPending && e._registerPending(o), o
                  );
                });
            },
            beforeCommandDispatch: function (e, t) {
              if (!e.installationId || 1 !== e.service) return !0;
              var n = t._liveQueryClients[e.installationId];
              return (
                n
                  ? n._dispatchCommand(e).catch(function (e) {
                      return console.warn(e);
                    })
                  : console.warn(
                      'Unexpected message received without any live client match: %O',
                      e
                    ),
                !1
              );
            },
          };
        (e.LiveQueryPlugin = p), Object.defineProperty(e, '__esModule', { value: !0 });
      })(t, Uo);
    }),
    Vo = s(function (e) {
      var t = Object.prototype.hasOwnProperty,
        n = '~';
      function r() {}
      function i(e, t, n) {
        (this.fn = e), (this.context = t), (this.once = n || !1);
      }
      function o(e, t, r, o, s) {
        if ('function' != typeof r) throw new TypeError('The listener must be a function');
        var a = new i(r, o || e, s),
          u = n ? n + t : t;
        return (
          e._events[u]
            ? e._events[u].fn
              ? (e._events[u] = [e._events[u], a])
              : e._events[u].push(a)
            : ((e._events[u] = a), e._eventsCount++),
          e
        );
      }
      function s(e, t) {
        0 == --e._eventsCount ? (e._events = new r()) : delete e._events[t];
      }
      function a() {
        (this._events = new r()), (this._eventsCount = 0);
      }
      Object.create && ((r.prototype = Object.create(null)), new r().__proto__ || (n = !1)),
        (a.prototype.eventNames = function () {
          var e,
            r,
            i = [];
          if (0 === this._eventsCount) return i;
          for (r in (e = this._events)) t.call(e, r) && i.push(n ? r.slice(1) : r);
          return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(e)) : i;
        }),
        (a.prototype.listeners = function (e) {
          var t = n ? n + e : e,
            r = this._events[t];
          if (!r) return [];
          if (r.fn) return [r.fn];
          for (var i = 0, o = r.length, s = new Array(o); i < o; i++) s[i] = r[i].fn;
          return s;
        }),
        (a.prototype.listenerCount = function (e) {
          var t = n ? n + e : e,
            r = this._events[t];
          return r ? (r.fn ? 1 : r.length) : 0;
        }),
        (a.prototype.emit = function (e, t, r, i, o, s) {
          var a = n ? n + e : e;
          if (!this._events[a]) return !1;
          var u,
            f,
            l = this._events[a],
            c = arguments.length;
          if (l.fn) {
            switch ((l.once && this.removeListener(e, l.fn, void 0, !0), c)) {
              case 1:
                return l.fn.call(l.context), !0;
              case 2:
                return l.fn.call(l.context, t), !0;
              case 3:
                return l.fn.call(l.context, t, r), !0;
              case 4:
                return l.fn.call(l.context, t, r, i), !0;
              case 5:
                return l.fn.call(l.context, t, r, i, o), !0;
              case 6:
                return l.fn.call(l.context, t, r, i, o, s), !0;
            }
            for (f = 1, u = new Array(c - 1); f < c; f++) u[f - 1] = arguments[f];
            l.fn.apply(l.context, u);
          } else {
            var h,
              p = l.length;
            for (f = 0; f < p; f++)
              switch ((l[f].once && this.removeListener(e, l[f].fn, void 0, !0), c)) {
                case 1:
                  l[f].fn.call(l[f].context);
                  break;
                case 2:
                  l[f].fn.call(l[f].context, t);
                  break;
                case 3:
                  l[f].fn.call(l[f].context, t, r);
                  break;
                case 4:
                  l[f].fn.call(l[f].context, t, r, i);
                  break;
                default:
                  if (!u) for (h = 1, u = new Array(c - 1); h < c; h++) u[h - 1] = arguments[h];
                  l[f].fn.apply(l[f].context, u);
              }
          }
          return !0;
        }),
        (a.prototype.on = function (e, t, n) {
          return o(this, e, t, n, !1);
        }),
        (a.prototype.once = function (e, t, n) {
          return o(this, e, t, n, !0);
        }),
        (a.prototype.removeListener = function (e, t, r, i) {
          var o = n ? n + e : e;
          if (!this._events[o]) return this;
          if (!t) return s(this, o), this;
          var a = this._events[o];
          if (a.fn) a.fn !== t || (i && !a.once) || (r && a.context !== r) || s(this, o);
          else {
            for (var u = 0, f = [], l = a.length; u < l; u++)
              (a[u].fn !== t || (i && !a[u].once) || (r && a[u].context !== r)) && f.push(a[u]);
            f.length ? (this._events[o] = 1 === f.length ? f[0] : f) : s(this, o);
          }
          return this;
        }),
        (a.prototype.removeAllListeners = function (e) {
          var t;
          return (
            e
              ? ((t = n ? n + e : e), this._events[t] && s(this, t))
              : ((this._events = new r()), (this._eventsCount = 0)),
            this
          );
        }),
        (a.prototype.off = a.prototype.removeListener),
        (a.prototype.addListener = a.prototype.on),
        (a.prefixed = n),
        (a.EventEmitter = a),
        (e.exports = a);
    }),
    Do = 'SUBSCRIPTION_ID';
  function Bo(e) {
    e.register('LiveQuery', Wo),
      e.requestAdapters().then(Uo.setAdapters),
      (ko = e.debug).on('enable', Uo.debug.enable),
      ko.on('disable', Uo.debug.disable),
      ko.enabled && Uo.debug.enable(ko.filter);
  }
  !(function (e) {
    (e[(e.READY = 0)] = 'READY'),
      (e[(e.CONNECTING = 1)] = 'CONNECTING'),
      (e[(e.CONNECTED = 2)] = 'CONNECTED'),
      (e[(e.CLOSING = 3)] = 'CLOSING'),
      (e[(e.CLOSED = 4)] = 'CLOSED');
  })(jo || (jo = {}));
  var qo,
    zo,
    Wo = (function (e) {
      function o(t) {
        var n = e.call(this) || this;
        return (
          (n._state = jo.READY),
          (n._onMessage = function (e) {
            e.forEach(function (e) {
              if (e.query_id === n._queryId) {
                var t = n._query.decodeObject(e.object),
                  r = e.op,
                  i = e.updatedKeys;
                n.emit(r, t, i);
              }
            });
          }),
          (n._onReconnect = function () {
            return r(n, void 0, void 0, function () {
              var e;
              return i(this, function (t) {
                switch (t.label) {
                  case 0:
                    return t.trys.push([0, 2, , 3]), [4, this._app.request(this._subReq)];
                  case 1:
                    return t.sent(), null == ko || ko.log('LiveQuery:reconnect', 'ok'), [3, 3];
                  case 2:
                    throw (
                      ((e = t.sent()),
                      null == ko || ko.log('LiveQuery:reconnect', 'failed: ' + e.message),
                      e)
                    );
                  case 3:
                    return [2];
                }
              });
            });
          }),
          (n._app = t.app),
          (n._query = t),
          n
        );
      }
      return (
        (function (e, n) {
          function r() {
            this.constructor = e;
          }
          t(e, n),
            (e.prototype = null === n ? Object.create(n) : ((r.prototype = n.prototype), new r()));
        })(o, e),
        (o.subscribe = function (e, t) {
          return new o(e)._subscribe(t);
        }),
        (o.prototype._makeSubscribeRequest = function (e) {
          return {
            method: 'POST',
            path: '/LiveQuery/subscribe',
            body: {
              id: e,
              query: {
                className: this._query.className,
                where: this._query.toJSON(),
                returnACL: this._query._returnACL,
              },
            },
          };
        }),
        (o.prototype._subscribe = function (e) {
          return r(this, void 0, void 0, function () {
            var t, r, o, s, a, u;
            return i(this, function (i) {
              switch (i.label) {
                case 0:
                  if (this._state !== jo.READY)
                    throw new Error('You should call subscribe only once');
                  return (this._state = jo.CONNECTING), [4, this._app.storage.getAsync(Do)];
                case 1:
                  return (
                    (t = i.sent()),
                    (this._subReq = this._makeSubscribeRequest(t || void 0)),
                    [4, this._app.request(n(n({}, this._subReq), { options: e }))]
                  );
                case 2:
                  return (
                    (r = i.sent()),
                    (o = r.body),
                    (s = o.id),
                    (a = o.query_id),
                    s === t ? [3, 4] : [4, this._app.storage.setAsync(Do, s)]
                  );
                case 3:
                  i.sent(), (i.label = 4);
                case 4:
                  return (
                    (this._id = s),
                    (this._queryId = a),
                    (this._subReq.body.id = s),
                    (u = this),
                    [4, Go(this._app, s)]
                  );
                case 5:
                  return (
                    (u._client = i.sent()),
                    this._client.on('message', this._onMessage),
                    this._client.on('reconnect', this._onReconnect),
                    (this._state = jo.CONNECTED),
                    [2, this]
                  );
              }
            });
          });
        }),
        (o.prototype.unsubscribe = function () {
          return r(this, void 0, void 0, function () {
            return i(this, function (e) {
              switch (e.label) {
                case 0:
                  if (this._state < jo.CONNECTED)
                    throw new Error('Cannot unsubscribe a unconnected live query');
                  if (this._state === jo.CLOSING || this._state === jo.CLOSED)
                    throw new Error('You should call unsubscribe only once');
                  (this._state = jo.CLOSING), (e.label = 1);
                case 1:
                  return (
                    e.trys.push([1, , 3, 4]),
                    this._client.off('message', this._onMessage),
                    this._client.off('reconnect', this._onReconnect),
                    this._client.close(),
                    [
                      4,
                      this._app.request({
                        method: 'POST',
                        path: '/LiveQuery/unsubscribe',
                        body: { id: this._id, query_id: this._queryId },
                      }),
                    ]
                  );
                case 2:
                  return e.sent(), [3, 4];
                case 3:
                  return (this._state = jo.CLOSED), [7];
                case 4:
                  return [2];
              }
            });
          });
        }),
        (o.install = Bo),
        o
      );
    })(Vo.EventEmitter);
  function Go(e, t) {
    return (function (e) {
      return (
        e.realtimeInstance ||
          (e.realtimeInstance = new Uo.Realtime({
            appId: e.appId,
            appKey: e.appKey,
            server: e.serverURL,
            plugins: [Yo.LiveQueryPlugin],
          })),
        e.realtimeInstance
      );
    })(e).createLiveQueryClient(t);
  }
  null ===
    (zo =
      null ===
        (qo =
          'undefined' != typeof globalThis
            ? globalThis
            : 'undefined' != typeof global
            ? global
            : 'undefined' != typeof window
            ? window
            : void 0) || void 0 === qo
        ? void 0
        : qo.LC) ||
    void 0 === zo ||
    zo.use(Wo),
    (e.LiveQuery = Wo),
    (e.install = Bo),
    Object.defineProperty(e, '__esModule', { value: !0 });
});
